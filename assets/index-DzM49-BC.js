var xz=Object.defineProperty;var _z=(e,t,n)=>t in e?xz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var fv=(e,t,n)=>_z(e,typeof t!="symbol"?t+"":t,n);function wz(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Br(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Sz(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var hv={exports:{}},Eu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eA;function Ez(){if(eA)return Eu;eA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var u in i)u!=="key"&&(a[u]=i[u])}else a=i;return i=a.ref,{$$typeof:e,type:r,key:l,ref:i!==void 0?i:null,props:a}}return Eu.Fragment=t,Eu.jsx=n,Eu.jsxs=n,Eu}var tA;function Tz(){return tA||(tA=1,hv.exports=Ez()),hv.exports}var b=Tz(),pv={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nA;function Az(){if(nA)return Le;nA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),v=Symbol.iterator;function _($){return $===null||typeof $!="object"?null:($=v&&$[v]||$["@@iterator"],typeof $=="function"?$:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function C($,J,ue){this.props=$,this.context=J,this.refs=T,this.updater=ue||S}C.prototype.isReactComponent={},C.prototype.setState=function($,J){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,J,"setState")},C.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function P(){}P.prototype=C.prototype;function I($,J,ue){this.props=$,this.context=J,this.refs=T,this.updater=ue||S}var O=I.prototype=new P;O.constructor=I,E(O,C.prototype),O.isPureReactComponent=!0;var R=Array.isArray;function D(){}var M={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function U($,J,ue){var pe=ue.ref;return{$$typeof:e,type:$,key:J,ref:pe!==void 0?pe:null,props:ue}}function K($,J){return U($.type,J,$.props)}function L($){return typeof $=="object"&&$!==null&&$.$$typeof===e}function q($){var J={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(ue){return J[ue]})}var Z=/\/+/g;function ae($,J){return typeof $=="object"&&$!==null&&$.key!=null?q(""+$.key):J.toString(36)}function se($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(D,D):($.status="pending",$.then(function(J){$.status==="pending"&&($.status="fulfilled",$.value=J)},function(J){$.status==="pending"&&($.status="rejected",$.reason=J)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function j($,J,ue,pe,Ce){var xe=typeof $;(xe==="undefined"||xe==="boolean")&&($=null);var _e=!1;if($===null)_e=!0;else switch(xe){case"bigint":case"string":case"number":_e=!0;break;case"object":switch($.$$typeof){case e:case t:_e=!0;break;case h:return _e=$._init,j(_e($._payload),J,ue,pe,Ce)}}if(_e)return Ce=Ce($),_e=pe===""?"."+ae($,0):pe,R(Ce)?(ue="",_e!=null&&(ue=_e.replace(Z,"$&/")+"/"),j(Ce,J,ue,"",function(ce){return ce})):Ce!=null&&(L(Ce)&&(Ce=K(Ce,ue+(Ce.key==null||$&&$.key===Ce.key?"":(""+Ce.key).replace(Z,"$&/")+"/")+_e)),J.push(Ce)),1;_e=0;var te=pe===""?".":pe+":";if(R($))for(var B=0;B<$.length;B++)pe=$[B],xe=te+ae(pe,B),_e+=j(pe,J,ue,xe,Ce);else if(B=_($),typeof B=="function")for($=B.call($),B=0;!(pe=$.next()).done;)pe=pe.value,xe=te+ae(pe,B++),_e+=j(pe,J,ue,xe,Ce);else if(xe==="object"){if(typeof $.then=="function")return j(se($),J,ue,pe,Ce);throw J=String($),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return _e}function G($,J,ue){if($==null)return $;var pe=[],Ce=0;return j($,pe,"","",function(xe){return J.call(ue,xe,Ce++)}),pe}function W($){if($._status===-1){var J=$._result;J=J(),J.then(function(ue){($._status===0||$._status===-1)&&($._status=1,$._result=ue)},function(ue){($._status===0||$._status===-1)&&($._status=2,$._result=ue)}),$._status===-1&&($._status=0,$._result=J)}if($._status===1)return $._result.default;throw $._result}var re=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},he={map:G,forEach:function($,J,ue){G($,function(){J.apply(this,arguments)},ue)},count:function($){var J=0;return G($,function(){J++}),J},toArray:function($){return G($,function(J){return J})||[]},only:function($){if(!L($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return Le.Activity=m,Le.Children=he,Le.Component=C,Le.Fragment=n,Le.Profiler=i,Le.PureComponent=I,Le.StrictMode=r,Le.Suspense=f,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Le.__COMPILER_RUNTIME={__proto__:null,c:function($){return M.H.useMemoCache($)}},Le.cache=function($){return function(){return $.apply(null,arguments)}},Le.cacheSignal=function(){return null},Le.cloneElement=function($,J,ue){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var pe=E({},$.props),Ce=$.key;if(J!=null)for(xe in J.key!==void 0&&(Ce=""+J.key),J)!z.call(J,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&J.ref===void 0||(pe[xe]=J[xe]);var xe=arguments.length-2;if(xe===1)pe.children=ue;else if(1<xe){for(var _e=Array(xe),te=0;te<xe;te++)_e[te]=arguments[te+2];pe.children=_e}return U($.type,Ce,pe)},Le.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:a,_context:$},$},Le.createElement=function($,J,ue){var pe,Ce={},xe=null;if(J!=null)for(pe in J.key!==void 0&&(xe=""+J.key),J)z.call(J,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(Ce[pe]=J[pe]);var _e=arguments.length-2;if(_e===1)Ce.children=ue;else if(1<_e){for(var te=Array(_e),B=0;B<_e;B++)te[B]=arguments[B+2];Ce.children=te}if($&&$.defaultProps)for(pe in _e=$.defaultProps,_e)Ce[pe]===void 0&&(Ce[pe]=_e[pe]);return U($,xe,Ce)},Le.createRef=function(){return{current:null}},Le.forwardRef=function($){return{$$typeof:u,render:$}},Le.isValidElement=L,Le.lazy=function($){return{$$typeof:h,_payload:{_status:-1,_result:$},_init:W}},Le.memo=function($,J){return{$$typeof:d,type:$,compare:J===void 0?null:J}},Le.startTransition=function($){var J=M.T,ue={};M.T=ue;try{var pe=$(),Ce=M.S;Ce!==null&&Ce(ue,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(D,re)}catch(xe){re(xe)}finally{J!==null&&ue.types!==null&&(J.types=ue.types),M.T=J}},Le.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Le.use=function($){return M.H.use($)},Le.useActionState=function($,J,ue){return M.H.useActionState($,J,ue)},Le.useCallback=function($,J){return M.H.useCallback($,J)},Le.useContext=function($){return M.H.useContext($)},Le.useDebugValue=function(){},Le.useDeferredValue=function($,J){return M.H.useDeferredValue($,J)},Le.useEffect=function($,J){return M.H.useEffect($,J)},Le.useEffectEvent=function($){return M.H.useEffectEvent($)},Le.useId=function(){return M.H.useId()},Le.useImperativeHandle=function($,J,ue){return M.H.useImperativeHandle($,J,ue)},Le.useInsertionEffect=function($,J){return M.H.useInsertionEffect($,J)},Le.useLayoutEffect=function($,J){return M.H.useLayoutEffect($,J)},Le.useMemo=function($,J){return M.H.useMemo($,J)},Le.useOptimistic=function($,J){return M.H.useOptimistic($,J)},Le.useReducer=function($,J,ue){return M.H.useReducer($,J,ue)},Le.useRef=function($){return M.H.useRef($)},Le.useState=function($){return M.H.useState($)},Le.useSyncExternalStore=function($,J,ue){return M.H.useSyncExternalStore($,J,ue)},Le.useTransition=function(){return M.H.useTransition()},Le.version="19.2.4",Le}var rA;function gl(){return rA||(rA=1,pv.exports=Az()),pv.exports}var A=gl();const TR=Br(A),Cz=wz({__proto__:null,default:TR},[A]);var mv={exports:{}},Tu={},gv={exports:{}},vv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iA;function Nz(){return iA||(iA=1,(function(e){function t(j,G){var W=j.length;j.push(G);e:for(;0<W;){var re=W-1>>>1,he=j[re];if(0<i(he,G))j[re]=G,j[W]=he,W=re;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var G=j[0],W=j.pop();if(W!==G){j[0]=W;e:for(var re=0,he=j.length,$=he>>>1;re<$;){var J=2*(re+1)-1,ue=j[J],pe=J+1,Ce=j[pe];if(0>i(ue,W))pe<he&&0>i(Ce,ue)?(j[re]=Ce,j[pe]=W,re=pe):(j[re]=ue,j[J]=W,re=J);else if(pe<he&&0>i(Ce,W))j[re]=Ce,j[pe]=W,re=pe;else break e}}return G}function i(j,G){var W=j.sortIndex-G.sortIndex;return W!==0?W:j.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var f=[],d=[],h=1,m=null,v=3,_=!1,S=!1,E=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function O(j){for(var G=n(d);G!==null;){if(G.callback===null)r(d);else if(G.startTime<=j)r(d),G.sortIndex=G.expirationTime,t(f,G);else break;G=n(d)}}function R(j){if(E=!1,O(j),!S)if(n(f)!==null)S=!0,D||(D=!0,q());else{var G=n(d);G!==null&&se(R,G.startTime-j)}}var D=!1,M=-1,z=5,U=-1;function K(){return T?!0:!(e.unstable_now()-U<z)}function L(){if(T=!1,D){var j=e.unstable_now();U=j;var G=!0;try{e:{S=!1,E&&(E=!1,P(M),M=-1),_=!0;var W=v;try{t:{for(O(j),m=n(f);m!==null&&!(m.expirationTime>j&&K());){var re=m.callback;if(typeof re=="function"){m.callback=null,v=m.priorityLevel;var he=re(m.expirationTime<=j);if(j=e.unstable_now(),typeof he=="function"){m.callback=he,O(j),G=!0;break t}m===n(f)&&r(f),O(j)}else r(f);m=n(f)}if(m!==null)G=!0;else{var $=n(d);$!==null&&se(R,$.startTime-j),G=!1}}break e}finally{m=null,v=W,_=!1}G=void 0}}finally{G?q():D=!1}}}var q;if(typeof I=="function")q=function(){I(L)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ae=Z.port2;Z.port1.onmessage=L,q=function(){ae.postMessage(null)}}else q=function(){C(L,0)};function se(j,G){M=C(function(){j(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(j){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var W=v;v=G;try{return j()}finally{v=W}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function(j,G){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var W=v;v=j;try{return G()}finally{v=W}},e.unstable_scheduleCallback=function(j,G,W){var re=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?re+W:re):W=re,j){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=W+he,j={id:h++,callback:G,priorityLevel:j,startTime:W,expirationTime:he,sortIndex:-1},W>re?(j.sortIndex=W,t(d,j),n(f)===null&&j===n(d)&&(E?(P(M),M=-1):E=!0,se(R,W-re))):(j.sortIndex=he,t(f,j),S||_||(S=!0,D||(D=!0,q()))),j},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(j){var G=v;return function(){var W=v;v=G;try{return j.apply(this,arguments)}finally{v=W}}}})(vv)),vv}var aA;function Oz(){return aA||(aA=1,gv.exports=Nz()),gv.exports}var yv={exports:{}},xn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oA;function Iz(){if(oA)return xn;oA=1;var e=gl();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(f,d,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:f,containerInfo:d,implementation:h}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,xn.createPortal=function(f,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return a(f,d,null,h)},xn.flushSync=function(f){var d=l.T,h=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=d,r.p=h,r.d.f()}},xn.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},xn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},xn.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var h=d.as,m=u(h,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,_=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:v,fetchPriority:_}):h==="script"&&r.d.X(f,{crossOrigin:m,integrity:v,fetchPriority:_,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},xn.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=u(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},xn.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,m=u(h,d.crossOrigin);r.d.L(f,h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},xn.preloadModule=function(f,d){if(typeof f=="string")if(d){var h=u(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},xn.requestFormReset=function(f){r.d.r(f)},xn.unstable_batchedUpdates=function(f,d){return f(d)},xn.useFormState=function(f,d,h){return l.H.useFormState(f,d,h)},xn.useFormStatus=function(){return l.H.useHostTransitionStatus()},xn.version="19.2.4",xn}var sA;function AR(){if(sA)return yv.exports;sA=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),yv.exports=Iz(),yv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lA;function Pz(){if(lA)return Tu;lA=1;var e=Oz(),t=gl(),n=AR();function r(o){var s="https://react.dev/errors/"+o;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+o+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var s=o,c=o;if(o.alternate)for(;s.return;)s=s.return;else{o=s;do s=o,(s.flags&4098)!==0&&(c=s.return),o=s.return;while(o)}return s.tag===3?c:null}function l(o){if(o.tag===13){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function u(o){if(o.tag===31){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function f(o){if(a(o)!==o)throw Error(r(188))}function d(o){var s=o.alternate;if(!s){if(s=a(o),s===null)throw Error(r(188));return s!==o?null:o}for(var c=o,p=s;;){var x=c.return;if(x===null)break;var w=x.alternate;if(w===null){if(p=x.return,p!==null){c=p;continue}break}if(x.child===w.child){for(w=x.child;w;){if(w===c)return f(x),o;if(w===p)return f(x),s;w=w.sibling}throw Error(r(188))}if(c.return!==p.return)c=x,p=w;else{for(var N=!1,k=x.child;k;){if(k===c){N=!0,c=x,p=w;break}if(k===p){N=!0,p=x,c=w;break}k=k.sibling}if(!N){for(k=w.child;k;){if(k===c){N=!0,c=w,p=x;break}if(k===p){N=!0,p=w,c=x;break}k=k.sibling}if(!N)throw Error(r(189))}}if(c.alternate!==p)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?o:s}function h(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o;for(o=o.child;o!==null;){if(s=h(o),s!==null)return s;o=o.sibling}return null}var m=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),P=Symbol.for("react.consumer"),I=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function q(o){return o===null||typeof o!="object"?null:(o=L&&o[L]||o["@@iterator"],typeof o=="function"?o:null)}var Z=Symbol.for("react.client.reference");function ae(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===Z?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case E:return"Fragment";case C:return"Profiler";case T:return"StrictMode";case R:return"Suspense";case D:return"SuspenseList";case U:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case S:return"Portal";case I:return o.displayName||"Context";case P:return(o._context.displayName||"Context")+".Consumer";case O:var s=o.render;return o=o.displayName,o||(o=s.displayName||s.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case M:return s=o.displayName||null,s!==null?s:ae(o.type)||"Memo";case z:s=o._payload,o=o._init;try{return ae(o(s))}catch{}}return null}var se=Array.isArray,j=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},re=[],he=-1;function $(o){return{current:o}}function J(o){0>he||(o.current=re[he],re[he]=null,he--)}function ue(o,s){he++,re[he]=o.current,o.current=s}var pe=$(null),Ce=$(null),xe=$(null),_e=$(null);function te(o,s){switch(ue(xe,s),ue(Ce,o),ue(pe,null),s.nodeType){case 9:case 11:o=(o=s.documentElement)&&(o=o.namespaceURI)?ST(o):0;break;default:if(o=s.tagName,s=s.namespaceURI)s=ST(s),o=ET(s,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}J(pe),ue(pe,o)}function B(){J(pe),J(Ce),J(xe)}function ce(o){o.memoizedState!==null&&ue(_e,o);var s=pe.current,c=ET(s,o.type);s!==c&&(ue(Ce,o),ue(pe,c))}function me(o){Ce.current===o&&(J(pe),J(Ce)),_e.current===o&&(J(_e),xu._currentValue=W)}var oe,De;function ge(o){if(oe===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);oe=s&&s[1]||"",De=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oe+o+De}var yt=!1;function nt(o,s){if(!o||yt)return"";yt=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(s){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(ie){var ne=ie}Reflect.construct(o,[],fe)}else{try{fe.call()}catch(ie){ne=ie}o.call(fe.prototype)}}else{try{throw Error()}catch(ie){ne=ie}(fe=o())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(ie){if(ie&&ne&&typeof ie.stack=="string")return[ie.stack,ne.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var x=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");x&&x.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=p.DetermineComponentFrameRoot(),N=w[0],k=w[1];if(N&&k){var F=N.split(`
`),ee=k.split(`
`);for(x=p=0;p<F.length&&!F[p].includes("DetermineComponentFrameRoot");)p++;for(;x<ee.length&&!ee[x].includes("DetermineComponentFrameRoot");)x++;if(p===F.length||x===ee.length)for(p=F.length-1,x=ee.length-1;1<=p&&0<=x&&F[p]!==ee[x];)x--;for(;1<=p&&0<=x;p--,x--)if(F[p]!==ee[x]){if(p!==1||x!==1)do if(p--,x--,0>x||F[p]!==ee[x]){var le=`
`+F[p].replace(" at new "," at ");return o.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",o.displayName)),le}while(1<=p&&0<=x);break}}}finally{yt=!1,Error.prepareStackTrace=c}return(c=o?o.displayName||o.name:"")?ge(c):""}function bt(o,s){switch(o.tag){case 26:case 27:case 5:return ge(o.type);case 16:return ge("Lazy");case 13:return o.child!==s&&s!==null?ge("Suspense Fallback"):ge("Suspense");case 19:return ge("SuspenseList");case 0:case 15:return nt(o.type,!1);case 11:return nt(o.type.render,!1);case 1:return nt(o.type,!0);case 31:return ge("Activity");default:return""}}function Y(o){try{var s="",c=null;do s+=bt(o,c),c=o,o=o.return;while(o);return s}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var Te=Object.prototype.hasOwnProperty,ve=e.unstable_scheduleCallback,Ne=e.unstable_cancelCallback,Ye=e.unstable_shouldYield,Je=e.unstable_requestPaint,Re=e.unstable_now,st=e.unstable_getCurrentPriorityLevel,cn=e.unstable_ImmediatePriority,Zi=e.unstable_UserBlockingPriority,$c=e.unstable_NormalPriority,tU=e.unstable_LowPriority,rw=e.unstable_IdlePriority,nU=e.log,rU=e.unstable_setDisableYieldValue,Rl=null,Hn=null;function Qi(o){if(typeof nU=="function"&&rU(o),Hn&&typeof Hn.setStrictMode=="function")try{Hn.setStrictMode(Rl,o)}catch{}}var Vn=Math.clz32?Math.clz32:oU,iU=Math.log,aU=Math.LN2;function oU(o){return o>>>=0,o===0?32:31-(iU(o)/aU|0)|0}var Bc=256,qc=262144,Fc=4194304;function Ha(o){var s=o&42;if(s!==0)return s;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function Gc(o,s,c){var p=o.pendingLanes;if(p===0)return 0;var x=0,w=o.suspendedLanes,N=o.pingedLanes;o=o.warmLanes;var k=p&134217727;return k!==0?(p=k&~w,p!==0?x=Ha(p):(N&=k,N!==0?x=Ha(N):c||(c=k&~o,c!==0&&(x=Ha(c))))):(k=p&~w,k!==0?x=Ha(k):N!==0?x=Ha(N):c||(c=p&~o,c!==0&&(x=Ha(c)))),x===0?0:s!==0&&s!==x&&(s&w)===0&&(w=x&-x,c=s&-s,w>=c||w===32&&(c&4194048)!==0)?s:x}function Ml(o,s){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&s)===0}function sU(o,s){switch(o){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iw(){var o=Fc;return Fc<<=1,(Fc&62914560)===0&&(Fc=4194304),o}function em(o){for(var s=[],c=0;31>c;c++)s.push(o);return s}function Dl(o,s){o.pendingLanes|=s,s!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function lU(o,s,c,p,x,w){var N=o.pendingLanes;o.pendingLanes=c,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=c,o.entangledLanes&=c,o.errorRecoveryDisabledLanes&=c,o.shellSuspendCounter=0;var k=o.entanglements,F=o.expirationTimes,ee=o.hiddenUpdates;for(c=N&~c;0<c;){var le=31-Vn(c),fe=1<<le;k[le]=0,F[le]=-1;var ne=ee[le];if(ne!==null)for(ee[le]=null,le=0;le<ne.length;le++){var ie=ne[le];ie!==null&&(ie.lane&=-536870913)}c&=~fe}p!==0&&aw(o,p,0),w!==0&&x===0&&o.tag!==0&&(o.suspendedLanes|=w&~(N&~s))}function aw(o,s,c){o.pendingLanes|=s,o.suspendedLanes&=~s;var p=31-Vn(s);o.entangledLanes|=s,o.entanglements[p]=o.entanglements[p]|1073741824|c&261930}function ow(o,s){var c=o.entangledLanes|=s;for(o=o.entanglements;c;){var p=31-Vn(c),x=1<<p;x&s|o[p]&s&&(o[p]|=s),c&=~x}}function sw(o,s){var c=s&-s;return c=(c&42)!==0?1:tm(c),(c&(o.suspendedLanes|s))!==0?0:c}function tm(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function nm(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function lw(){var o=G.p;return o!==0?o:(o=window.event,o===void 0?32:KT(o.type))}function uw(o,s){var c=G.p;try{return G.p=o,s()}finally{G.p=c}}var ea=Math.random().toString(36).slice(2),dn="__reactFiber$"+ea,Mn="__reactProps$"+ea,Go="__reactContainer$"+ea,rm="__reactEvents$"+ea,uU="__reactListeners$"+ea,cU="__reactHandles$"+ea,cw="__reactResources$"+ea,kl="__reactMarker$"+ea;function im(o){delete o[dn],delete o[Mn],delete o[rm],delete o[uU],delete o[cU]}function Ho(o){var s=o[dn];if(s)return s;for(var c=o.parentNode;c;){if(s=c[Go]||c[dn]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(o=PT(o);o!==null;){if(c=o[dn])return c;o=PT(o)}return s}o=c,c=o.parentNode}return null}function Vo(o){if(o=o[dn]||o[Go]){var s=o.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return o}return null}function jl(o){var s=o.tag;if(s===5||s===26||s===27||s===6)return o.stateNode;throw Error(r(33))}function Ko(o){var s=o[cw];return s||(s=o[cw]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Qt(o){o[kl]=!0}var dw=new Set,fw={};function Va(o,s){Yo(o,s),Yo(o+"Capture",s)}function Yo(o,s){for(fw[o]=s,o=0;o<s.length;o++)dw.add(s[o])}var dU=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hw={},pw={};function fU(o){return Te.call(pw,o)?!0:Te.call(hw,o)?!1:dU.test(o)?pw[o]=!0:(hw[o]=!0,!1)}function Hc(o,s,c){if(fU(s))if(c===null)o.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":o.removeAttribute(s);return;case"boolean":var p=s.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){o.removeAttribute(s);return}}o.setAttribute(s,""+c)}}function Vc(o,s,c){if(c===null)o.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(s);return}o.setAttribute(s,""+c)}}function si(o,s,c,p){if(p===null)o.removeAttribute(c);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttributeNS(s,c,""+p)}}function or(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function mw(o){var s=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function hU(o,s,c){var p=Object.getOwnPropertyDescriptor(o.constructor.prototype,s);if(!o.hasOwnProperty(s)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var x=p.get,w=p.set;return Object.defineProperty(o,s,{configurable:!0,get:function(){return x.call(this)},set:function(N){c=""+N,w.call(this,N)}}),Object.defineProperty(o,s,{enumerable:p.enumerable}),{getValue:function(){return c},setValue:function(N){c=""+N},stopTracking:function(){o._valueTracker=null,delete o[s]}}}}function am(o){if(!o._valueTracker){var s=mw(o)?"checked":"value";o._valueTracker=hU(o,s,""+o[s])}}function gw(o){if(!o)return!1;var s=o._valueTracker;if(!s)return!0;var c=s.getValue(),p="";return o&&(p=mw(o)?o.checked?"true":"false":o.value),o=p,o!==c?(s.setValue(o),!0):!1}function Kc(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var pU=/[\n"\\]/g;function sr(o){return o.replace(pU,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function om(o,s,c,p,x,w,N,k){o.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?o.type=N:o.removeAttribute("type"),s!=null?N==="number"?(s===0&&o.value===""||o.value!=s)&&(o.value=""+or(s)):o.value!==""+or(s)&&(o.value=""+or(s)):N!=="submit"&&N!=="reset"||o.removeAttribute("value"),s!=null?sm(o,N,or(s)):c!=null?sm(o,N,or(c)):p!=null&&o.removeAttribute("value"),x==null&&w!=null&&(o.defaultChecked=!!w),x!=null&&(o.checked=x&&typeof x!="function"&&typeof x!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?o.name=""+or(k):o.removeAttribute("name")}function vw(o,s,c,p,x,w,N,k){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(o.type=w),s!=null||c!=null){if(!(w!=="submit"&&w!=="reset"||s!=null)){am(o);return}c=c!=null?""+or(c):"",s=s!=null?""+or(s):c,k||s===o.value||(o.value=s),o.defaultValue=s}p=p??x,p=typeof p!="function"&&typeof p!="symbol"&&!!p,o.checked=k?o.checked:!!p,o.defaultChecked=!!p,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(o.name=N),am(o)}function sm(o,s,c){s==="number"&&Kc(o.ownerDocument)===o||o.defaultValue===""+c||(o.defaultValue=""+c)}function Wo(o,s,c,p){if(o=o.options,s){s={};for(var x=0;x<c.length;x++)s["$"+c[x]]=!0;for(c=0;c<o.length;c++)x=s.hasOwnProperty("$"+o[c].value),o[c].selected!==x&&(o[c].selected=x),x&&p&&(o[c].defaultSelected=!0)}else{for(c=""+or(c),s=null,x=0;x<o.length;x++){if(o[x].value===c){o[x].selected=!0,p&&(o[x].defaultSelected=!0);return}s!==null||o[x].disabled||(s=o[x])}s!==null&&(s.selected=!0)}}function yw(o,s,c){if(s!=null&&(s=""+or(s),s!==o.value&&(o.value=s),c==null)){o.defaultValue!==s&&(o.defaultValue=s);return}o.defaultValue=c!=null?""+or(c):""}function bw(o,s,c,p){if(s==null){if(p!=null){if(c!=null)throw Error(r(92));if(se(p)){if(1<p.length)throw Error(r(93));p=p[0]}c=p}c==null&&(c=""),s=c}c=or(s),o.defaultValue=c,p=o.textContent,p===c&&p!==""&&p!==null&&(o.value=p),am(o)}function Jo(o,s){if(s){var c=o.firstChild;if(c&&c===o.lastChild&&c.nodeType===3){c.nodeValue=s;return}}o.textContent=s}var mU=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xw(o,s,c){var p=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?p?o.setProperty(s,""):s==="float"?o.cssFloat="":o[s]="":p?o.setProperty(s,c):typeof c!="number"||c===0||mU.has(s)?s==="float"?o.cssFloat=c:o[s]=(""+c).trim():o[s]=c+"px"}function _w(o,s,c){if(s!=null&&typeof s!="object")throw Error(r(62));if(o=o.style,c!=null){for(var p in c)!c.hasOwnProperty(p)||s!=null&&s.hasOwnProperty(p)||(p.indexOf("--")===0?o.setProperty(p,""):p==="float"?o.cssFloat="":o[p]="");for(var x in s)p=s[x],s.hasOwnProperty(x)&&c[x]!==p&&xw(o,x,p)}else for(var w in s)s.hasOwnProperty(w)&&xw(o,w,s[w])}function lm(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gU=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vU=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yc(o){return vU.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function li(){}var um=null;function cm(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Xo=null,Zo=null;function ww(o){var s=Vo(o);if(s&&(o=s.stateNode)){var c=o[Mn]||null;e:switch(o=s.stateNode,s.type){case"input":if(om(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=o;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+sr(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var p=c[s];if(p!==o&&p.form===o.form){var x=p[Mn]||null;if(!x)throw Error(r(90));om(p,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(s=0;s<c.length;s++)p=c[s],p.form===o.form&&gw(p)}break e;case"textarea":yw(o,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&Wo(o,!!c.multiple,s,!1)}}}var dm=!1;function Sw(o,s,c){if(dm)return o(s,c);dm=!0;try{var p=o(s);return p}finally{if(dm=!1,(Xo!==null||Zo!==null)&&(kd(),Xo&&(s=Xo,o=Zo,Zo=Xo=null,ww(s),o)))for(s=0;s<o.length;s++)ww(o[s])}}function Ll(o,s){var c=o.stateNode;if(c===null)return null;var p=c[Mn]||null;if(p===null)return null;c=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(o=o.type,p=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!p;break e;default:o=!1}if(o)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fm=!1;if(ui)try{var Ul={};Object.defineProperty(Ul,"passive",{get:function(){fm=!0}}),window.addEventListener("test",Ul,Ul),window.removeEventListener("test",Ul,Ul)}catch{fm=!1}var ta=null,hm=null,Wc=null;function Ew(){if(Wc)return Wc;var o,s=hm,c=s.length,p,x="value"in ta?ta.value:ta.textContent,w=x.length;for(o=0;o<c&&s[o]===x[o];o++);var N=c-o;for(p=1;p<=N&&s[c-p]===x[w-p];p++);return Wc=x.slice(o,1<p?1-p:void 0)}function Jc(o){var s=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&s===13&&(o=13)):o=s,o===10&&(o=13),32<=o||o===13?o:0}function Xc(){return!0}function Tw(){return!1}function Dn(o){function s(c,p,x,w,N){this._reactName=c,this._targetInst=x,this.type=p,this.nativeEvent=w,this.target=N,this.currentTarget=null;for(var k in o)o.hasOwnProperty(k)&&(c=o[k],this[k]=c?c(w):w[k]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Xc:Tw,this.isPropagationStopped=Tw,this}return m(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Xc)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Xc)},persist:function(){},isPersistent:Xc}),s}var Ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zc=Dn(Ka),zl=m({},Ka,{view:0,detail:0}),yU=Dn(zl),pm,mm,$l,Qc=m({},zl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vm,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==$l&&($l&&o.type==="mousemove"?(pm=o.screenX-$l.screenX,mm=o.screenY-$l.screenY):mm=pm=0,$l=o),pm)},movementY:function(o){return"movementY"in o?o.movementY:mm}}),Aw=Dn(Qc),bU=m({},Qc,{dataTransfer:0}),xU=Dn(bU),_U=m({},zl,{relatedTarget:0}),gm=Dn(_U),wU=m({},Ka,{animationName:0,elapsedTime:0,pseudoElement:0}),SU=Dn(wU),EU=m({},Ka,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),TU=Dn(EU),AU=m({},Ka,{data:0}),Cw=Dn(AU),CU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IU(o){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(o):(o=OU[o])?!!s[o]:!1}function vm(){return IU}var PU=m({},zl,{key:function(o){if(o.key){var s=CU[o.key]||o.key;if(s!=="Unidentified")return s}return o.type==="keypress"?(o=Jc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?NU[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vm,charCode:function(o){return o.type==="keypress"?Jc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Jc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),RU=Dn(PU),MU=m({},Qc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nw=Dn(MU),DU=m({},zl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vm}),kU=Dn(DU),jU=m({},Ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),LU=Dn(jU),UU=m({},Qc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),zU=Dn(UU),$U=m({},Ka,{newState:0,oldState:0}),BU=Dn($U),qU=[9,13,27,32],ym=ui&&"CompositionEvent"in window,Bl=null;ui&&"documentMode"in document&&(Bl=document.documentMode);var FU=ui&&"TextEvent"in window&&!Bl,Ow=ui&&(!ym||Bl&&8<Bl&&11>=Bl),Iw=" ",Pw=!1;function Rw(o,s){switch(o){case"keyup":return qU.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mw(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Qo=!1;function GU(o,s){switch(o){case"compositionend":return Mw(s);case"keypress":return s.which!==32?null:(Pw=!0,Iw);case"textInput":return o=s.data,o===Iw&&Pw?null:o;default:return null}}function HU(o,s){if(Qo)return o==="compositionend"||!ym&&Rw(o,s)?(o=Ew(),Wc=hm=ta=null,Qo=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ow&&s.locale!=="ko"?null:s.data;default:return null}}var VU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dw(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s==="input"?!!VU[o.type]:s==="textarea"}function kw(o,s,c,p){Xo?Zo?Zo.push(p):Zo=[p]:Xo=p,s=qd(s,"onChange"),0<s.length&&(c=new Zc("onChange","change",null,c,p),o.push({event:c,listeners:s}))}var ql=null,Fl=null;function KU(o){vT(o,0)}function ed(o){var s=jl(o);if(gw(s))return o}function jw(o,s){if(o==="change")return s}var Lw=!1;if(ui){var bm;if(ui){var xm="oninput"in document;if(!xm){var Uw=document.createElement("div");Uw.setAttribute("oninput","return;"),xm=typeof Uw.oninput=="function"}bm=xm}else bm=!1;Lw=bm&&(!document.documentMode||9<document.documentMode)}function zw(){ql&&(ql.detachEvent("onpropertychange",$w),Fl=ql=null)}function $w(o){if(o.propertyName==="value"&&ed(Fl)){var s=[];kw(s,Fl,o,cm(o)),Sw(KU,s)}}function YU(o,s,c){o==="focusin"?(zw(),ql=s,Fl=c,ql.attachEvent("onpropertychange",$w)):o==="focusout"&&zw()}function WU(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return ed(Fl)}function JU(o,s){if(o==="click")return ed(s)}function XU(o,s){if(o==="input"||o==="change")return ed(s)}function ZU(o,s){return o===s&&(o!==0||1/o===1/s)||o!==o&&s!==s}var Kn=typeof Object.is=="function"?Object.is:ZU;function Gl(o,s){if(Kn(o,s))return!0;if(typeof o!="object"||o===null||typeof s!="object"||s===null)return!1;var c=Object.keys(o),p=Object.keys(s);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var x=c[p];if(!Te.call(s,x)||!Kn(o[x],s[x]))return!1}return!0}function Bw(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function qw(o,s){var c=Bw(o);o=0;for(var p;c;){if(c.nodeType===3){if(p=o+c.textContent.length,o<=s&&p>=s)return{node:c,offset:s-o};o=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Bw(c)}}function Fw(o,s){return o&&s?o===s?!0:o&&o.nodeType===3?!1:s&&s.nodeType===3?Fw(o,s.parentNode):"contains"in o?o.contains(s):o.compareDocumentPosition?!!(o.compareDocumentPosition(s)&16):!1:!1}function Gw(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var s=Kc(o.document);s instanceof o.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)o=s.contentWindow;else break;s=Kc(o.document)}return s}function _m(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s&&(s==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||s==="textarea"||o.contentEditable==="true")}var QU=ui&&"documentMode"in document&&11>=document.documentMode,es=null,wm=null,Hl=null,Sm=!1;function Hw(o,s,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Sm||es==null||es!==Kc(p)||(p=es,"selectionStart"in p&&_m(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Hl&&Gl(Hl,p)||(Hl=p,p=qd(wm,"onSelect"),0<p.length&&(s=new Zc("onSelect","select",null,s,c),o.push({event:s,listeners:p}),s.target=es)))}function Ya(o,s){var c={};return c[o.toLowerCase()]=s.toLowerCase(),c["Webkit"+o]="webkit"+s,c["Moz"+o]="moz"+s,c}var ts={animationend:Ya("Animation","AnimationEnd"),animationiteration:Ya("Animation","AnimationIteration"),animationstart:Ya("Animation","AnimationStart"),transitionrun:Ya("Transition","TransitionRun"),transitionstart:Ya("Transition","TransitionStart"),transitioncancel:Ya("Transition","TransitionCancel"),transitionend:Ya("Transition","TransitionEnd")},Em={},Vw={};ui&&(Vw=document.createElement("div").style,"AnimationEvent"in window||(delete ts.animationend.animation,delete ts.animationiteration.animation,delete ts.animationstart.animation),"TransitionEvent"in window||delete ts.transitionend.transition);function Wa(o){if(Em[o])return Em[o];if(!ts[o])return o;var s=ts[o],c;for(c in s)if(s.hasOwnProperty(c)&&c in Vw)return Em[o]=s[c];return o}var Kw=Wa("animationend"),Yw=Wa("animationiteration"),Ww=Wa("animationstart"),e4=Wa("transitionrun"),t4=Wa("transitionstart"),n4=Wa("transitioncancel"),Jw=Wa("transitionend"),Xw=new Map,Tm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Tm.push("scrollEnd");function Ar(o,s){Xw.set(o,s),Va(s,[o])}var td=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},lr=[],ns=0,Am=0;function nd(){for(var o=ns,s=Am=ns=0;s<o;){var c=lr[s];lr[s++]=null;var p=lr[s];lr[s++]=null;var x=lr[s];lr[s++]=null;var w=lr[s];if(lr[s++]=null,p!==null&&x!==null){var N=p.pending;N===null?x.next=x:(x.next=N.next,N.next=x),p.pending=x}w!==0&&Zw(c,x,w)}}function rd(o,s,c,p){lr[ns++]=o,lr[ns++]=s,lr[ns++]=c,lr[ns++]=p,Am|=p,o.lanes|=p,o=o.alternate,o!==null&&(o.lanes|=p)}function Cm(o,s,c,p){return rd(o,s,c,p),id(o)}function Ja(o,s){return rd(o,null,null,s),id(o)}function Zw(o,s,c){o.lanes|=c;var p=o.alternate;p!==null&&(p.lanes|=c);for(var x=!1,w=o.return;w!==null;)w.childLanes|=c,p=w.alternate,p!==null&&(p.childLanes|=c),w.tag===22&&(o=w.stateNode,o===null||o._visibility&1||(x=!0)),o=w,w=w.return;return o.tag===3?(w=o.stateNode,x&&s!==null&&(x=31-Vn(c),o=w.hiddenUpdates,p=o[x],p===null?o[x]=[s]:p.push(s),s.lane=c|536870912),w):null}function id(o){if(50<hu)throw hu=0,jg=null,Error(r(185));for(var s=o.return;s!==null;)o=s,s=o.return;return o.tag===3?o.stateNode:null}var rs={};function r4(o,s,c,p){this.tag=o,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(o,s,c,p){return new r4(o,s,c,p)}function Nm(o){return o=o.prototype,!(!o||!o.isReactComponent)}function ci(o,s){var c=o.alternate;return c===null?(c=Yn(o.tag,s,o.key,o.mode),c.elementType=o.elementType,c.type=o.type,c.stateNode=o.stateNode,c.alternate=o,o.alternate=c):(c.pendingProps=s,c.type=o.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=o.flags&65011712,c.childLanes=o.childLanes,c.lanes=o.lanes,c.child=o.child,c.memoizedProps=o.memoizedProps,c.memoizedState=o.memoizedState,c.updateQueue=o.updateQueue,s=o.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=o.sibling,c.index=o.index,c.ref=o.ref,c.refCleanup=o.refCleanup,c}function Qw(o,s){o.flags&=65011714;var c=o.alternate;return c===null?(o.childLanes=0,o.lanes=s,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,s=c.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),o}function ad(o,s,c,p,x,w){var N=0;if(p=o,typeof o=="function")Nm(o)&&(N=1);else if(typeof o=="string")N=lz(o,c,pe.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case U:return o=Yn(31,c,s,x),o.elementType=U,o.lanes=w,o;case E:return Xa(c.children,x,w,s);case T:N=8,x|=24;break;case C:return o=Yn(12,c,s,x|2),o.elementType=C,o.lanes=w,o;case R:return o=Yn(13,c,s,x),o.elementType=R,o.lanes=w,o;case D:return o=Yn(19,c,s,x),o.elementType=D,o.lanes=w,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case I:N=10;break e;case P:N=9;break e;case O:N=11;break e;case M:N=14;break e;case z:N=16,p=null;break e}N=29,c=Error(r(130,o===null?"null":typeof o,"")),p=null}return s=Yn(N,c,s,x),s.elementType=o,s.type=p,s.lanes=w,s}function Xa(o,s,c,p){return o=Yn(7,o,p,s),o.lanes=c,o}function Om(o,s,c){return o=Yn(6,o,null,s),o.lanes=c,o}function eS(o){var s=Yn(18,null,null,0);return s.stateNode=o,s}function Im(o,s,c){return s=Yn(4,o.children!==null?o.children:[],o.key,s),s.lanes=c,s.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},s}var tS=new WeakMap;function ur(o,s){if(typeof o=="object"&&o!==null){var c=tS.get(o);return c!==void 0?c:(s={value:o,source:s,stack:Y(s)},tS.set(o,s),s)}return{value:o,source:s,stack:Y(s)}}var is=[],as=0,od=null,Vl=0,cr=[],dr=0,na=null,Gr=1,Hr="";function di(o,s){is[as++]=Vl,is[as++]=od,od=o,Vl=s}function nS(o,s,c){cr[dr++]=Gr,cr[dr++]=Hr,cr[dr++]=na,na=o;var p=Gr;o=Hr;var x=32-Vn(p)-1;p&=~(1<<x),c+=1;var w=32-Vn(s)+x;if(30<w){var N=x-x%5;w=(p&(1<<N)-1).toString(32),p>>=N,x-=N,Gr=1<<32-Vn(s)+x|c<<x|p,Hr=w+o}else Gr=1<<w|c<<x|p,Hr=o}function Pm(o){o.return!==null&&(di(o,1),nS(o,1,0))}function Rm(o){for(;o===od;)od=is[--as],is[as]=null,Vl=is[--as],is[as]=null;for(;o===na;)na=cr[--dr],cr[dr]=null,Hr=cr[--dr],cr[dr]=null,Gr=cr[--dr],cr[dr]=null}function rS(o,s){cr[dr++]=Gr,cr[dr++]=Hr,cr[dr++]=na,Gr=s.id,Hr=s.overflow,na=o}var fn=null,xt=null,Ke=!1,ra=null,fr=!1,Mm=Error(r(519));function ia(o){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Kl(ur(s,o)),Mm}function iS(o){var s=o.stateNode,c=o.type,p=o.memoizedProps;switch(s[dn]=o,s[Mn]=p,c){case"dialog":Ge("cancel",s),Ge("close",s);break;case"iframe":case"object":case"embed":Ge("load",s);break;case"video":case"audio":for(c=0;c<mu.length;c++)Ge(mu[c],s);break;case"source":Ge("error",s);break;case"img":case"image":case"link":Ge("error",s),Ge("load",s);break;case"details":Ge("toggle",s);break;case"input":Ge("invalid",s),vw(s,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Ge("invalid",s);break;case"textarea":Ge("invalid",s),bw(s,p.value,p.defaultValue,p.children)}c=p.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||p.suppressHydrationWarning===!0||_T(s.textContent,c)?(p.popover!=null&&(Ge("beforetoggle",s),Ge("toggle",s)),p.onScroll!=null&&Ge("scroll",s),p.onScrollEnd!=null&&Ge("scrollend",s),p.onClick!=null&&(s.onclick=li),s=!0):s=!1,s||ia(o,!0)}function aS(o){for(fn=o.return;fn;)switch(fn.tag){case 5:case 31:case 13:fr=!1;return;case 27:case 3:fr=!0;return;default:fn=fn.return}}function os(o){if(o!==fn)return!1;if(!Ke)return aS(o),Ke=!0,!1;var s=o.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=o.type,c=!(c!=="form"&&c!=="button")||Xg(o.type,o.memoizedProps)),c=!c),c&&xt&&ia(o),aS(o),s===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));xt=IT(o)}else if(s===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));xt=IT(o)}else s===27?(s=xt,ya(o.type)?(o=nv,nv=null,xt=o):xt=s):xt=fn?pr(o.stateNode.nextSibling):null;return!0}function Za(){xt=fn=null,Ke=!1}function Dm(){var o=ra;return o!==null&&(Un===null?Un=o:Un.push.apply(Un,o),ra=null),o}function Kl(o){ra===null?ra=[o]:ra.push(o)}var km=$(null),Qa=null,fi=null;function aa(o,s,c){ue(km,s._currentValue),s._currentValue=c}function hi(o){o._currentValue=km.current,J(km)}function jm(o,s,c){for(;o!==null;){var p=o.alternate;if((o.childLanes&s)!==s?(o.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),o===c)break;o=o.return}}function Lm(o,s,c,p){var x=o.child;for(x!==null&&(x.return=o);x!==null;){var w=x.dependencies;if(w!==null){var N=x.child;w=w.firstContext;e:for(;w!==null;){var k=w;w=x;for(var F=0;F<s.length;F++)if(k.context===s[F]){w.lanes|=c,k=w.alternate,k!==null&&(k.lanes|=c),jm(w.return,c,o),p||(N=null);break e}w=k.next}}else if(x.tag===18){if(N=x.return,N===null)throw Error(r(341));N.lanes|=c,w=N.alternate,w!==null&&(w.lanes|=c),jm(N,c,o),N=null}else N=x.child;if(N!==null)N.return=x;else for(N=x;N!==null;){if(N===o){N=null;break}if(x=N.sibling,x!==null){x.return=N.return,N=x;break}N=N.return}x=N}}function ss(o,s,c,p){o=null;for(var x=s,w=!1;x!==null;){if(!w){if((x.flags&524288)!==0)w=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var N=x.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var k=x.type;Kn(x.pendingProps.value,N.value)||(o!==null?o.push(k):o=[k])}}else if(x===_e.current){if(N=x.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(o!==null?o.push(xu):o=[xu])}x=x.return}o!==null&&Lm(s,o,c,p),s.flags|=262144}function sd(o){for(o=o.firstContext;o!==null;){if(!Kn(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function eo(o){Qa=o,fi=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function hn(o){return oS(Qa,o)}function ld(o,s){return Qa===null&&eo(o),oS(o,s)}function oS(o,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},fi===null){if(o===null)throw Error(r(308));fi=s,o.dependencies={lanes:0,firstContext:s},o.flags|=524288}else fi=fi.next=s;return c}var i4=typeof AbortController<"u"?AbortController:function(){var o=[],s=this.signal={aborted:!1,addEventListener:function(c,p){o.push(p)}};this.abort=function(){s.aborted=!0,o.forEach(function(c){return c()})}},a4=e.unstable_scheduleCallback,o4=e.unstable_NormalPriority,Ut={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Um(){return{controller:new i4,data:new Map,refCount:0}}function Yl(o){o.refCount--,o.refCount===0&&a4(o4,function(){o.controller.abort()})}var Wl=null,zm=0,ls=0,us=null;function s4(o,s){if(Wl===null){var c=Wl=[];zm=0,ls=qg(),us={status:"pending",value:void 0,then:function(p){c.push(p)}}}return zm++,s.then(sS,sS),s}function sS(){if(--zm===0&&Wl!==null){us!==null&&(us.status="fulfilled");var o=Wl;Wl=null,ls=0,us=null;for(var s=0;s<o.length;s++)(0,o[s])()}}function l4(o,s){var c=[],p={status:"pending",value:null,reason:null,then:function(x){c.push(x)}};return o.then(function(){p.status="fulfilled",p.value=s;for(var x=0;x<c.length;x++)(0,c[x])(s)},function(x){for(p.status="rejected",p.reason=x,x=0;x<c.length;x++)(0,c[x])(void 0)}),p}var lS=j.S;j.S=function(o,s){HE=Re(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&s4(o,s),lS!==null&&lS(o,s)};var to=$(null);function $m(){var o=to.current;return o!==null?o:ht.pooledCache}function ud(o,s){s===null?ue(to,to.current):ue(to,s.pool)}function uS(){var o=$m();return o===null?null:{parent:Ut._currentValue,pool:o}}var cs=Error(r(460)),Bm=Error(r(474)),cd=Error(r(542)),dd={then:function(){}};function cS(o){return o=o.status,o==="fulfilled"||o==="rejected"}function dS(o,s,c){switch(c=o[c],c===void 0?o.push(s):c!==s&&(s.then(li,li),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,hS(o),o;default:if(typeof s.status=="string")s.then(li,li);else{if(o=ht,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=s,o.status="pending",o.then(function(p){if(s.status==="pending"){var x=s;x.status="fulfilled",x.value=p}},function(p){if(s.status==="pending"){var x=s;x.status="rejected",x.reason=p}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw o=s.reason,hS(o),o}throw ro=s,cs}}function no(o){try{var s=o._init;return s(o._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(ro=c,cs):c}}var ro=null;function fS(){if(ro===null)throw Error(r(459));var o=ro;return ro=null,o}function hS(o){if(o===cs||o===cd)throw Error(r(483))}var ds=null,Jl=0;function fd(o){var s=Jl;return Jl+=1,ds===null&&(ds=[]),dS(ds,o,s)}function Xl(o,s){s=s.props.ref,o.ref=s!==void 0?s:null}function hd(o,s){throw s.$$typeof===v?Error(r(525)):(o=Object.prototype.toString.call(s),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":o)))}function pS(o){function s(V,H){if(o){var Q=V.deletions;Q===null?(V.deletions=[H],V.flags|=16):Q.push(H)}}function c(V,H){if(!o)return null;for(;H!==null;)s(V,H),H=H.sibling;return null}function p(V){for(var H=new Map;V!==null;)V.key!==null?H.set(V.key,V):H.set(V.index,V),V=V.sibling;return H}function x(V,H){return V=ci(V,H),V.index=0,V.sibling=null,V}function w(V,H,Q){return V.index=Q,o?(Q=V.alternate,Q!==null?(Q=Q.index,Q<H?(V.flags|=67108866,H):Q):(V.flags|=67108866,H)):(V.flags|=1048576,H)}function N(V){return o&&V.alternate===null&&(V.flags|=67108866),V}function k(V,H,Q,de){return H===null||H.tag!==6?(H=Om(Q,V.mode,de),H.return=V,H):(H=x(H,Q),H.return=V,H)}function F(V,H,Q,de){var Ie=Q.type;return Ie===E?le(V,H,Q.props.children,de,Q.key):H!==null&&(H.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===z&&no(Ie)===H.type)?(H=x(H,Q.props),Xl(H,Q),H.return=V,H):(H=ad(Q.type,Q.key,Q.props,null,V.mode,de),Xl(H,Q),H.return=V,H)}function ee(V,H,Q,de){return H===null||H.tag!==4||H.stateNode.containerInfo!==Q.containerInfo||H.stateNode.implementation!==Q.implementation?(H=Im(Q,V.mode,de),H.return=V,H):(H=x(H,Q.children||[]),H.return=V,H)}function le(V,H,Q,de,Ie){return H===null||H.tag!==7?(H=Xa(Q,V.mode,de,Ie),H.return=V,H):(H=x(H,Q),H.return=V,H)}function fe(V,H,Q){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Om(""+H,V.mode,Q),H.return=V,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case _:return Q=ad(H.type,H.key,H.props,null,V.mode,Q),Xl(Q,H),Q.return=V,Q;case S:return H=Im(H,V.mode,Q),H.return=V,H;case z:return H=no(H),fe(V,H,Q)}if(se(H)||q(H))return H=Xa(H,V.mode,Q,null),H.return=V,H;if(typeof H.then=="function")return fe(V,fd(H),Q);if(H.$$typeof===I)return fe(V,ld(V,H),Q);hd(V,H)}return null}function ne(V,H,Q,de){var Ie=H!==null?H.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ie!==null?null:k(V,H,""+Q,de);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case _:return Q.key===Ie?F(V,H,Q,de):null;case S:return Q.key===Ie?ee(V,H,Q,de):null;case z:return Q=no(Q),ne(V,H,Q,de)}if(se(Q)||q(Q))return Ie!==null?null:le(V,H,Q,de,null);if(typeof Q.then=="function")return ne(V,H,fd(Q),de);if(Q.$$typeof===I)return ne(V,H,ld(V,Q),de);hd(V,Q)}return null}function ie(V,H,Q,de,Ie){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return V=V.get(Q)||null,k(H,V,""+de,Ie);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case _:return V=V.get(de.key===null?Q:de.key)||null,F(H,V,de,Ie);case S:return V=V.get(de.key===null?Q:de.key)||null,ee(H,V,de,Ie);case z:return de=no(de),ie(V,H,Q,de,Ie)}if(se(de)||q(de))return V=V.get(Q)||null,le(H,V,de,Ie,null);if(typeof de.then=="function")return ie(V,H,Q,fd(de),Ie);if(de.$$typeof===I)return ie(V,H,Q,ld(H,de),Ie);hd(H,de)}return null}function Se(V,H,Q,de){for(var Ie=null,Xe=null,Ae=H,$e=H=0,Ve=null;Ae!==null&&$e<Q.length;$e++){Ae.index>$e?(Ve=Ae,Ae=null):Ve=Ae.sibling;var Ze=ne(V,Ae,Q[$e],de);if(Ze===null){Ae===null&&(Ae=Ve);break}o&&Ae&&Ze.alternate===null&&s(V,Ae),H=w(Ze,H,$e),Xe===null?Ie=Ze:Xe.sibling=Ze,Xe=Ze,Ae=Ve}if($e===Q.length)return c(V,Ae),Ke&&di(V,$e),Ie;if(Ae===null){for(;$e<Q.length;$e++)Ae=fe(V,Q[$e],de),Ae!==null&&(H=w(Ae,H,$e),Xe===null?Ie=Ae:Xe.sibling=Ae,Xe=Ae);return Ke&&di(V,$e),Ie}for(Ae=p(Ae);$e<Q.length;$e++)Ve=ie(Ae,V,$e,Q[$e],de),Ve!==null&&(o&&Ve.alternate!==null&&Ae.delete(Ve.key===null?$e:Ve.key),H=w(Ve,H,$e),Xe===null?Ie=Ve:Xe.sibling=Ve,Xe=Ve);return o&&Ae.forEach(function(Sa){return s(V,Sa)}),Ke&&di(V,$e),Ie}function Pe(V,H,Q,de){if(Q==null)throw Error(r(151));for(var Ie=null,Xe=null,Ae=H,$e=H=0,Ve=null,Ze=Q.next();Ae!==null&&!Ze.done;$e++,Ze=Q.next()){Ae.index>$e?(Ve=Ae,Ae=null):Ve=Ae.sibling;var Sa=ne(V,Ae,Ze.value,de);if(Sa===null){Ae===null&&(Ae=Ve);break}o&&Ae&&Sa.alternate===null&&s(V,Ae),H=w(Sa,H,$e),Xe===null?Ie=Sa:Xe.sibling=Sa,Xe=Sa,Ae=Ve}if(Ze.done)return c(V,Ae),Ke&&di(V,$e),Ie;if(Ae===null){for(;!Ze.done;$e++,Ze=Q.next())Ze=fe(V,Ze.value,de),Ze!==null&&(H=w(Ze,H,$e),Xe===null?Ie=Ze:Xe.sibling=Ze,Xe=Ze);return Ke&&di(V,$e),Ie}for(Ae=p(Ae);!Ze.done;$e++,Ze=Q.next())Ze=ie(Ae,V,$e,Ze.value,de),Ze!==null&&(o&&Ze.alternate!==null&&Ae.delete(Ze.key===null?$e:Ze.key),H=w(Ze,H,$e),Xe===null?Ie=Ze:Xe.sibling=Ze,Xe=Ze);return o&&Ae.forEach(function(bz){return s(V,bz)}),Ke&&di(V,$e),Ie}function ct(V,H,Q,de){if(typeof Q=="object"&&Q!==null&&Q.type===E&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case _:e:{for(var Ie=Q.key;H!==null;){if(H.key===Ie){if(Ie=Q.type,Ie===E){if(H.tag===7){c(V,H.sibling),de=x(H,Q.props.children),de.return=V,V=de;break e}}else if(H.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===z&&no(Ie)===H.type){c(V,H.sibling),de=x(H,Q.props),Xl(de,Q),de.return=V,V=de;break e}c(V,H);break}else s(V,H);H=H.sibling}Q.type===E?(de=Xa(Q.props.children,V.mode,de,Q.key),de.return=V,V=de):(de=ad(Q.type,Q.key,Q.props,null,V.mode,de),Xl(de,Q),de.return=V,V=de)}return N(V);case S:e:{for(Ie=Q.key;H!==null;){if(H.key===Ie)if(H.tag===4&&H.stateNode.containerInfo===Q.containerInfo&&H.stateNode.implementation===Q.implementation){c(V,H.sibling),de=x(H,Q.children||[]),de.return=V,V=de;break e}else{c(V,H);break}else s(V,H);H=H.sibling}de=Im(Q,V.mode,de),de.return=V,V=de}return N(V);case z:return Q=no(Q),ct(V,H,Q,de)}if(se(Q))return Se(V,H,Q,de);if(q(Q)){if(Ie=q(Q),typeof Ie!="function")throw Error(r(150));return Q=Ie.call(Q),Pe(V,H,Q,de)}if(typeof Q.then=="function")return ct(V,H,fd(Q),de);if(Q.$$typeof===I)return ct(V,H,ld(V,Q),de);hd(V,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,H!==null&&H.tag===6?(c(V,H.sibling),de=x(H,Q),de.return=V,V=de):(c(V,H),de=Om(Q,V.mode,de),de.return=V,V=de),N(V)):c(V,H)}return function(V,H,Q,de){try{Jl=0;var Ie=ct(V,H,Q,de);return ds=null,Ie}catch(Ae){if(Ae===cs||Ae===cd)throw Ae;var Xe=Yn(29,Ae,null,V.mode);return Xe.lanes=de,Xe.return=V,Xe}finally{}}}var io=pS(!0),mS=pS(!1),oa=!1;function qm(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fm(o,s){o=o.updateQueue,s.updateQueue===o&&(s.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function sa(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function la(o,s,c){var p=o.updateQueue;if(p===null)return null;if(p=p.shared,(rt&2)!==0){var x=p.pending;return x===null?s.next=s:(s.next=x.next,x.next=s),p.pending=s,s=id(o),Zw(o,null,c),s}return rd(o,p,s,c),id(o)}function Zl(o,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var p=s.lanes;p&=o.pendingLanes,c|=p,s.lanes=c,ow(o,c)}}function Gm(o,s){var c=o.updateQueue,p=o.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var x=null,w=null;if(c=c.firstBaseUpdate,c!==null){do{var N={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};w===null?x=w=N:w=w.next=N,c=c.next}while(c!==null);w===null?x=w=s:w=w.next=s}else x=w=s;c={baseState:p.baseState,firstBaseUpdate:x,lastBaseUpdate:w,shared:p.shared,callbacks:p.callbacks},o.updateQueue=c;return}o=c.lastBaseUpdate,o===null?c.firstBaseUpdate=s:o.next=s,c.lastBaseUpdate=s}var Hm=!1;function Ql(){if(Hm){var o=us;if(o!==null)throw o}}function eu(o,s,c,p){Hm=!1;var x=o.updateQueue;oa=!1;var w=x.firstBaseUpdate,N=x.lastBaseUpdate,k=x.shared.pending;if(k!==null){x.shared.pending=null;var F=k,ee=F.next;F.next=null,N===null?w=ee:N.next=ee,N=F;var le=o.alternate;le!==null&&(le=le.updateQueue,k=le.lastBaseUpdate,k!==N&&(k===null?le.firstBaseUpdate=ee:k.next=ee,le.lastBaseUpdate=F))}if(w!==null){var fe=x.baseState;N=0,le=ee=F=null,k=w;do{var ne=k.lane&-536870913,ie=ne!==k.lane;if(ie?(He&ne)===ne:(p&ne)===ne){ne!==0&&ne===ls&&(Hm=!0),le!==null&&(le=le.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Se=o,Pe=k;ne=s;var ct=c;switch(Pe.tag){case 1:if(Se=Pe.payload,typeof Se=="function"){fe=Se.call(ct,fe,ne);break e}fe=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Pe.payload,ne=typeof Se=="function"?Se.call(ct,fe,ne):Se,ne==null)break e;fe=m({},fe,ne);break e;case 2:oa=!0}}ne=k.callback,ne!==null&&(o.flags|=64,ie&&(o.flags|=8192),ie=x.callbacks,ie===null?x.callbacks=[ne]:ie.push(ne))}else ie={lane:ne,tag:k.tag,payload:k.payload,callback:k.callback,next:null},le===null?(ee=le=ie,F=fe):le=le.next=ie,N|=ne;if(k=k.next,k===null){if(k=x.shared.pending,k===null)break;ie=k,k=ie.next,ie.next=null,x.lastBaseUpdate=ie,x.shared.pending=null}}while(!0);le===null&&(F=fe),x.baseState=F,x.firstBaseUpdate=ee,x.lastBaseUpdate=le,w===null&&(x.shared.lanes=0),ha|=N,o.lanes=N,o.memoizedState=fe}}function gS(o,s){if(typeof o!="function")throw Error(r(191,o));o.call(s)}function vS(o,s){var c=o.callbacks;if(c!==null)for(o.callbacks=null,o=0;o<c.length;o++)gS(c[o],s)}var fs=$(null),pd=$(0);function yS(o,s){o=wi,ue(pd,o),ue(fs,s),wi=o|s.baseLanes}function Vm(){ue(pd,wi),ue(fs,fs.current)}function Km(){wi=pd.current,J(fs),J(pd)}var Wn=$(null),hr=null;function ua(o){var s=o.alternate;ue(kt,kt.current&1),ue(Wn,o),hr===null&&(s===null||fs.current!==null||s.memoizedState!==null)&&(hr=o)}function Ym(o){ue(kt,kt.current),ue(Wn,o),hr===null&&(hr=o)}function bS(o){o.tag===22?(ue(kt,kt.current),ue(Wn,o),hr===null&&(hr=o)):ca()}function ca(){ue(kt,kt.current),ue(Wn,Wn.current)}function Jn(o){J(Wn),hr===o&&(hr=null),J(kt)}var kt=$(0);function md(o){for(var s=o;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||ev(c)||tv(c)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var pi=0,ze=null,lt=null,zt=null,gd=!1,hs=!1,ao=!1,vd=0,tu=0,ps=null,u4=0;function Nt(){throw Error(r(321))}function Wm(o,s){if(s===null)return!1;for(var c=0;c<s.length&&c<o.length;c++)if(!Kn(o[c],s[c]))return!1;return!0}function Jm(o,s,c,p,x,w){return pi=w,ze=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,j.H=o===null||o.memoizedState===null?nE:dg,ao=!1,w=c(p,x),ao=!1,hs&&(w=_S(s,c,p,x)),xS(o),w}function xS(o){j.H=iu;var s=lt!==null&&lt.next!==null;if(pi=0,zt=lt=ze=null,gd=!1,tu=0,ps=null,s)throw Error(r(300));o===null||$t||(o=o.dependencies,o!==null&&sd(o)&&($t=!0))}function _S(o,s,c,p){ze=o;var x=0;do{if(hs&&(ps=null),tu=0,hs=!1,25<=x)throw Error(r(301));if(x+=1,zt=lt=null,o.updateQueue!=null){var w=o.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}j.H=rE,w=s(c,p)}while(hs);return w}function c4(){var o=j.H,s=o.useState()[0];return s=typeof s.then=="function"?nu(s):s,o=o.useState()[0],(lt!==null?lt.memoizedState:null)!==o&&(ze.flags|=1024),s}function Xm(){var o=vd!==0;return vd=0,o}function Zm(o,s,c){s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~c}function Qm(o){if(gd){for(o=o.memoizedState;o!==null;){var s=o.queue;s!==null&&(s.pending=null),o=o.next}gd=!1}pi=0,zt=lt=ze=null,hs=!1,tu=vd=0,ps=null}function An(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?ze.memoizedState=zt=o:zt=zt.next=o,zt}function jt(){if(lt===null){var o=ze.alternate;o=o!==null?o.memoizedState:null}else o=lt.next;var s=zt===null?ze.memoizedState:zt.next;if(s!==null)zt=s,lt=o;else{if(o===null)throw ze.alternate===null?Error(r(467)):Error(r(310));lt=o,o={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},zt===null?ze.memoizedState=zt=o:zt=zt.next=o}return zt}function yd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nu(o){var s=tu;return tu+=1,ps===null&&(ps=[]),o=dS(ps,o,s),s=ze,(zt===null?s.memoizedState:zt.next)===null&&(s=s.alternate,j.H=s===null||s.memoizedState===null?nE:dg),o}function bd(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return nu(o);if(o.$$typeof===I)return hn(o)}throw Error(r(438,String(o)))}function eg(o){var s=null,c=ze.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var p=ze.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(s={data:p.data.map(function(x){return x.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=yd(),ze.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(o),p=0;p<o;p++)c[p]=K;return s.index++,c}function mi(o,s){return typeof s=="function"?s(o):s}function xd(o){var s=jt();return tg(s,lt,o)}function tg(o,s,c){var p=o.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=c;var x=o.baseQueue,w=p.pending;if(w!==null){if(x!==null){var N=x.next;x.next=w.next,w.next=N}s.baseQueue=x=w,p.pending=null}if(w=o.baseState,x===null)o.memoizedState=w;else{s=x.next;var k=N=null,F=null,ee=s,le=!1;do{var fe=ee.lane&-536870913;if(fe!==ee.lane?(He&fe)===fe:(pi&fe)===fe){var ne=ee.revertLane;if(ne===0)F!==null&&(F=F.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),fe===ls&&(le=!0);else if((pi&ne)===ne){ee=ee.next,ne===ls&&(le=!0);continue}else fe={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},F===null?(k=F=fe,N=w):F=F.next=fe,ze.lanes|=ne,ha|=ne;fe=ee.action,ao&&c(w,fe),w=ee.hasEagerState?ee.eagerState:c(w,fe)}else ne={lane:fe,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},F===null?(k=F=ne,N=w):F=F.next=ne,ze.lanes|=fe,ha|=fe;ee=ee.next}while(ee!==null&&ee!==s);if(F===null?N=w:F.next=k,!Kn(w,o.memoizedState)&&($t=!0,le&&(c=us,c!==null)))throw c;o.memoizedState=w,o.baseState=N,o.baseQueue=F,p.lastRenderedState=w}return x===null&&(p.lanes=0),[o.memoizedState,p.dispatch]}function ng(o){var s=jt(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var p=c.dispatch,x=c.pending,w=s.memoizedState;if(x!==null){c.pending=null;var N=x=x.next;do w=o(w,N.action),N=N.next;while(N!==x);Kn(w,s.memoizedState)||($t=!0),s.memoizedState=w,s.baseQueue===null&&(s.baseState=w),c.lastRenderedState=w}return[w,p]}function wS(o,s,c){var p=ze,x=jt(),w=Ke;if(w){if(c===void 0)throw Error(r(407));c=c()}else c=s();var N=!Kn((lt||x).memoizedState,c);if(N&&(x.memoizedState=c,$t=!0),x=x.queue,ag(TS.bind(null,p,x,o),[o]),x.getSnapshot!==s||N||zt!==null&&zt.memoizedState.tag&1){if(p.flags|=2048,ms(9,{destroy:void 0},ES.bind(null,p,x,c,s),null),ht===null)throw Error(r(349));w||(pi&127)!==0||SS(p,s,c)}return c}function SS(o,s,c){o.flags|=16384,o={getSnapshot:s,value:c},s=ze.updateQueue,s===null?(s=yd(),ze.updateQueue=s,s.stores=[o]):(c=s.stores,c===null?s.stores=[o]:c.push(o))}function ES(o,s,c,p){s.value=c,s.getSnapshot=p,AS(s)&&CS(o)}function TS(o,s,c){return c(function(){AS(s)&&CS(o)})}function AS(o){var s=o.getSnapshot;o=o.value;try{var c=s();return!Kn(o,c)}catch{return!0}}function CS(o){var s=Ja(o,2);s!==null&&zn(s,o,2)}function rg(o){var s=An();if(typeof o=="function"){var c=o;if(o=c(),ao){Qi(!0);try{c()}finally{Qi(!1)}}}return s.memoizedState=s.baseState=o,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:o},s}function NS(o,s,c,p){return o.baseState=c,tg(o,lt,typeof p=="function"?p:mi)}function d4(o,s,c,p,x){if(Sd(o))throw Error(r(485));if(o=s.action,o!==null){var w={payload:x,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){w.listeners.push(N)}};j.T!==null?c(!0):w.isTransition=!1,p(w),c=s.pending,c===null?(w.next=s.pending=w,OS(s,w)):(w.next=c.next,s.pending=c.next=w)}}function OS(o,s){var c=s.action,p=s.payload,x=o.state;if(s.isTransition){var w=j.T,N={};j.T=N;try{var k=c(x,p),F=j.S;F!==null&&F(N,k),IS(o,s,k)}catch(ee){ig(o,s,ee)}finally{w!==null&&N.types!==null&&(w.types=N.types),j.T=w}}else try{w=c(x,p),IS(o,s,w)}catch(ee){ig(o,s,ee)}}function IS(o,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(p){PS(o,s,p)},function(p){return ig(o,s,p)}):PS(o,s,c)}function PS(o,s,c){s.status="fulfilled",s.value=c,RS(s),o.state=c,s=o.pending,s!==null&&(c=s.next,c===s?o.pending=null:(c=c.next,s.next=c,OS(o,c)))}function ig(o,s,c){var p=o.pending;if(o.pending=null,p!==null){p=p.next;do s.status="rejected",s.reason=c,RS(s),s=s.next;while(s!==p)}o.action=null}function RS(o){o=o.listeners;for(var s=0;s<o.length;s++)(0,o[s])()}function MS(o,s){return s}function DS(o,s){if(Ke){var c=ht.formState;if(c!==null){e:{var p=ze;if(Ke){if(xt){t:{for(var x=xt,w=fr;x.nodeType!==8;){if(!w){x=null;break t}if(x=pr(x.nextSibling),x===null){x=null;break t}}w=x.data,x=w==="F!"||w==="F"?x:null}if(x){xt=pr(x.nextSibling),p=x.data==="F!";break e}}ia(p)}p=!1}p&&(s=c[0])}}return c=An(),c.memoizedState=c.baseState=s,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:MS,lastRenderedState:s},c.queue=p,c=QS.bind(null,ze,p),p.dispatch=c,p=rg(!1),w=cg.bind(null,ze,!1,p.queue),p=An(),x={state:s,dispatch:null,action:o,pending:null},p.queue=x,c=d4.bind(null,ze,x,w,c),x.dispatch=c,p.memoizedState=o,[s,c,!1]}function kS(o){var s=jt();return jS(s,lt,o)}function jS(o,s,c){if(s=tg(o,s,MS)[0],o=xd(mi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var p=nu(s)}catch(N){throw N===cs?cd:N}else p=s;s=jt();var x=s.queue,w=x.dispatch;return c!==s.memoizedState&&(ze.flags|=2048,ms(9,{destroy:void 0},f4.bind(null,x,c),null)),[p,w,o]}function f4(o,s){o.action=s}function LS(o){var s=jt(),c=lt;if(c!==null)return jS(s,c,o);jt(),s=s.memoizedState,c=jt();var p=c.queue.dispatch;return c.memoizedState=o,[s,p,!1]}function ms(o,s,c,p){return o={tag:o,create:c,deps:p,inst:s,next:null},s=ze.updateQueue,s===null&&(s=yd(),ze.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=o.next=o:(p=c.next,c.next=o,o.next=p,s.lastEffect=o),o}function US(){return jt().memoizedState}function _d(o,s,c,p){var x=An();ze.flags|=o,x.memoizedState=ms(1|s,{destroy:void 0},c,p===void 0?null:p)}function wd(o,s,c,p){var x=jt();p=p===void 0?null:p;var w=x.memoizedState.inst;lt!==null&&p!==null&&Wm(p,lt.memoizedState.deps)?x.memoizedState=ms(s,w,c,p):(ze.flags|=o,x.memoizedState=ms(1|s,w,c,p))}function zS(o,s){_d(8390656,8,o,s)}function ag(o,s){wd(2048,8,o,s)}function h4(o){ze.flags|=4;var s=ze.updateQueue;if(s===null)s=yd(),ze.updateQueue=s,s.events=[o];else{var c=s.events;c===null?s.events=[o]:c.push(o)}}function $S(o){var s=jt().memoizedState;return h4({ref:s,nextImpl:o}),function(){if((rt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function BS(o,s){return wd(4,2,o,s)}function qS(o,s){return wd(4,4,o,s)}function FS(o,s){if(typeof s=="function"){o=o();var c=s(o);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return o=o(),s.current=o,function(){s.current=null}}function GS(o,s,c){c=c!=null?c.concat([o]):null,wd(4,4,FS.bind(null,s,o),c)}function og(){}function HS(o,s){var c=jt();s=s===void 0?null:s;var p=c.memoizedState;return s!==null&&Wm(s,p[1])?p[0]:(c.memoizedState=[o,s],o)}function VS(o,s){var c=jt();s=s===void 0?null:s;var p=c.memoizedState;if(s!==null&&Wm(s,p[1]))return p[0];if(p=o(),ao){Qi(!0);try{o()}finally{Qi(!1)}}return c.memoizedState=[p,s],p}function sg(o,s,c){return c===void 0||(pi&1073741824)!==0&&(He&261930)===0?o.memoizedState=s:(o.memoizedState=c,o=KE(),ze.lanes|=o,ha|=o,c)}function KS(o,s,c,p){return Kn(c,s)?c:fs.current!==null?(o=sg(o,c,p),Kn(o,s)||($t=!0),o):(pi&42)===0||(pi&1073741824)!==0&&(He&261930)===0?($t=!0,o.memoizedState=c):(o=KE(),ze.lanes|=o,ha|=o,s)}function YS(o,s,c,p,x){var w=G.p;G.p=w!==0&&8>w?w:8;var N=j.T,k={};j.T=k,cg(o,!1,s,c);try{var F=x(),ee=j.S;if(ee!==null&&ee(k,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var le=l4(F,p);ru(o,s,le,Qn(o))}else ru(o,s,p,Qn(o))}catch(fe){ru(o,s,{then:function(){},status:"rejected",reason:fe},Qn())}finally{G.p=w,N!==null&&k.types!==null&&(N.types=k.types),j.T=N}}function p4(){}function lg(o,s,c,p){if(o.tag!==5)throw Error(r(476));var x=WS(o).queue;YS(o,x,s,W,c===null?p4:function(){return JS(o),c(p)})}function WS(o){var s=o.memoizedState;if(s!==null)return s;s={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:W},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mi,lastRenderedState:c},next:null},o.memoizedState=s,o=o.alternate,o!==null&&(o.memoizedState=s),s}function JS(o){var s=WS(o);s.next===null&&(s=o.alternate.memoizedState),ru(o,s.next.queue,{},Qn())}function ug(){return hn(xu)}function XS(){return jt().memoizedState}function ZS(){return jt().memoizedState}function m4(o){for(var s=o.return;s!==null;){switch(s.tag){case 24:case 3:var c=Qn();o=sa(c);var p=la(s,o,c);p!==null&&(zn(p,s,c),Zl(p,s,c)),s={cache:Um()},o.payload=s;return}s=s.return}}function g4(o,s,c){var p=Qn();c={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Sd(o)?eE(s,c):(c=Cm(o,s,c,p),c!==null&&(zn(c,o,p),tE(c,s,p)))}function QS(o,s,c){var p=Qn();ru(o,s,c,p)}function ru(o,s,c,p){var x={lane:p,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Sd(o))eE(s,x);else{var w=o.alternate;if(o.lanes===0&&(w===null||w.lanes===0)&&(w=s.lastRenderedReducer,w!==null))try{var N=s.lastRenderedState,k=w(N,c);if(x.hasEagerState=!0,x.eagerState=k,Kn(k,N))return rd(o,s,x,0),ht===null&&nd(),!1}catch{}finally{}if(c=Cm(o,s,x,p),c!==null)return zn(c,o,p),tE(c,s,p),!0}return!1}function cg(o,s,c,p){if(p={lane:2,revertLane:qg(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Sd(o)){if(s)throw Error(r(479))}else s=Cm(o,c,p,2),s!==null&&zn(s,o,2)}function Sd(o){var s=o.alternate;return o===ze||s!==null&&s===ze}function eE(o,s){hs=gd=!0;var c=o.pending;c===null?s.next=s:(s.next=c.next,c.next=s),o.pending=s}function tE(o,s,c){if((c&4194048)!==0){var p=s.lanes;p&=o.pendingLanes,c|=p,s.lanes=c,ow(o,c)}}var iu={readContext:hn,use:bd,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt};iu.useEffectEvent=Nt;var nE={readContext:hn,use:bd,useCallback:function(o,s){return An().memoizedState=[o,s===void 0?null:s],o},useContext:hn,useEffect:zS,useImperativeHandle:function(o,s,c){c=c!=null?c.concat([o]):null,_d(4194308,4,FS.bind(null,s,o),c)},useLayoutEffect:function(o,s){return _d(4194308,4,o,s)},useInsertionEffect:function(o,s){_d(4,2,o,s)},useMemo:function(o,s){var c=An();s=s===void 0?null:s;var p=o();if(ao){Qi(!0);try{o()}finally{Qi(!1)}}return c.memoizedState=[p,s],p},useReducer:function(o,s,c){var p=An();if(c!==void 0){var x=c(s);if(ao){Qi(!0);try{c(s)}finally{Qi(!1)}}}else x=s;return p.memoizedState=p.baseState=x,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:x},p.queue=o,o=o.dispatch=g4.bind(null,ze,o),[p.memoizedState,o]},useRef:function(o){var s=An();return o={current:o},s.memoizedState=o},useState:function(o){o=rg(o);var s=o.queue,c=QS.bind(null,ze,s);return s.dispatch=c,[o.memoizedState,c]},useDebugValue:og,useDeferredValue:function(o,s){var c=An();return sg(c,o,s)},useTransition:function(){var o=rg(!1);return o=YS.bind(null,ze,o.queue,!0,!1),An().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,s,c){var p=ze,x=An();if(Ke){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),ht===null)throw Error(r(349));(He&127)!==0||SS(p,s,c)}x.memoizedState=c;var w={value:c,getSnapshot:s};return x.queue=w,zS(TS.bind(null,p,w,o),[o]),p.flags|=2048,ms(9,{destroy:void 0},ES.bind(null,p,w,c,s),null),c},useId:function(){var o=An(),s=ht.identifierPrefix;if(Ke){var c=Hr,p=Gr;c=(p&~(1<<32-Vn(p)-1)).toString(32)+c,s="_"+s+"R_"+c,c=vd++,0<c&&(s+="H"+c.toString(32)),s+="_"}else c=u4++,s="_"+s+"r_"+c.toString(32)+"_";return o.memoizedState=s},useHostTransitionStatus:ug,useFormState:DS,useActionState:DS,useOptimistic:function(o){var s=An();s.memoizedState=s.baseState=o;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=cg.bind(null,ze,!0,c),c.dispatch=s,[o,s]},useMemoCache:eg,useCacheRefresh:function(){return An().memoizedState=m4.bind(null,ze)},useEffectEvent:function(o){var s=An(),c={impl:o};return s.memoizedState=c,function(){if((rt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},dg={readContext:hn,use:bd,useCallback:HS,useContext:hn,useEffect:ag,useImperativeHandle:GS,useInsertionEffect:BS,useLayoutEffect:qS,useMemo:VS,useReducer:xd,useRef:US,useState:function(){return xd(mi)},useDebugValue:og,useDeferredValue:function(o,s){var c=jt();return KS(c,lt.memoizedState,o,s)},useTransition:function(){var o=xd(mi)[0],s=jt().memoizedState;return[typeof o=="boolean"?o:nu(o),s]},useSyncExternalStore:wS,useId:XS,useHostTransitionStatus:ug,useFormState:kS,useActionState:kS,useOptimistic:function(o,s){var c=jt();return NS(c,lt,o,s)},useMemoCache:eg,useCacheRefresh:ZS};dg.useEffectEvent=$S;var rE={readContext:hn,use:bd,useCallback:HS,useContext:hn,useEffect:ag,useImperativeHandle:GS,useInsertionEffect:BS,useLayoutEffect:qS,useMemo:VS,useReducer:ng,useRef:US,useState:function(){return ng(mi)},useDebugValue:og,useDeferredValue:function(o,s){var c=jt();return lt===null?sg(c,o,s):KS(c,lt.memoizedState,o,s)},useTransition:function(){var o=ng(mi)[0],s=jt().memoizedState;return[typeof o=="boolean"?o:nu(o),s]},useSyncExternalStore:wS,useId:XS,useHostTransitionStatus:ug,useFormState:LS,useActionState:LS,useOptimistic:function(o,s){var c=jt();return lt!==null?NS(c,lt,o,s):(c.baseState=o,[o,c.queue.dispatch])},useMemoCache:eg,useCacheRefresh:ZS};rE.useEffectEvent=$S;function fg(o,s,c,p){s=o.memoizedState,c=c(p,s),c=c==null?s:m({},s,c),o.memoizedState=c,o.lanes===0&&(o.updateQueue.baseState=c)}var hg={enqueueSetState:function(o,s,c){o=o._reactInternals;var p=Qn(),x=sa(p);x.payload=s,c!=null&&(x.callback=c),s=la(o,x,p),s!==null&&(zn(s,o,p),Zl(s,o,p))},enqueueReplaceState:function(o,s,c){o=o._reactInternals;var p=Qn(),x=sa(p);x.tag=1,x.payload=s,c!=null&&(x.callback=c),s=la(o,x,p),s!==null&&(zn(s,o,p),Zl(s,o,p))},enqueueForceUpdate:function(o,s){o=o._reactInternals;var c=Qn(),p=sa(c);p.tag=2,s!=null&&(p.callback=s),s=la(o,p,c),s!==null&&(zn(s,o,c),Zl(s,o,c))}};function iE(o,s,c,p,x,w,N){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(p,w,N):s.prototype&&s.prototype.isPureReactComponent?!Gl(c,p)||!Gl(x,w):!0}function aE(o,s,c,p){o=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,p),s.state!==o&&hg.enqueueReplaceState(s,s.state,null)}function oo(o,s){var c=s;if("ref"in s){c={};for(var p in s)p!=="ref"&&(c[p]=s[p])}if(o=o.defaultProps){c===s&&(c=m({},c));for(var x in o)c[x]===void 0&&(c[x]=o[x])}return c}function oE(o){td(o)}function sE(o){console.error(o)}function lE(o){td(o)}function Ed(o,s){try{var c=o.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(p){setTimeout(function(){throw p})}}function uE(o,s,c){try{var p=o.onCaughtError;p(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function pg(o,s,c){return c=sa(c),c.tag=3,c.payload={element:null},c.callback=function(){Ed(o,s)},c}function cE(o){return o=sa(o),o.tag=3,o}function dE(o,s,c,p){var x=c.type.getDerivedStateFromError;if(typeof x=="function"){var w=p.value;o.payload=function(){return x(w)},o.callback=function(){uE(s,c,p)}}var N=c.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(o.callback=function(){uE(s,c,p),typeof x!="function"&&(pa===null?pa=new Set([this]):pa.add(this));var k=p.stack;this.componentDidCatch(p.value,{componentStack:k!==null?k:""})})}function v4(o,s,c,p,x){if(c.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(s=c.alternate,s!==null&&ss(s,c,x,!0),c=Wn.current,c!==null){switch(c.tag){case 31:case 13:return hr===null?jd():c.alternate===null&&Ot===0&&(Ot=3),c.flags&=-257,c.flags|=65536,c.lanes=x,p===dd?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([p]):s.add(p),zg(o,p,x)),!1;case 22:return c.flags|=65536,p===dd?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([p])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([p]):c.add(p)),zg(o,p,x)),!1}throw Error(r(435,c.tag))}return zg(o,p,x),jd(),!1}if(Ke)return s=Wn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=x,p!==Mm&&(o=Error(r(422),{cause:p}),Kl(ur(o,c)))):(p!==Mm&&(s=Error(r(423),{cause:p}),Kl(ur(s,c))),o=o.current.alternate,o.flags|=65536,x&=-x,o.lanes|=x,p=ur(p,c),x=pg(o.stateNode,p,x),Gm(o,x),Ot!==4&&(Ot=2)),!1;var w=Error(r(520),{cause:p});if(w=ur(w,c),fu===null?fu=[w]:fu.push(w),Ot!==4&&(Ot=2),s===null)return!0;p=ur(p,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,o=x&-x,c.lanes|=o,o=pg(c.stateNode,p,o),Gm(c,o),!1;case 1:if(s=c.type,w=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(pa===null||!pa.has(w))))return c.flags|=65536,x&=-x,c.lanes|=x,x=cE(x),dE(x,o,c,p),Gm(c,x),!1}c=c.return}while(c!==null);return!1}var mg=Error(r(461)),$t=!1;function pn(o,s,c,p){s.child=o===null?mS(s,null,c,p):io(s,o.child,c,p)}function fE(o,s,c,p,x){c=c.render;var w=s.ref;if("ref"in p){var N={};for(var k in p)k!=="ref"&&(N[k]=p[k])}else N=p;return eo(s),p=Jm(o,s,c,N,w,x),k=Xm(),o!==null&&!$t?(Zm(o,s,x),gi(o,s,x)):(Ke&&k&&Pm(s),s.flags|=1,pn(o,s,p,x),s.child)}function hE(o,s,c,p,x){if(o===null){var w=c.type;return typeof w=="function"&&!Nm(w)&&w.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=w,pE(o,s,w,p,x)):(o=ad(c.type,null,p,s,s.mode,x),o.ref=s.ref,o.return=s,s.child=o)}if(w=o.child,!Sg(o,x)){var N=w.memoizedProps;if(c=c.compare,c=c!==null?c:Gl,c(N,p)&&o.ref===s.ref)return gi(o,s,x)}return s.flags|=1,o=ci(w,p),o.ref=s.ref,o.return=s,s.child=o}function pE(o,s,c,p,x){if(o!==null){var w=o.memoizedProps;if(Gl(w,p)&&o.ref===s.ref)if($t=!1,s.pendingProps=p=w,Sg(o,x))(o.flags&131072)!==0&&($t=!0);else return s.lanes=o.lanes,gi(o,s,x)}return gg(o,s,c,p,x)}function mE(o,s,c,p){var x=p.children,w=o!==null?o.memoizedState:null;if(o===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((s.flags&128)!==0){if(w=w!==null?w.baseLanes|c:c,o!==null){for(p=s.child=o.child,x=0;p!==null;)x=x|p.lanes|p.childLanes,p=p.sibling;p=x&~w}else p=0,s.child=null;return gE(o,s,w,c,p)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},o!==null&&ud(s,w!==null?w.cachePool:null),w!==null?yS(s,w):Vm(),bS(s);else return p=s.lanes=536870912,gE(o,s,w!==null?w.baseLanes|c:c,c,p)}else w!==null?(ud(s,w.cachePool),yS(s,w),ca(),s.memoizedState=null):(o!==null&&ud(s,null),Vm(),ca());return pn(o,s,x,c),s.child}function au(o,s){return o!==null&&o.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function gE(o,s,c,p,x){var w=$m();return w=w===null?null:{parent:Ut._currentValue,pool:w},s.memoizedState={baseLanes:c,cachePool:w},o!==null&&ud(s,null),Vm(),bS(s),o!==null&&ss(o,s,p,!0),s.childLanes=x,null}function Td(o,s){return s=Cd({mode:s.mode,children:s.children},o.mode),s.ref=o.ref,o.child=s,s.return=o,s}function vE(o,s,c){return io(s,o.child,null,c),o=Td(s,s.pendingProps),o.flags|=2,Jn(s),s.memoizedState=null,o}function y4(o,s,c){var p=s.pendingProps,x=(s.flags&128)!==0;if(s.flags&=-129,o===null){if(Ke){if(p.mode==="hidden")return o=Td(s,p),s.lanes=536870912,au(null,o);if(Ym(s),(o=xt)?(o=OT(o,fr),o=o!==null&&o.data==="&"?o:null,o!==null&&(s.memoizedState={dehydrated:o,treeContext:na!==null?{id:Gr,overflow:Hr}:null,retryLane:536870912,hydrationErrors:null},c=eS(o),c.return=s,s.child=c,fn=s,xt=null)):o=null,o===null)throw ia(s);return s.lanes=536870912,null}return Td(s,p)}var w=o.memoizedState;if(w!==null){var N=w.dehydrated;if(Ym(s),x)if(s.flags&256)s.flags&=-257,s=vE(o,s,c);else if(s.memoizedState!==null)s.child=o.child,s.flags|=128,s=null;else throw Error(r(558));else if($t||ss(o,s,c,!1),x=(c&o.childLanes)!==0,$t||x){if(p=ht,p!==null&&(N=sw(p,c),N!==0&&N!==w.retryLane))throw w.retryLane=N,Ja(o,N),zn(p,o,N),mg;jd(),s=vE(o,s,c)}else o=w.treeContext,xt=pr(N.nextSibling),fn=s,Ke=!0,ra=null,fr=!1,o!==null&&rS(s,o),s=Td(s,p),s.flags|=4096;return s}return o=ci(o.child,{mode:p.mode,children:p.children}),o.ref=s.ref,s.child=o,o.return=s,o}function Ad(o,s){var c=s.ref;if(c===null)o!==null&&o.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(o===null||o.ref!==c)&&(s.flags|=4194816)}}function gg(o,s,c,p,x){return eo(s),c=Jm(o,s,c,p,void 0,x),p=Xm(),o!==null&&!$t?(Zm(o,s,x),gi(o,s,x)):(Ke&&p&&Pm(s),s.flags|=1,pn(o,s,c,x),s.child)}function yE(o,s,c,p,x,w){return eo(s),s.updateQueue=null,c=_S(s,p,c,x),xS(o),p=Xm(),o!==null&&!$t?(Zm(o,s,w),gi(o,s,w)):(Ke&&p&&Pm(s),s.flags|=1,pn(o,s,c,w),s.child)}function bE(o,s,c,p,x){if(eo(s),s.stateNode===null){var w=rs,N=c.contextType;typeof N=="object"&&N!==null&&(w=hn(N)),w=new c(p,w),s.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=hg,s.stateNode=w,w._reactInternals=s,w=s.stateNode,w.props=p,w.state=s.memoizedState,w.refs={},qm(s),N=c.contextType,w.context=typeof N=="object"&&N!==null?hn(N):rs,w.state=s.memoizedState,N=c.getDerivedStateFromProps,typeof N=="function"&&(fg(s,c,N,p),w.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(N=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),N!==w.state&&hg.enqueueReplaceState(w,w.state,null),eu(s,p,w,x),Ql(),w.state=s.memoizedState),typeof w.componentDidMount=="function"&&(s.flags|=4194308),p=!0}else if(o===null){w=s.stateNode;var k=s.memoizedProps,F=oo(c,k);w.props=F;var ee=w.context,le=c.contextType;N=rs,typeof le=="object"&&le!==null&&(N=hn(le));var fe=c.getDerivedStateFromProps;le=typeof fe=="function"||typeof w.getSnapshotBeforeUpdate=="function",k=s.pendingProps!==k,le||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(k||ee!==N)&&aE(s,w,p,N),oa=!1;var ne=s.memoizedState;w.state=ne,eu(s,p,w,x),Ql(),ee=s.memoizedState,k||ne!==ee||oa?(typeof fe=="function"&&(fg(s,c,fe,p),ee=s.memoizedState),(F=oa||iE(s,c,F,p,ne,ee,N))?(le||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=ee),w.props=p,w.state=ee,w.context=N,p=F):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{w=s.stateNode,Fm(o,s),N=s.memoizedProps,le=oo(c,N),w.props=le,fe=s.pendingProps,ne=w.context,ee=c.contextType,F=rs,typeof ee=="object"&&ee!==null&&(F=hn(ee)),k=c.getDerivedStateFromProps,(ee=typeof k=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(N!==fe||ne!==F)&&aE(s,w,p,F),oa=!1,ne=s.memoizedState,w.state=ne,eu(s,p,w,x),Ql();var ie=s.memoizedState;N!==fe||ne!==ie||oa||o!==null&&o.dependencies!==null&&sd(o.dependencies)?(typeof k=="function"&&(fg(s,c,k,p),ie=s.memoizedState),(le=oa||iE(s,c,le,p,ne,ie,F)||o!==null&&o.dependencies!==null&&sd(o.dependencies))?(ee||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(p,ie,F),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(p,ie,F)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||N===o.memoizedProps&&ne===o.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===o.memoizedProps&&ne===o.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=ie),w.props=p,w.state=ie,w.context=F,p=le):(typeof w.componentDidUpdate!="function"||N===o.memoizedProps&&ne===o.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===o.memoizedProps&&ne===o.memoizedState||(s.flags|=1024),p=!1)}return w=p,Ad(o,s),p=(s.flags&128)!==0,w||p?(w=s.stateNode,c=p&&typeof c.getDerivedStateFromError!="function"?null:w.render(),s.flags|=1,o!==null&&p?(s.child=io(s,o.child,null,x),s.child=io(s,null,c,x)):pn(o,s,c,x),s.memoizedState=w.state,o=s.child):o=gi(o,s,x),o}function xE(o,s,c,p){return Za(),s.flags|=256,pn(o,s,c,p),s.child}var vg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yg(o){return{baseLanes:o,cachePool:uS()}}function bg(o,s,c){return o=o!==null?o.childLanes&~c:0,s&&(o|=Zn),o}function _E(o,s,c){var p=s.pendingProps,x=!1,w=(s.flags&128)!==0,N;if((N=w)||(N=o!==null&&o.memoizedState===null?!1:(kt.current&2)!==0),N&&(x=!0,s.flags&=-129),N=(s.flags&32)!==0,s.flags&=-33,o===null){if(Ke){if(x?ua(s):ca(),(o=xt)?(o=OT(o,fr),o=o!==null&&o.data!=="&"?o:null,o!==null&&(s.memoizedState={dehydrated:o,treeContext:na!==null?{id:Gr,overflow:Hr}:null,retryLane:536870912,hydrationErrors:null},c=eS(o),c.return=s,s.child=c,fn=s,xt=null)):o=null,o===null)throw ia(s);return tv(o)?s.lanes=32:s.lanes=536870912,null}var k=p.children;return p=p.fallback,x?(ca(),x=s.mode,k=Cd({mode:"hidden",children:k},x),p=Xa(p,x,c,null),k.return=s,p.return=s,k.sibling=p,s.child=k,p=s.child,p.memoizedState=yg(c),p.childLanes=bg(o,N,c),s.memoizedState=vg,au(null,p)):(ua(s),xg(s,k))}var F=o.memoizedState;if(F!==null&&(k=F.dehydrated,k!==null)){if(w)s.flags&256?(ua(s),s.flags&=-257,s=_g(o,s,c)):s.memoizedState!==null?(ca(),s.child=o.child,s.flags|=128,s=null):(ca(),k=p.fallback,x=s.mode,p=Cd({mode:"visible",children:p.children},x),k=Xa(k,x,c,null),k.flags|=2,p.return=s,k.return=s,p.sibling=k,s.child=p,io(s,o.child,null,c),p=s.child,p.memoizedState=yg(c),p.childLanes=bg(o,N,c),s.memoizedState=vg,s=au(null,p));else if(ua(s),tv(k)){if(N=k.nextSibling&&k.nextSibling.dataset,N)var ee=N.dgst;N=ee,p=Error(r(419)),p.stack="",p.digest=N,Kl({value:p,source:null,stack:null}),s=_g(o,s,c)}else if($t||ss(o,s,c,!1),N=(c&o.childLanes)!==0,$t||N){if(N=ht,N!==null&&(p=sw(N,c),p!==0&&p!==F.retryLane))throw F.retryLane=p,Ja(o,p),zn(N,o,p),mg;ev(k)||jd(),s=_g(o,s,c)}else ev(k)?(s.flags|=192,s.child=o.child,s=null):(o=F.treeContext,xt=pr(k.nextSibling),fn=s,Ke=!0,ra=null,fr=!1,o!==null&&rS(s,o),s=xg(s,p.children),s.flags|=4096);return s}return x?(ca(),k=p.fallback,x=s.mode,F=o.child,ee=F.sibling,p=ci(F,{mode:"hidden",children:p.children}),p.subtreeFlags=F.subtreeFlags&65011712,ee!==null?k=ci(ee,k):(k=Xa(k,x,c,null),k.flags|=2),k.return=s,p.return=s,p.sibling=k,s.child=p,au(null,p),p=s.child,k=o.child.memoizedState,k===null?k=yg(c):(x=k.cachePool,x!==null?(F=Ut._currentValue,x=x.parent!==F?{parent:F,pool:F}:x):x=uS(),k={baseLanes:k.baseLanes|c,cachePool:x}),p.memoizedState=k,p.childLanes=bg(o,N,c),s.memoizedState=vg,au(o.child,p)):(ua(s),c=o.child,o=c.sibling,c=ci(c,{mode:"visible",children:p.children}),c.return=s,c.sibling=null,o!==null&&(N=s.deletions,N===null?(s.deletions=[o],s.flags|=16):N.push(o)),s.child=c,s.memoizedState=null,c)}function xg(o,s){return s=Cd({mode:"visible",children:s},o.mode),s.return=o,o.child=s}function Cd(o,s){return o=Yn(22,o,null,s),o.lanes=0,o}function _g(o,s,c){return io(s,o.child,null,c),o=xg(s,s.pendingProps.children),o.flags|=2,s.memoizedState=null,o}function wE(o,s,c){o.lanes|=s;var p=o.alternate;p!==null&&(p.lanes|=s),jm(o.return,s,c)}function wg(o,s,c,p,x,w){var N=o.memoizedState;N===null?o.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:x,treeForkCount:w}:(N.isBackwards=s,N.rendering=null,N.renderingStartTime=0,N.last=p,N.tail=c,N.tailMode=x,N.treeForkCount=w)}function SE(o,s,c){var p=s.pendingProps,x=p.revealOrder,w=p.tail;p=p.children;var N=kt.current,k=(N&2)!==0;if(k?(N=N&1|2,s.flags|=128):N&=1,ue(kt,N),pn(o,s,p,c),p=Ke?Vl:0,!k&&o!==null&&(o.flags&128)!==0)e:for(o=s.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&wE(o,c,s);else if(o.tag===19)wE(o,c,s);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(x){case"forwards":for(c=s.child,x=null;c!==null;)o=c.alternate,o!==null&&md(o)===null&&(x=c),c=c.sibling;c=x,c===null?(x=s.child,s.child=null):(x=c.sibling,c.sibling=null),wg(s,!1,x,c,w,p);break;case"backwards":case"unstable_legacy-backwards":for(c=null,x=s.child,s.child=null;x!==null;){if(o=x.alternate,o!==null&&md(o)===null){s.child=x;break}o=x.sibling,x.sibling=c,c=x,x=o}wg(s,!0,c,null,w,p);break;case"together":wg(s,!1,null,null,void 0,p);break;default:s.memoizedState=null}return s.child}function gi(o,s,c){if(o!==null&&(s.dependencies=o.dependencies),ha|=s.lanes,(c&s.childLanes)===0)if(o!==null){if(ss(o,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(o!==null&&s.child!==o.child)throw Error(r(153));if(s.child!==null){for(o=s.child,c=ci(o,o.pendingProps),s.child=c,c.return=s;o.sibling!==null;)o=o.sibling,c=c.sibling=ci(o,o.pendingProps),c.return=s;c.sibling=null}return s.child}function Sg(o,s){return(o.lanes&s)!==0?!0:(o=o.dependencies,!!(o!==null&&sd(o)))}function b4(o,s,c){switch(s.tag){case 3:te(s,s.stateNode.containerInfo),aa(s,Ut,o.memoizedState.cache),Za();break;case 27:case 5:ce(s);break;case 4:te(s,s.stateNode.containerInfo);break;case 10:aa(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Ym(s),null;break;case 13:var p=s.memoizedState;if(p!==null)return p.dehydrated!==null?(ua(s),s.flags|=128,null):(c&s.child.childLanes)!==0?_E(o,s,c):(ua(s),o=gi(o,s,c),o!==null?o.sibling:null);ua(s);break;case 19:var x=(o.flags&128)!==0;if(p=(c&s.childLanes)!==0,p||(ss(o,s,c,!1),p=(c&s.childLanes)!==0),x){if(p)return SE(o,s,c);s.flags|=128}if(x=s.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),ue(kt,kt.current),p)break;return null;case 22:return s.lanes=0,mE(o,s,c,s.pendingProps);case 24:aa(s,Ut,o.memoizedState.cache)}return gi(o,s,c)}function EE(o,s,c){if(o!==null)if(o.memoizedProps!==s.pendingProps)$t=!0;else{if(!Sg(o,c)&&(s.flags&128)===0)return $t=!1,b4(o,s,c);$t=(o.flags&131072)!==0}else $t=!1,Ke&&(s.flags&1048576)!==0&&nS(s,Vl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var p=s.pendingProps;if(o=no(s.elementType),s.type=o,typeof o=="function")Nm(o)?(p=oo(o,p),s.tag=1,s=bE(null,s,o,p,c)):(s.tag=0,s=gg(null,s,o,p,c));else{if(o!=null){var x=o.$$typeof;if(x===O){s.tag=11,s=fE(null,s,o,p,c);break e}else if(x===M){s.tag=14,s=hE(null,s,o,p,c);break e}}throw s=ae(o)||o,Error(r(306,s,""))}}return s;case 0:return gg(o,s,s.type,s.pendingProps,c);case 1:return p=s.type,x=oo(p,s.pendingProps),bE(o,s,p,x,c);case 3:e:{if(te(s,s.stateNode.containerInfo),o===null)throw Error(r(387));p=s.pendingProps;var w=s.memoizedState;x=w.element,Fm(o,s),eu(s,p,null,c);var N=s.memoizedState;if(p=N.cache,aa(s,Ut,p),p!==w.cache&&Lm(s,[Ut],c,!0),Ql(),p=N.element,w.isDehydrated)if(w={element:p,isDehydrated:!1,cache:N.cache},s.updateQueue.baseState=w,s.memoizedState=w,s.flags&256){s=xE(o,s,p,c);break e}else if(p!==x){x=ur(Error(r(424)),s),Kl(x),s=xE(o,s,p,c);break e}else{switch(o=s.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(xt=pr(o.firstChild),fn=s,Ke=!0,ra=null,fr=!0,c=mS(s,null,p,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Za(),p===x){s=gi(o,s,c);break e}pn(o,s,p,c)}s=s.child}return s;case 26:return Ad(o,s),o===null?(c=kT(s.type,null,s.pendingProps,null))?s.memoizedState=c:Ke||(c=s.type,o=s.pendingProps,p=Fd(xe.current).createElement(c),p[dn]=s,p[Mn]=o,mn(p,c,o),Qt(p),s.stateNode=p):s.memoizedState=kT(s.type,o.memoizedProps,s.pendingProps,o.memoizedState),null;case 27:return ce(s),o===null&&Ke&&(p=s.stateNode=RT(s.type,s.pendingProps,xe.current),fn=s,fr=!0,x=xt,ya(s.type)?(nv=x,xt=pr(p.firstChild)):xt=x),pn(o,s,s.pendingProps.children,c),Ad(o,s),o===null&&(s.flags|=4194304),s.child;case 5:return o===null&&Ke&&((x=p=xt)&&(p=W4(p,s.type,s.pendingProps,fr),p!==null?(s.stateNode=p,fn=s,xt=pr(p.firstChild),fr=!1,x=!0):x=!1),x||ia(s)),ce(s),x=s.type,w=s.pendingProps,N=o!==null?o.memoizedProps:null,p=w.children,Xg(x,w)?p=null:N!==null&&Xg(x,N)&&(s.flags|=32),s.memoizedState!==null&&(x=Jm(o,s,c4,null,null,c),xu._currentValue=x),Ad(o,s),pn(o,s,p,c),s.child;case 6:return o===null&&Ke&&((o=c=xt)&&(c=J4(c,s.pendingProps,fr),c!==null?(s.stateNode=c,fn=s,xt=null,o=!0):o=!1),o||ia(s)),null;case 13:return _E(o,s,c);case 4:return te(s,s.stateNode.containerInfo),p=s.pendingProps,o===null?s.child=io(s,null,p,c):pn(o,s,p,c),s.child;case 11:return fE(o,s,s.type,s.pendingProps,c);case 7:return pn(o,s,s.pendingProps,c),s.child;case 8:return pn(o,s,s.pendingProps.children,c),s.child;case 12:return pn(o,s,s.pendingProps.children,c),s.child;case 10:return p=s.pendingProps,aa(s,s.type,p.value),pn(o,s,p.children,c),s.child;case 9:return x=s.type._context,p=s.pendingProps.children,eo(s),x=hn(x),p=p(x),s.flags|=1,pn(o,s,p,c),s.child;case 14:return hE(o,s,s.type,s.pendingProps,c);case 15:return pE(o,s,s.type,s.pendingProps,c);case 19:return SE(o,s,c);case 31:return y4(o,s,c);case 22:return mE(o,s,c,s.pendingProps);case 24:return eo(s),p=hn(Ut),o===null?(x=$m(),x===null&&(x=ht,w=Um(),x.pooledCache=w,w.refCount++,w!==null&&(x.pooledCacheLanes|=c),x=w),s.memoizedState={parent:p,cache:x},qm(s),aa(s,Ut,x)):((o.lanes&c)!==0&&(Fm(o,s),eu(s,null,null,c),Ql()),x=o.memoizedState,w=s.memoizedState,x.parent!==p?(x={parent:p,cache:p},s.memoizedState=x,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=x),aa(s,Ut,p)):(p=w.cache,aa(s,Ut,p),p!==x.cache&&Lm(s,[Ut],c,!0))),pn(o,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function vi(o){o.flags|=4}function Eg(o,s,c,p,x){if((s=(o.mode&32)!==0)&&(s=!1),s){if(o.flags|=16777216,(x&335544128)===x)if(o.stateNode.complete)o.flags|=8192;else if(XE())o.flags|=8192;else throw ro=dd,Bm}else o.flags&=-16777217}function TE(o,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!$T(s))if(XE())o.flags|=8192;else throw ro=dd,Bm}function Nd(o,s){s!==null&&(o.flags|=4),o.flags&16384&&(s=o.tag!==22?iw():536870912,o.lanes|=s,bs|=s)}function ou(o,s){if(!Ke)switch(o.tailMode){case"hidden":s=o.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?o.tail=null:c.sibling=null;break;case"collapsed":c=o.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?s||o.tail===null?o.tail=null:o.tail.sibling=null:p.sibling=null}}function _t(o){var s=o.alternate!==null&&o.alternate.child===o.child,c=0,p=0;if(s)for(var x=o.child;x!==null;)c|=x.lanes|x.childLanes,p|=x.subtreeFlags&65011712,p|=x.flags&65011712,x.return=o,x=x.sibling;else for(x=o.child;x!==null;)c|=x.lanes|x.childLanes,p|=x.subtreeFlags,p|=x.flags,x.return=o,x=x.sibling;return o.subtreeFlags|=p,o.childLanes=c,s}function x4(o,s,c){var p=s.pendingProps;switch(Rm(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(s),null;case 1:return _t(s),null;case 3:return c=s.stateNode,p=null,o!==null&&(p=o.memoizedState.cache),s.memoizedState.cache!==p&&(s.flags|=2048),hi(Ut),B(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(o===null||o.child===null)&&(os(s)?vi(s):o===null||o.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Dm())),_t(s),null;case 26:var x=s.type,w=s.memoizedState;return o===null?(vi(s),w!==null?(_t(s),TE(s,w)):(_t(s),Eg(s,x,null,p,c))):w?w!==o.memoizedState?(vi(s),_t(s),TE(s,w)):(_t(s),s.flags&=-16777217):(o=o.memoizedProps,o!==p&&vi(s),_t(s),Eg(s,x,o,p,c)),null;case 27:if(me(s),c=xe.current,x=s.type,o!==null&&s.stateNode!=null)o.memoizedProps!==p&&vi(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return _t(s),null}o=pe.current,os(s)?iS(s):(o=RT(x,p,c),s.stateNode=o,vi(s))}return _t(s),null;case 5:if(me(s),x=s.type,o!==null&&s.stateNode!=null)o.memoizedProps!==p&&vi(s);else{if(!p){if(s.stateNode===null)throw Error(r(166));return _t(s),null}if(w=pe.current,os(s))iS(s);else{var N=Fd(xe.current);switch(w){case 1:w=N.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:w=N.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":w=N.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":w=N.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":w=N.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof p.is=="string"?N.createElement("select",{is:p.is}):N.createElement("select"),p.multiple?w.multiple=!0:p.size&&(w.size=p.size);break;default:w=typeof p.is=="string"?N.createElement(x,{is:p.is}):N.createElement(x)}}w[dn]=s,w[Mn]=p;e:for(N=s.child;N!==null;){if(N.tag===5||N.tag===6)w.appendChild(N.stateNode);else if(N.tag!==4&&N.tag!==27&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===s)break e;for(;N.sibling===null;){if(N.return===null||N.return===s)break e;N=N.return}N.sibling.return=N.return,N=N.sibling}s.stateNode=w;e:switch(mn(w,x,p),x){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&vi(s)}}return _t(s),Eg(s,s.type,o===null?null:o.memoizedProps,s.pendingProps,c),null;case 6:if(o&&s.stateNode!=null)o.memoizedProps!==p&&vi(s);else{if(typeof p!="string"&&s.stateNode===null)throw Error(r(166));if(o=xe.current,os(s)){if(o=s.stateNode,c=s.memoizedProps,p=null,x=fn,x!==null)switch(x.tag){case 27:case 5:p=x.memoizedProps}o[dn]=s,o=!!(o.nodeValue===c||p!==null&&p.suppressHydrationWarning===!0||_T(o.nodeValue,c)),o||ia(s,!0)}else o=Fd(o).createTextNode(p),o[dn]=s,s.stateNode=o}return _t(s),null;case 31:if(c=s.memoizedState,o===null||o.memoizedState!==null){if(p=os(s),c!==null){if(o===null){if(!p)throw Error(r(318));if(o=s.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[dn]=s}else Za(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;_t(s),o=!1}else c=Dm(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=c),o=!0;if(!o)return s.flags&256?(Jn(s),s):(Jn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return _t(s),null;case 13:if(p=s.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(x=os(s),p!==null&&p.dehydrated!==null){if(o===null){if(!x)throw Error(r(318));if(x=s.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[dn]=s}else Za(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;_t(s),x=!1}else x=Dm(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=x),x=!0;if(!x)return s.flags&256?(Jn(s),s):(Jn(s),null)}return Jn(s),(s.flags&128)!==0?(s.lanes=c,s):(c=p!==null,o=o!==null&&o.memoizedState!==null,c&&(p=s.child,x=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(x=p.alternate.memoizedState.cachePool.pool),w=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(w=p.memoizedState.cachePool.pool),w!==x&&(p.flags|=2048)),c!==o&&c&&(s.child.flags|=8192),Nd(s,s.updateQueue),_t(s),null);case 4:return B(),o===null&&Vg(s.stateNode.containerInfo),_t(s),null;case 10:return hi(s.type),_t(s),null;case 19:if(J(kt),p=s.memoizedState,p===null)return _t(s),null;if(x=(s.flags&128)!==0,w=p.rendering,w===null)if(x)ou(p,!1);else{if(Ot!==0||o!==null&&(o.flags&128)!==0)for(o=s.child;o!==null;){if(w=md(o),w!==null){for(s.flags|=128,ou(p,!1),o=w.updateQueue,s.updateQueue=o,Nd(s,o),s.subtreeFlags=0,o=c,c=s.child;c!==null;)Qw(c,o),c=c.sibling;return ue(kt,kt.current&1|2),Ke&&di(s,p.treeForkCount),s.child}o=o.sibling}p.tail!==null&&Re()>Md&&(s.flags|=128,x=!0,ou(p,!1),s.lanes=4194304)}else{if(!x)if(o=md(w),o!==null){if(s.flags|=128,x=!0,o=o.updateQueue,s.updateQueue=o,Nd(s,o),ou(p,!0),p.tail===null&&p.tailMode==="hidden"&&!w.alternate&&!Ke)return _t(s),null}else 2*Re()-p.renderingStartTime>Md&&c!==536870912&&(s.flags|=128,x=!0,ou(p,!1),s.lanes=4194304);p.isBackwards?(w.sibling=s.child,s.child=w):(o=p.last,o!==null?o.sibling=w:s.child=w,p.last=w)}return p.tail!==null?(o=p.tail,p.rendering=o,p.tail=o.sibling,p.renderingStartTime=Re(),o.sibling=null,c=kt.current,ue(kt,x?c&1|2:c&1),Ke&&di(s,p.treeForkCount),o):(_t(s),null);case 22:case 23:return Jn(s),Km(),p=s.memoizedState!==null,o!==null?o.memoizedState!==null!==p&&(s.flags|=8192):p&&(s.flags|=8192),p?(c&536870912)!==0&&(s.flags&128)===0&&(_t(s),s.subtreeFlags&6&&(s.flags|=8192)):_t(s),c=s.updateQueue,c!==null&&Nd(s,c.retryQueue),c=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(c=o.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==c&&(s.flags|=2048),o!==null&&J(to),null;case 24:return c=null,o!==null&&(c=o.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),hi(Ut),_t(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function _4(o,s){switch(Rm(s),s.tag){case 1:return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 3:return hi(Ut),B(),o=s.flags,(o&65536)!==0&&(o&128)===0?(s.flags=o&-65537|128,s):null;case 26:case 27:case 5:return me(s),null;case 31:if(s.memoizedState!==null){if(Jn(s),s.alternate===null)throw Error(r(340));Za()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 13:if(Jn(s),o=s.memoizedState,o!==null&&o.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Za()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 19:return J(kt),null;case 4:return B(),null;case 10:return hi(s.type),null;case 22:case 23:return Jn(s),Km(),o!==null&&J(to),o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 24:return hi(Ut),null;case 25:return null;default:return null}}function AE(o,s){switch(Rm(s),s.tag){case 3:hi(Ut),B();break;case 26:case 27:case 5:me(s);break;case 4:B();break;case 31:s.memoizedState!==null&&Jn(s);break;case 13:Jn(s);break;case 19:J(kt);break;case 10:hi(s.type);break;case 22:case 23:Jn(s),Km(),o!==null&&J(to);break;case 24:hi(Ut)}}function su(o,s){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var x=p.next;c=x;do{if((c.tag&o)===o){p=void 0;var w=c.create,N=c.inst;p=w(),N.destroy=p}c=c.next}while(c!==x)}}catch(k){at(s,s.return,k)}}function da(o,s,c){try{var p=s.updateQueue,x=p!==null?p.lastEffect:null;if(x!==null){var w=x.next;p=w;do{if((p.tag&o)===o){var N=p.inst,k=N.destroy;if(k!==void 0){N.destroy=void 0,x=s;var F=c,ee=k;try{ee()}catch(le){at(x,F,le)}}}p=p.next}while(p!==w)}}catch(le){at(s,s.return,le)}}function CE(o){var s=o.updateQueue;if(s!==null){var c=o.stateNode;try{vS(s,c)}catch(p){at(o,o.return,p)}}}function NE(o,s,c){c.props=oo(o.type,o.memoizedProps),c.state=o.memoizedState;try{c.componentWillUnmount()}catch(p){at(o,s,p)}}function lu(o,s){try{var c=o.ref;if(c!==null){switch(o.tag){case 26:case 27:case 5:var p=o.stateNode;break;case 30:p=o.stateNode;break;default:p=o.stateNode}typeof c=="function"?o.refCleanup=c(p):c.current=p}}catch(x){at(o,s,x)}}function Vr(o,s){var c=o.ref,p=o.refCleanup;if(c!==null)if(typeof p=="function")try{p()}catch(x){at(o,s,x)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(x){at(o,s,x)}else c.current=null}function OE(o){var s=o.type,c=o.memoizedProps,p=o.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&p.focus();break e;case"img":c.src?p.src=c.src:c.srcSet&&(p.srcset=c.srcSet)}}catch(x){at(o,o.return,x)}}function Tg(o,s,c){try{var p=o.stateNode;F4(p,o.type,c,s),p[Mn]=s}catch(x){at(o,o.return,x)}}function IE(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&ya(o.type)||o.tag===4}function Ag(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||IE(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&ya(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Cg(o,s,c){var p=o.tag;if(p===5||p===6)o=o.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(o,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(o),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=li));else if(p!==4&&(p===27&&ya(o.type)&&(c=o.stateNode,s=null),o=o.child,o!==null))for(Cg(o,s,c),o=o.sibling;o!==null;)Cg(o,s,c),o=o.sibling}function Od(o,s,c){var p=o.tag;if(p===5||p===6)o=o.stateNode,s?c.insertBefore(o,s):c.appendChild(o);else if(p!==4&&(p===27&&ya(o.type)&&(c=o.stateNode),o=o.child,o!==null))for(Od(o,s,c),o=o.sibling;o!==null;)Od(o,s,c),o=o.sibling}function PE(o){var s=o.stateNode,c=o.memoizedProps;try{for(var p=o.type,x=s.attributes;x.length;)s.removeAttributeNode(x[0]);mn(s,p,c),s[dn]=o,s[Mn]=c}catch(w){at(o,o.return,w)}}var yi=!1,Bt=!1,Ng=!1,RE=typeof WeakSet=="function"?WeakSet:Set,en=null;function w4(o,s){if(o=o.containerInfo,Wg=Jd,o=Gw(o),_m(o)){if("selectionStart"in o)var c={start:o.selectionStart,end:o.selectionEnd};else e:{c=(c=o.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var x=p.anchorOffset,w=p.focusNode;p=p.focusOffset;try{c.nodeType,w.nodeType}catch{c=null;break e}var N=0,k=-1,F=-1,ee=0,le=0,fe=o,ne=null;t:for(;;){for(var ie;fe!==c||x!==0&&fe.nodeType!==3||(k=N+x),fe!==w||p!==0&&fe.nodeType!==3||(F=N+p),fe.nodeType===3&&(N+=fe.nodeValue.length),(ie=fe.firstChild)!==null;)ne=fe,fe=ie;for(;;){if(fe===o)break t;if(ne===c&&++ee===x&&(k=N),ne===w&&++le===p&&(F=N),(ie=fe.nextSibling)!==null)break;fe=ne,ne=fe.parentNode}fe=ie}c=k===-1||F===-1?null:{start:k,end:F}}else c=null}c=c||{start:0,end:0}}else c=null;for(Jg={focusedElem:o,selectionRange:c},Jd=!1,en=s;en!==null;)if(s=en,o=s.child,(s.subtreeFlags&1028)!==0&&o!==null)o.return=s,en=o;else for(;en!==null;){switch(s=en,w=s.alternate,o=s.flags,s.tag){case 0:if((o&4)!==0&&(o=s.updateQueue,o=o!==null?o.events:null,o!==null))for(c=0;c<o.length;c++)x=o[c],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&w!==null){o=void 0,c=s,x=w.memoizedProps,w=w.memoizedState,p=c.stateNode;try{var Se=oo(c.type,x);o=p.getSnapshotBeforeUpdate(Se,w),p.__reactInternalSnapshotBeforeUpdate=o}catch(Pe){at(c,c.return,Pe)}}break;case 3:if((o&1024)!==0){if(o=s.stateNode.containerInfo,c=o.nodeType,c===9)Qg(o);else if(c===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Qg(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=s.sibling,o!==null){o.return=s.return,en=o;break}en=s.return}}function ME(o,s,c){var p=c.flags;switch(c.tag){case 0:case 11:case 15:xi(o,c),p&4&&su(5,c);break;case 1:if(xi(o,c),p&4)if(o=c.stateNode,s===null)try{o.componentDidMount()}catch(N){at(c,c.return,N)}else{var x=oo(c.type,s.memoizedProps);s=s.memoizedState;try{o.componentDidUpdate(x,s,o.__reactInternalSnapshotBeforeUpdate)}catch(N){at(c,c.return,N)}}p&64&&CE(c),p&512&&lu(c,c.return);break;case 3:if(xi(o,c),p&64&&(o=c.updateQueue,o!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{vS(o,s)}catch(N){at(c,c.return,N)}}break;case 27:s===null&&p&4&&PE(c);case 26:case 5:xi(o,c),s===null&&p&4&&OE(c),p&512&&lu(c,c.return);break;case 12:xi(o,c);break;case 31:xi(o,c),p&4&&jE(o,c);break;case 13:xi(o,c),p&4&&LE(o,c),p&64&&(o=c.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(c=P4.bind(null,c),X4(o,c))));break;case 22:if(p=c.memoizedState!==null||yi,!p){s=s!==null&&s.memoizedState!==null||Bt,x=yi;var w=Bt;yi=p,(Bt=s)&&!w?_i(o,c,(c.subtreeFlags&8772)!==0):xi(o,c),yi=x,Bt=w}break;case 30:break;default:xi(o,c)}}function DE(o){var s=o.alternate;s!==null&&(o.alternate=null,DE(s)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(s=o.stateNode,s!==null&&im(s)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Et=null,kn=!1;function bi(o,s,c){for(c=c.child;c!==null;)kE(o,s,c),c=c.sibling}function kE(o,s,c){if(Hn&&typeof Hn.onCommitFiberUnmount=="function")try{Hn.onCommitFiberUnmount(Rl,c)}catch{}switch(c.tag){case 26:Bt||Vr(c,s),bi(o,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Bt||Vr(c,s);var p=Et,x=kn;ya(c.type)&&(Et=c.stateNode,kn=!1),bi(o,s,c),vu(c.stateNode),Et=p,kn=x;break;case 5:Bt||Vr(c,s);case 6:if(p=Et,x=kn,Et=null,bi(o,s,c),Et=p,kn=x,Et!==null)if(kn)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(c.stateNode)}catch(w){at(c,s,w)}else try{Et.removeChild(c.stateNode)}catch(w){at(c,s,w)}break;case 18:Et!==null&&(kn?(o=Et,CT(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,c.stateNode),Cs(o)):CT(Et,c.stateNode));break;case 4:p=Et,x=kn,Et=c.stateNode.containerInfo,kn=!0,bi(o,s,c),Et=p,kn=x;break;case 0:case 11:case 14:case 15:da(2,c,s),Bt||da(4,c,s),bi(o,s,c);break;case 1:Bt||(Vr(c,s),p=c.stateNode,typeof p.componentWillUnmount=="function"&&NE(c,s,p)),bi(o,s,c);break;case 21:bi(o,s,c);break;case 22:Bt=(p=Bt)||c.memoizedState!==null,bi(o,s,c),Bt=p;break;default:bi(o,s,c)}}function jE(o,s){if(s.memoizedState===null&&(o=s.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Cs(o)}catch(c){at(s,s.return,c)}}}function LE(o,s){if(s.memoizedState===null&&(o=s.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Cs(o)}catch(c){at(s,s.return,c)}}function S4(o){switch(o.tag){case 31:case 13:case 19:var s=o.stateNode;return s===null&&(s=o.stateNode=new RE),s;case 22:return o=o.stateNode,s=o._retryCache,s===null&&(s=o._retryCache=new RE),s;default:throw Error(r(435,o.tag))}}function Id(o,s){var c=S4(o);s.forEach(function(p){if(!c.has(p)){c.add(p);var x=R4.bind(null,o,p);p.then(x,x)}})}function jn(o,s){var c=s.deletions;if(c!==null)for(var p=0;p<c.length;p++){var x=c[p],w=o,N=s,k=N;e:for(;k!==null;){switch(k.tag){case 27:if(ya(k.type)){Et=k.stateNode,kn=!1;break e}break;case 5:Et=k.stateNode,kn=!1;break e;case 3:case 4:Et=k.stateNode.containerInfo,kn=!0;break e}k=k.return}if(Et===null)throw Error(r(160));kE(w,N,x),Et=null,kn=!1,w=x.alternate,w!==null&&(w.return=null),x.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)UE(s,o),s=s.sibling}var Cr=null;function UE(o,s){var c=o.alternate,p=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:jn(s,o),Ln(o),p&4&&(da(3,o,o.return),su(3,o),da(5,o,o.return));break;case 1:jn(s,o),Ln(o),p&512&&(Bt||c===null||Vr(c,c.return)),p&64&&yi&&(o=o.updateQueue,o!==null&&(p=o.callbacks,p!==null&&(c=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=c===null?p:c.concat(p))));break;case 26:var x=Cr;if(jn(s,o),Ln(o),p&512&&(Bt||c===null||Vr(c,c.return)),p&4){var w=c!==null?c.memoizedState:null;if(p=o.memoizedState,c===null)if(p===null)if(o.stateNode===null){e:{p=o.type,c=o.memoizedProps,x=x.ownerDocument||x;t:switch(p){case"title":w=x.getElementsByTagName("title")[0],(!w||w[kl]||w[dn]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=x.createElement(p),x.head.insertBefore(w,x.querySelector("head > title"))),mn(w,p,c),w[dn]=o,Qt(w),p=w;break e;case"link":var N=UT("link","href",x).get(p+(c.href||""));if(N){for(var k=0;k<N.length;k++)if(w=N[k],w.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&w.getAttribute("rel")===(c.rel==null?null:c.rel)&&w.getAttribute("title")===(c.title==null?null:c.title)&&w.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){N.splice(k,1);break t}}w=x.createElement(p),mn(w,p,c),x.head.appendChild(w);break;case"meta":if(N=UT("meta","content",x).get(p+(c.content||""))){for(k=0;k<N.length;k++)if(w=N[k],w.getAttribute("content")===(c.content==null?null:""+c.content)&&w.getAttribute("name")===(c.name==null?null:c.name)&&w.getAttribute("property")===(c.property==null?null:c.property)&&w.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&w.getAttribute("charset")===(c.charSet==null?null:c.charSet)){N.splice(k,1);break t}}w=x.createElement(p),mn(w,p,c),x.head.appendChild(w);break;default:throw Error(r(468,p))}w[dn]=o,Qt(w),p=w}o.stateNode=p}else zT(x,o.type,o.stateNode);else o.stateNode=LT(x,p,o.memoizedProps);else w!==p?(w===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):w.count--,p===null?zT(x,o.type,o.stateNode):LT(x,p,o.memoizedProps)):p===null&&o.stateNode!==null&&Tg(o,o.memoizedProps,c.memoizedProps)}break;case 27:jn(s,o),Ln(o),p&512&&(Bt||c===null||Vr(c,c.return)),c!==null&&p&4&&Tg(o,o.memoizedProps,c.memoizedProps);break;case 5:if(jn(s,o),Ln(o),p&512&&(Bt||c===null||Vr(c,c.return)),o.flags&32){x=o.stateNode;try{Jo(x,"")}catch(Se){at(o,o.return,Se)}}p&4&&o.stateNode!=null&&(x=o.memoizedProps,Tg(o,x,c!==null?c.memoizedProps:x)),p&1024&&(Ng=!0);break;case 6:if(jn(s,o),Ln(o),p&4){if(o.stateNode===null)throw Error(r(162));p=o.memoizedProps,c=o.stateNode;try{c.nodeValue=p}catch(Se){at(o,o.return,Se)}}break;case 3:if(Vd=null,x=Cr,Cr=Gd(s.containerInfo),jn(s,o),Cr=x,Ln(o),p&4&&c!==null&&c.memoizedState.isDehydrated)try{Cs(s.containerInfo)}catch(Se){at(o,o.return,Se)}Ng&&(Ng=!1,zE(o));break;case 4:p=Cr,Cr=Gd(o.stateNode.containerInfo),jn(s,o),Ln(o),Cr=p;break;case 12:jn(s,o),Ln(o);break;case 31:jn(s,o),Ln(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Id(o,p)));break;case 13:jn(s,o),Ln(o),o.child.flags&8192&&o.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Rd=Re()),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Id(o,p)));break;case 22:x=o.memoizedState!==null;var F=c!==null&&c.memoizedState!==null,ee=yi,le=Bt;if(yi=ee||x,Bt=le||F,jn(s,o),Bt=le,yi=ee,Ln(o),p&8192)e:for(s=o.stateNode,s._visibility=x?s._visibility&-2:s._visibility|1,x&&(c===null||F||yi||Bt||so(o)),c=null,s=o;;){if(s.tag===5||s.tag===26){if(c===null){F=c=s;try{if(w=F.stateNode,x)N=w.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{k=F.stateNode;var fe=F.memoizedProps.style,ne=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;k.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(Se){at(F,F.return,Se)}}}else if(s.tag===6){if(c===null){F=s;try{F.stateNode.nodeValue=x?"":F.memoizedProps}catch(Se){at(F,F.return,Se)}}}else if(s.tag===18){if(c===null){F=s;try{var ie=F.stateNode;x?NT(ie,!0):NT(F.stateNode,!1)}catch(Se){at(F,F.return,Se)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===o)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}p&4&&(p=o.updateQueue,p!==null&&(c=p.retryQueue,c!==null&&(p.retryQueue=null,Id(o,c))));break;case 19:jn(s,o),Ln(o),p&4&&(p=o.updateQueue,p!==null&&(o.updateQueue=null,Id(o,p)));break;case 30:break;case 21:break;default:jn(s,o),Ln(o)}}function Ln(o){var s=o.flags;if(s&2){try{for(var c,p=o.return;p!==null;){if(IE(p)){c=p;break}p=p.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var x=c.stateNode,w=Ag(o);Od(o,w,x);break;case 5:var N=c.stateNode;c.flags&32&&(Jo(N,""),c.flags&=-33);var k=Ag(o);Od(o,k,N);break;case 3:case 4:var F=c.stateNode.containerInfo,ee=Ag(o);Cg(o,ee,F);break;default:throw Error(r(161))}}catch(le){at(o,o.return,le)}o.flags&=-3}s&4096&&(o.flags&=-4097)}function zE(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var s=o;zE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),o=o.sibling}}function xi(o,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)ME(o,s.alternate,s),s=s.sibling}function so(o){for(o=o.child;o!==null;){var s=o;switch(s.tag){case 0:case 11:case 14:case 15:da(4,s,s.return),so(s);break;case 1:Vr(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&NE(s,s.return,c),so(s);break;case 27:vu(s.stateNode);case 26:case 5:Vr(s,s.return),so(s);break;case 22:s.memoizedState===null&&so(s);break;case 30:so(s);break;default:so(s)}o=o.sibling}}function _i(o,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var p=s.alternate,x=o,w=s,N=w.flags;switch(w.tag){case 0:case 11:case 15:_i(x,w,c),su(4,w);break;case 1:if(_i(x,w,c),p=w,x=p.stateNode,typeof x.componentDidMount=="function")try{x.componentDidMount()}catch(ee){at(p,p.return,ee)}if(p=w,x=p.updateQueue,x!==null){var k=p.stateNode;try{var F=x.shared.hiddenCallbacks;if(F!==null)for(x.shared.hiddenCallbacks=null,x=0;x<F.length;x++)gS(F[x],k)}catch(ee){at(p,p.return,ee)}}c&&N&64&&CE(w),lu(w,w.return);break;case 27:PE(w);case 26:case 5:_i(x,w,c),c&&p===null&&N&4&&OE(w),lu(w,w.return);break;case 12:_i(x,w,c);break;case 31:_i(x,w,c),c&&N&4&&jE(x,w);break;case 13:_i(x,w,c),c&&N&4&&LE(x,w);break;case 22:w.memoizedState===null&&_i(x,w,c),lu(w,w.return);break;case 30:break;default:_i(x,w,c)}s=s.sibling}}function Og(o,s){var c=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(c=o.memoizedState.cachePool.pool),o=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(o=s.memoizedState.cachePool.pool),o!==c&&(o!=null&&o.refCount++,c!=null&&Yl(c))}function Ig(o,s){o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&Yl(o))}function Nr(o,s,c,p){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)$E(o,s,c,p),s=s.sibling}function $E(o,s,c,p){var x=s.flags;switch(s.tag){case 0:case 11:case 15:Nr(o,s,c,p),x&2048&&su(9,s);break;case 1:Nr(o,s,c,p);break;case 3:Nr(o,s,c,p),x&2048&&(o=null,s.alternate!==null&&(o=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==o&&(s.refCount++,o!=null&&Yl(o)));break;case 12:if(x&2048){Nr(o,s,c,p),o=s.stateNode;try{var w=s.memoizedProps,N=w.id,k=w.onPostCommit;typeof k=="function"&&k(N,s.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(F){at(s,s.return,F)}}else Nr(o,s,c,p);break;case 31:Nr(o,s,c,p);break;case 13:Nr(o,s,c,p);break;case 23:break;case 22:w=s.stateNode,N=s.alternate,s.memoizedState!==null?w._visibility&2?Nr(o,s,c,p):uu(o,s):w._visibility&2?Nr(o,s,c,p):(w._visibility|=2,gs(o,s,c,p,(s.subtreeFlags&10256)!==0||!1)),x&2048&&Og(N,s);break;case 24:Nr(o,s,c,p),x&2048&&Ig(s.alternate,s);break;default:Nr(o,s,c,p)}}function gs(o,s,c,p,x){for(x=x&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var w=o,N=s,k=c,F=p,ee=N.flags;switch(N.tag){case 0:case 11:case 15:gs(w,N,k,F,x),su(8,N);break;case 23:break;case 22:var le=N.stateNode;N.memoizedState!==null?le._visibility&2?gs(w,N,k,F,x):uu(w,N):(le._visibility|=2,gs(w,N,k,F,x)),x&&ee&2048&&Og(N.alternate,N);break;case 24:gs(w,N,k,F,x),x&&ee&2048&&Ig(N.alternate,N);break;default:gs(w,N,k,F,x)}s=s.sibling}}function uu(o,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=o,p=s,x=p.flags;switch(p.tag){case 22:uu(c,p),x&2048&&Og(p.alternate,p);break;case 24:uu(c,p),x&2048&&Ig(p.alternate,p);break;default:uu(c,p)}s=s.sibling}}var cu=8192;function vs(o,s,c){if(o.subtreeFlags&cu)for(o=o.child;o!==null;)BE(o,s,c),o=o.sibling}function BE(o,s,c){switch(o.tag){case 26:vs(o,s,c),o.flags&cu&&o.memoizedState!==null&&uz(c,Cr,o.memoizedState,o.memoizedProps);break;case 5:vs(o,s,c);break;case 3:case 4:var p=Cr;Cr=Gd(o.stateNode.containerInfo),vs(o,s,c),Cr=p;break;case 22:o.memoizedState===null&&(p=o.alternate,p!==null&&p.memoizedState!==null?(p=cu,cu=16777216,vs(o,s,c),cu=p):vs(o,s,c));break;default:vs(o,s,c)}}function qE(o){var s=o.alternate;if(s!==null&&(o=s.child,o!==null)){s.child=null;do s=o.sibling,o.sibling=null,o=s;while(o!==null)}}function du(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var p=s[c];en=p,GE(p,o)}qE(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)FE(o),o=o.sibling}function FE(o){switch(o.tag){case 0:case 11:case 15:du(o),o.flags&2048&&da(9,o,o.return);break;case 3:du(o);break;case 12:du(o);break;case 22:var s=o.stateNode;o.memoizedState!==null&&s._visibility&2&&(o.return===null||o.return.tag!==13)?(s._visibility&=-3,Pd(o)):du(o);break;default:du(o)}}function Pd(o){var s=o.deletions;if((o.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var p=s[c];en=p,GE(p,o)}qE(o)}for(o=o.child;o!==null;){switch(s=o,s.tag){case 0:case 11:case 15:da(8,s,s.return),Pd(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,Pd(s));break;default:Pd(s)}o=o.sibling}}function GE(o,s){for(;en!==null;){var c=en;switch(c.tag){case 0:case 11:case 15:da(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var p=c.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Yl(c.memoizedState.cache)}if(p=c.child,p!==null)p.return=c,en=p;else e:for(c=o;en!==null;){p=en;var x=p.sibling,w=p.return;if(DE(p),p===c){en=null;break e}if(x!==null){x.return=w,en=x;break e}en=w}}}var E4={getCacheForType:function(o){var s=hn(Ut),c=s.data.get(o);return c===void 0&&(c=o(),s.data.set(o,c)),c},cacheSignal:function(){return hn(Ut).controller.signal}},T4=typeof WeakMap=="function"?WeakMap:Map,rt=0,ht=null,Fe=null,He=0,it=0,Xn=null,fa=!1,ys=!1,Pg=!1,wi=0,Ot=0,ha=0,lo=0,Rg=0,Zn=0,bs=0,fu=null,Un=null,Mg=!1,Rd=0,HE=0,Md=1/0,Dd=null,pa=null,Kt=0,ma=null,xs=null,Si=0,Dg=0,kg=null,VE=null,hu=0,jg=null;function Qn(){return(rt&2)!==0&&He!==0?He&-He:j.T!==null?qg():lw()}function KE(){if(Zn===0)if((He&536870912)===0||Ke){var o=qc;qc<<=1,(qc&3932160)===0&&(qc=262144),Zn=o}else Zn=536870912;return o=Wn.current,o!==null&&(o.flags|=32),Zn}function zn(o,s,c){(o===ht&&(it===2||it===9)||o.cancelPendingCommit!==null)&&(_s(o,0),ga(o,He,Zn,!1)),Dl(o,c),((rt&2)===0||o!==ht)&&(o===ht&&((rt&2)===0&&(lo|=c),Ot===4&&ga(o,He,Zn,!1)),Kr(o))}function YE(o,s,c){if((rt&6)!==0)throw Error(r(327));var p=!c&&(s&127)===0&&(s&o.expiredLanes)===0||Ml(o,s),x=p?N4(o,s):Ug(o,s,!0),w=p;do{if(x===0){ys&&!p&&ga(o,s,0,!1);break}else{if(c=o.current.alternate,w&&!A4(c)){x=Ug(o,s,!1),w=!1;continue}if(x===2){if(w=s,o.errorRecoveryDisabledLanes&w)var N=0;else N=o.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){s=N;e:{var k=o;x=fu;var F=k.current.memoizedState.isDehydrated;if(F&&(_s(k,N).flags|=256),N=Ug(k,N,!1),N!==2){if(Pg&&!F){k.errorRecoveryDisabledLanes|=w,lo|=w,x=4;break e}w=Un,Un=x,w!==null&&(Un===null?Un=w:Un.push.apply(Un,w))}x=N}if(w=!1,x!==2)continue}}if(x===1){_s(o,0),ga(o,s,0,!0);break}e:{switch(p=o,w=x,w){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:ga(p,s,Zn,!fa);break e;case 2:Un=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(x=Rd+300-Re(),10<x)){if(ga(p,s,Zn,!fa),Gc(p,0,!0)!==0)break e;Si=s,p.timeoutHandle=TT(WE.bind(null,p,c,Un,Dd,Mg,s,Zn,lo,bs,fa,w,"Throttled",-0,0),x);break e}WE(p,c,Un,Dd,Mg,s,Zn,lo,bs,fa,w,null,-0,0)}}break}while(!0);Kr(o)}function WE(o,s,c,p,x,w,N,k,F,ee,le,fe,ne,ie){if(o.timeoutHandle=-1,fe=s.subtreeFlags,fe&8192||(fe&16785408)===16785408){fe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:li},BE(s,w,fe);var Se=(w&62914560)===w?Rd-Re():(w&4194048)===w?HE-Re():0;if(Se=cz(fe,Se),Se!==null){Si=w,o.cancelPendingCommit=Se(rT.bind(null,o,s,w,c,p,x,N,k,F,le,fe,null,ne,ie)),ga(o,w,N,!ee);return}}rT(o,s,w,c,p,x,N,k,F)}function A4(o){for(var s=o;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var p=0;p<c.length;p++){var x=c[p],w=x.getSnapshot;x=x.value;try{if(!Kn(w(),x))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ga(o,s,c,p){s&=~Rg,s&=~lo,o.suspendedLanes|=s,o.pingedLanes&=~s,p&&(o.warmLanes|=s),p=o.expirationTimes;for(var x=s;0<x;){var w=31-Vn(x),N=1<<w;p[w]=-1,x&=~N}c!==0&&aw(o,c,s)}function kd(){return(rt&6)===0?(pu(0),!1):!0}function Lg(){if(Fe!==null){if(it===0)var o=Fe.return;else o=Fe,fi=Qa=null,Qm(o),ds=null,Jl=0,o=Fe;for(;o!==null;)AE(o.alternate,o),o=o.return;Fe=null}}function _s(o,s){var c=o.timeoutHandle;c!==-1&&(o.timeoutHandle=-1,V4(c)),c=o.cancelPendingCommit,c!==null&&(o.cancelPendingCommit=null,c()),Si=0,Lg(),ht=o,Fe=c=ci(o.current,null),He=s,it=0,Xn=null,fa=!1,ys=Ml(o,s),Pg=!1,bs=Zn=Rg=lo=ha=Ot=0,Un=fu=null,Mg=!1,(s&8)!==0&&(s|=s&32);var p=o.entangledLanes;if(p!==0)for(o=o.entanglements,p&=s;0<p;){var x=31-Vn(p),w=1<<x;s|=o[x],p&=~w}return wi=s,nd(),c}function JE(o,s){ze=null,j.H=iu,s===cs||s===cd?(s=fS(),it=3):s===Bm?(s=fS(),it=4):it=s===mg?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Xn=s,Fe===null&&(Ot=1,Ed(o,ur(s,o.current)))}function XE(){var o=Wn.current;return o===null?!0:(He&4194048)===He?hr===null:(He&62914560)===He||(He&536870912)!==0?o===hr:!1}function ZE(){var o=j.H;return j.H=iu,o===null?iu:o}function QE(){var o=j.A;return j.A=E4,o}function jd(){Ot=4,fa||(He&4194048)!==He&&Wn.current!==null||(ys=!0),(ha&134217727)===0&&(lo&134217727)===0||ht===null||ga(ht,He,Zn,!1)}function Ug(o,s,c){var p=rt;rt|=2;var x=ZE(),w=QE();(ht!==o||He!==s)&&(Dd=null,_s(o,s)),s=!1;var N=Ot;e:do try{if(it!==0&&Fe!==null){var k=Fe,F=Xn;switch(it){case 8:Lg(),N=6;break e;case 3:case 2:case 9:case 6:Wn.current===null&&(s=!0);var ee=it;if(it=0,Xn=null,ws(o,k,F,ee),c&&ys){N=0;break e}break;default:ee=it,it=0,Xn=null,ws(o,k,F,ee)}}C4(),N=Ot;break}catch(le){JE(o,le)}while(!0);return s&&o.shellSuspendCounter++,fi=Qa=null,rt=p,j.H=x,j.A=w,Fe===null&&(ht=null,He=0,nd()),N}function C4(){for(;Fe!==null;)eT(Fe)}function N4(o,s){var c=rt;rt|=2;var p=ZE(),x=QE();ht!==o||He!==s?(Dd=null,Md=Re()+500,_s(o,s)):ys=Ml(o,s);e:do try{if(it!==0&&Fe!==null){s=Fe;var w=Xn;t:switch(it){case 1:it=0,Xn=null,ws(o,s,w,1);break;case 2:case 9:if(cS(w)){it=0,Xn=null,tT(s);break}s=function(){it!==2&&it!==9||ht!==o||(it=7),Kr(o)},w.then(s,s);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:cS(w)?(it=0,Xn=null,tT(s)):(it=0,Xn=null,ws(o,s,w,7));break;case 5:var N=null;switch(Fe.tag){case 26:N=Fe.memoizedState;case 5:case 27:var k=Fe;if(N?$T(N):k.stateNode.complete){it=0,Xn=null;var F=k.sibling;if(F!==null)Fe=F;else{var ee=k.return;ee!==null?(Fe=ee,Ld(ee)):Fe=null}break t}}it=0,Xn=null,ws(o,s,w,5);break;case 6:it=0,Xn=null,ws(o,s,w,6);break;case 8:Lg(),Ot=6;break e;default:throw Error(r(462))}}O4();break}catch(le){JE(o,le)}while(!0);return fi=Qa=null,j.H=p,j.A=x,rt=c,Fe!==null?0:(ht=null,He=0,nd(),Ot)}function O4(){for(;Fe!==null&&!Ye();)eT(Fe)}function eT(o){var s=EE(o.alternate,o,wi);o.memoizedProps=o.pendingProps,s===null?Ld(o):Fe=s}function tT(o){var s=o,c=s.alternate;switch(s.tag){case 15:case 0:s=yE(c,s,s.pendingProps,s.type,void 0,He);break;case 11:s=yE(c,s,s.pendingProps,s.type.render,s.ref,He);break;case 5:Qm(s);default:AE(c,s),s=Fe=Qw(s,wi),s=EE(c,s,wi)}o.memoizedProps=o.pendingProps,s===null?Ld(o):Fe=s}function ws(o,s,c,p){fi=Qa=null,Qm(s),ds=null,Jl=0;var x=s.return;try{if(v4(o,x,s,c,He)){Ot=1,Ed(o,ur(c,o.current)),Fe=null;return}}catch(w){if(x!==null)throw Fe=x,w;Ot=1,Ed(o,ur(c,o.current)),Fe=null;return}s.flags&32768?(Ke||p===1?o=!0:ys||(He&536870912)!==0?o=!1:(fa=o=!0,(p===2||p===9||p===3||p===6)&&(p=Wn.current,p!==null&&p.tag===13&&(p.flags|=16384))),nT(s,o)):Ld(s)}function Ld(o){var s=o;do{if((s.flags&32768)!==0){nT(s,fa);return}o=s.return;var c=x4(s.alternate,s,wi);if(c!==null){Fe=c;return}if(s=s.sibling,s!==null){Fe=s;return}Fe=s=o}while(s!==null);Ot===0&&(Ot=5)}function nT(o,s){do{var c=_4(o.alternate,o);if(c!==null){c.flags&=32767,Fe=c;return}if(c=o.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(o=o.sibling,o!==null)){Fe=o;return}Fe=o=c}while(o!==null);Ot=6,Fe=null}function rT(o,s,c,p,x,w,N,k,F){o.cancelPendingCommit=null;do Ud();while(Kt!==0);if((rt&6)!==0)throw Error(r(327));if(s!==null){if(s===o.current)throw Error(r(177));if(w=s.lanes|s.childLanes,w|=Am,lU(o,c,w,N,k,F),o===ht&&(Fe=ht=null,He=0),xs=s,ma=o,Si=c,Dg=w,kg=x,VE=p,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,M4($c,function(){return lT(),null})):(o.callbackNode=null,o.callbackPriority=0),p=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||p){p=j.T,j.T=null,x=G.p,G.p=2,N=rt,rt|=4;try{w4(o,s,c)}finally{rt=N,G.p=x,j.T=p}}Kt=1,iT(),aT(),oT()}}function iT(){if(Kt===1){Kt=0;var o=ma,s=xs,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=j.T,j.T=null;var p=G.p;G.p=2;var x=rt;rt|=4;try{UE(s,o);var w=Jg,N=Gw(o.containerInfo),k=w.focusedElem,F=w.selectionRange;if(N!==k&&k&&k.ownerDocument&&Fw(k.ownerDocument.documentElement,k)){if(F!==null&&_m(k)){var ee=F.start,le=F.end;if(le===void 0&&(le=ee),"selectionStart"in k)k.selectionStart=ee,k.selectionEnd=Math.min(le,k.value.length);else{var fe=k.ownerDocument||document,ne=fe&&fe.defaultView||window;if(ne.getSelection){var ie=ne.getSelection(),Se=k.textContent.length,Pe=Math.min(F.start,Se),ct=F.end===void 0?Pe:Math.min(F.end,Se);!ie.extend&&Pe>ct&&(N=ct,ct=Pe,Pe=N);var V=qw(k,Pe),H=qw(k,ct);if(V&&H&&(ie.rangeCount!==1||ie.anchorNode!==V.node||ie.anchorOffset!==V.offset||ie.focusNode!==H.node||ie.focusOffset!==H.offset)){var Q=fe.createRange();Q.setStart(V.node,V.offset),ie.removeAllRanges(),Pe>ct?(ie.addRange(Q),ie.extend(H.node,H.offset)):(Q.setEnd(H.node,H.offset),ie.addRange(Q))}}}}for(fe=[],ie=k;ie=ie.parentNode;)ie.nodeType===1&&fe.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<fe.length;k++){var de=fe[k];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}Jd=!!Wg,Jg=Wg=null}finally{rt=x,G.p=p,j.T=c}}o.current=s,Kt=2}}function aT(){if(Kt===2){Kt=0;var o=ma,s=xs,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=j.T,j.T=null;var p=G.p;G.p=2;var x=rt;rt|=4;try{ME(o,s.alternate,s)}finally{rt=x,G.p=p,j.T=c}}Kt=3}}function oT(){if(Kt===4||Kt===3){Kt=0,Je();var o=ma,s=xs,c=Si,p=VE;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Kt=5:(Kt=0,xs=ma=null,sT(o,o.pendingLanes));var x=o.pendingLanes;if(x===0&&(pa=null),nm(c),s=s.stateNode,Hn&&typeof Hn.onCommitFiberRoot=="function")try{Hn.onCommitFiberRoot(Rl,s,void 0,(s.current.flags&128)===128)}catch{}if(p!==null){s=j.T,x=G.p,G.p=2,j.T=null;try{for(var w=o.onRecoverableError,N=0;N<p.length;N++){var k=p[N];w(k.value,{componentStack:k.stack})}}finally{j.T=s,G.p=x}}(Si&3)!==0&&Ud(),Kr(o),x=o.pendingLanes,(c&261930)!==0&&(x&42)!==0?o===jg?hu++:(hu=0,jg=o):hu=0,pu(0)}}function sT(o,s){(o.pooledCacheLanes&=s)===0&&(s=o.pooledCache,s!=null&&(o.pooledCache=null,Yl(s)))}function Ud(){return iT(),aT(),oT(),lT()}function lT(){if(Kt!==5)return!1;var o=ma,s=Dg;Dg=0;var c=nm(Si),p=j.T,x=G.p;try{G.p=32>c?32:c,j.T=null,c=kg,kg=null;var w=ma,N=Si;if(Kt=0,xs=ma=null,Si=0,(rt&6)!==0)throw Error(r(331));var k=rt;if(rt|=4,FE(w.current),$E(w,w.current,N,c),rt=k,pu(0,!1),Hn&&typeof Hn.onPostCommitFiberRoot=="function")try{Hn.onPostCommitFiberRoot(Rl,w)}catch{}return!0}finally{G.p=x,j.T=p,sT(o,s)}}function uT(o,s,c){s=ur(c,s),s=pg(o.stateNode,s,2),o=la(o,s,2),o!==null&&(Dl(o,2),Kr(o))}function at(o,s,c){if(o.tag===3)uT(o,o,c);else for(;s!==null;){if(s.tag===3){uT(s,o,c);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(pa===null||!pa.has(p))){o=ur(c,o),c=cE(2),p=la(s,c,2),p!==null&&(dE(c,p,s,o),Dl(p,2),Kr(p));break}}s=s.return}}function zg(o,s,c){var p=o.pingCache;if(p===null){p=o.pingCache=new T4;var x=new Set;p.set(s,x)}else x=p.get(s),x===void 0&&(x=new Set,p.set(s,x));x.has(c)||(Pg=!0,x.add(c),o=I4.bind(null,o,s,c),s.then(o,o))}function I4(o,s,c){var p=o.pingCache;p!==null&&p.delete(s),o.pingedLanes|=o.suspendedLanes&c,o.warmLanes&=~c,ht===o&&(He&c)===c&&(Ot===4||Ot===3&&(He&62914560)===He&&300>Re()-Rd?(rt&2)===0&&_s(o,0):Rg|=c,bs===He&&(bs=0)),Kr(o)}function cT(o,s){s===0&&(s=iw()),o=Ja(o,s),o!==null&&(Dl(o,s),Kr(o))}function P4(o){var s=o.memoizedState,c=0;s!==null&&(c=s.retryLane),cT(o,c)}function R4(o,s){var c=0;switch(o.tag){case 31:case 13:var p=o.stateNode,x=o.memoizedState;x!==null&&(c=x.retryLane);break;case 19:p=o.stateNode;break;case 22:p=o.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(s),cT(o,c)}function M4(o,s){return ve(o,s)}var zd=null,Ss=null,$g=!1,$d=!1,Bg=!1,va=0;function Kr(o){o!==Ss&&o.next===null&&(Ss===null?zd=Ss=o:Ss=Ss.next=o),$d=!0,$g||($g=!0,k4())}function pu(o,s){if(!Bg&&$d){Bg=!0;do for(var c=!1,p=zd;p!==null;){if(o!==0){var x=p.pendingLanes;if(x===0)var w=0;else{var N=p.suspendedLanes,k=p.pingedLanes;w=(1<<31-Vn(42|o)+1)-1,w&=x&~(N&~k),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(c=!0,pT(p,w))}else w=He,w=Gc(p,p===ht?w:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(w&3)===0||Ml(p,w)||(c=!0,pT(p,w));p=p.next}while(c);Bg=!1}}function D4(){dT()}function dT(){$d=$g=!1;var o=0;va!==0&&H4()&&(o=va);for(var s=Re(),c=null,p=zd;p!==null;){var x=p.next,w=fT(p,s);w===0?(p.next=null,c===null?zd=x:c.next=x,x===null&&(Ss=c)):(c=p,(o!==0||(w&3)!==0)&&($d=!0)),p=x}Kt!==0&&Kt!==5||pu(o),va!==0&&(va=0)}function fT(o,s){for(var c=o.suspendedLanes,p=o.pingedLanes,x=o.expirationTimes,w=o.pendingLanes&-62914561;0<w;){var N=31-Vn(w),k=1<<N,F=x[N];F===-1?((k&c)===0||(k&p)!==0)&&(x[N]=sU(k,s)):F<=s&&(o.expiredLanes|=k),w&=~k}if(s=ht,c=He,c=Gc(o,o===s?c:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p=o.callbackNode,c===0||o===s&&(it===2||it===9)||o.cancelPendingCommit!==null)return p!==null&&p!==null&&Ne(p),o.callbackNode=null,o.callbackPriority=0;if((c&3)===0||Ml(o,c)){if(s=c&-c,s===o.callbackPriority)return s;switch(p!==null&&Ne(p),nm(c)){case 2:case 8:c=Zi;break;case 32:c=$c;break;case 268435456:c=rw;break;default:c=$c}return p=hT.bind(null,o),c=ve(c,p),o.callbackPriority=s,o.callbackNode=c,s}return p!==null&&p!==null&&Ne(p),o.callbackPriority=2,o.callbackNode=null,2}function hT(o,s){if(Kt!==0&&Kt!==5)return o.callbackNode=null,o.callbackPriority=0,null;var c=o.callbackNode;if(Ud()&&o.callbackNode!==c)return null;var p=He;return p=Gc(o,o===ht?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),p===0?null:(YE(o,p,s),fT(o,Re()),o.callbackNode!=null&&o.callbackNode===c?hT.bind(null,o):null)}function pT(o,s){if(Ud())return null;YE(o,s,!0)}function k4(){K4(function(){(rt&6)!==0?ve(cn,D4):dT()})}function qg(){if(va===0){var o=ls;o===0&&(o=Bc,Bc<<=1,(Bc&261888)===0&&(Bc=256)),va=o}return va}function mT(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Yc(""+o)}function gT(o,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,o.id&&c.setAttribute("form",o.id),s.parentNode.insertBefore(c,s),o=new FormData(o),c.parentNode.removeChild(c),o}function j4(o,s,c,p,x){if(s==="submit"&&c&&c.stateNode===x){var w=mT((x[Mn]||null).action),N=p.submitter;N&&(s=(s=N[Mn]||null)?mT(s.formAction):N.getAttribute("formAction"),s!==null&&(w=s,N=null));var k=new Zc("action","action",null,p,x);o.push({event:k,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(va!==0){var F=N?gT(x,N):new FormData(x);lg(c,{pending:!0,data:F,method:x.method,action:w},null,F)}}else typeof w=="function"&&(k.preventDefault(),F=N?gT(x,N):new FormData(x),lg(c,{pending:!0,data:F,method:x.method,action:w},w,F))},currentTarget:x}]})}}for(var Fg=0;Fg<Tm.length;Fg++){var Gg=Tm[Fg],L4=Gg.toLowerCase(),U4=Gg[0].toUpperCase()+Gg.slice(1);Ar(L4,"on"+U4)}Ar(Kw,"onAnimationEnd"),Ar(Yw,"onAnimationIteration"),Ar(Ww,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(e4,"onTransitionRun"),Ar(t4,"onTransitionStart"),Ar(n4,"onTransitionCancel"),Ar(Jw,"onTransitionEnd"),Yo("onMouseEnter",["mouseout","mouseover"]),Yo("onMouseLeave",["mouseout","mouseover"]),Yo("onPointerEnter",["pointerout","pointerover"]),Yo("onPointerLeave",["pointerout","pointerover"]),Va("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Va("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Va("onBeforeInput",["compositionend","keypress","textInput","paste"]),Va("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Va("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Va("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mu));function vT(o,s){s=(s&4)!==0;for(var c=0;c<o.length;c++){var p=o[c],x=p.event;p=p.listeners;e:{var w=void 0;if(s)for(var N=p.length-1;0<=N;N--){var k=p[N],F=k.instance,ee=k.currentTarget;if(k=k.listener,F!==w&&x.isPropagationStopped())break e;w=k,x.currentTarget=ee;try{w(x)}catch(le){td(le)}x.currentTarget=null,w=F}else for(N=0;N<p.length;N++){if(k=p[N],F=k.instance,ee=k.currentTarget,k=k.listener,F!==w&&x.isPropagationStopped())break e;w=k,x.currentTarget=ee;try{w(x)}catch(le){td(le)}x.currentTarget=null,w=F}}}}function Ge(o,s){var c=s[rm];c===void 0&&(c=s[rm]=new Set);var p=o+"__bubble";c.has(p)||(yT(s,o,2,!1),c.add(p))}function Hg(o,s,c){var p=0;s&&(p|=4),yT(c,o,p,s)}var Bd="_reactListening"+Math.random().toString(36).slice(2);function Vg(o){if(!o[Bd]){o[Bd]=!0,dw.forEach(function(c){c!=="selectionchange"&&(z4.has(c)||Hg(c,!1,o),Hg(c,!0,o))});var s=o.nodeType===9?o:o.ownerDocument;s===null||s[Bd]||(s[Bd]=!0,Hg("selectionchange",!1,s))}}function yT(o,s,c,p){switch(KT(s)){case 2:var x=hz;break;case 8:x=pz;break;default:x=sv}c=x.bind(null,s,c,o),x=void 0,!fm||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(x=!0),p?x!==void 0?o.addEventListener(s,c,{capture:!0,passive:x}):o.addEventListener(s,c,!0):x!==void 0?o.addEventListener(s,c,{passive:x}):o.addEventListener(s,c,!1)}function Kg(o,s,c,p,x){var w=p;if((s&1)===0&&(s&2)===0&&p!==null)e:for(;;){if(p===null)return;var N=p.tag;if(N===3||N===4){var k=p.stateNode.containerInfo;if(k===x)break;if(N===4)for(N=p.return;N!==null;){var F=N.tag;if((F===3||F===4)&&N.stateNode.containerInfo===x)return;N=N.return}for(;k!==null;){if(N=Ho(k),N===null)return;if(F=N.tag,F===5||F===6||F===26||F===27){p=w=N;continue e}k=k.parentNode}}p=p.return}Sw(function(){var ee=w,le=cm(c),fe=[];e:{var ne=Xw.get(o);if(ne!==void 0){var ie=Zc,Se=o;switch(o){case"keypress":if(Jc(c)===0)break e;case"keydown":case"keyup":ie=RU;break;case"focusin":Se="focus",ie=gm;break;case"focusout":Se="blur",ie=gm;break;case"beforeblur":case"afterblur":ie=gm;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Aw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=xU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=kU;break;case Kw:case Yw:case Ww:ie=SU;break;case Jw:ie=LU;break;case"scroll":case"scrollend":ie=yU;break;case"wheel":ie=zU;break;case"copy":case"cut":case"paste":ie=TU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Nw;break;case"toggle":case"beforetoggle":ie=BU}var Pe=(s&4)!==0,ct=!Pe&&(o==="scroll"||o==="scrollend"),V=Pe?ne!==null?ne+"Capture":null:ne;Pe=[];for(var H=ee,Q;H!==null;){var de=H;if(Q=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||Q===null||V===null||(de=Ll(H,V),de!=null&&Pe.push(gu(H,de,Q))),ct)break;H=H.return}0<Pe.length&&(ne=new ie(ne,Se,null,c,le),fe.push({event:ne,listeners:Pe}))}}if((s&7)===0){e:{if(ne=o==="mouseover"||o==="pointerover",ie=o==="mouseout"||o==="pointerout",ne&&c!==um&&(Se=c.relatedTarget||c.fromElement)&&(Ho(Se)||Se[Go]))break e;if((ie||ne)&&(ne=le.window===le?le:(ne=le.ownerDocument)?ne.defaultView||ne.parentWindow:window,ie?(Se=c.relatedTarget||c.toElement,ie=ee,Se=Se?Ho(Se):null,Se!==null&&(ct=a(Se),Pe=Se.tag,Se!==ct||Pe!==5&&Pe!==27&&Pe!==6)&&(Se=null)):(ie=null,Se=ee),ie!==Se)){if(Pe=Aw,de="onMouseLeave",V="onMouseEnter",H="mouse",(o==="pointerout"||o==="pointerover")&&(Pe=Nw,de="onPointerLeave",V="onPointerEnter",H="pointer"),ct=ie==null?ne:jl(ie),Q=Se==null?ne:jl(Se),ne=new Pe(de,H+"leave",ie,c,le),ne.target=ct,ne.relatedTarget=Q,de=null,Ho(le)===ee&&(Pe=new Pe(V,H+"enter",Se,c,le),Pe.target=Q,Pe.relatedTarget=ct,de=Pe),ct=de,ie&&Se)t:{for(Pe=$4,V=ie,H=Se,Q=0,de=V;de;de=Pe(de))Q++;de=0;for(var Ie=H;Ie;Ie=Pe(Ie))de++;for(;0<Q-de;)V=Pe(V),Q--;for(;0<de-Q;)H=Pe(H),de--;for(;Q--;){if(V===H||H!==null&&V===H.alternate){Pe=V;break t}V=Pe(V),H=Pe(H)}Pe=null}else Pe=null;ie!==null&&bT(fe,ne,ie,Pe,!1),Se!==null&&ct!==null&&bT(fe,ct,Se,Pe,!0)}}e:{if(ne=ee?jl(ee):window,ie=ne.nodeName&&ne.nodeName.toLowerCase(),ie==="select"||ie==="input"&&ne.type==="file")var Xe=jw;else if(Dw(ne))if(Lw)Xe=XU;else{Xe=WU;var Ae=YU}else ie=ne.nodeName,!ie||ie.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?ee&&lm(ee.elementType)&&(Xe=jw):Xe=JU;if(Xe&&(Xe=Xe(o,ee))){kw(fe,Xe,c,le);break e}Ae&&Ae(o,ne,ee),o==="focusout"&&ee&&ne.type==="number"&&ee.memoizedProps.value!=null&&sm(ne,"number",ne.value)}switch(Ae=ee?jl(ee):window,o){case"focusin":(Dw(Ae)||Ae.contentEditable==="true")&&(es=Ae,wm=ee,Hl=null);break;case"focusout":Hl=wm=es=null;break;case"mousedown":Sm=!0;break;case"contextmenu":case"mouseup":case"dragend":Sm=!1,Hw(fe,c,le);break;case"selectionchange":if(QU)break;case"keydown":case"keyup":Hw(fe,c,le)}var $e;if(ym)e:{switch(o){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Qo?Rw(o,c)&&(Ve="onCompositionEnd"):o==="keydown"&&c.keyCode===229&&(Ve="onCompositionStart");Ve&&(Ow&&c.locale!=="ko"&&(Qo||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Qo&&($e=Ew()):(ta=le,hm="value"in ta?ta.value:ta.textContent,Qo=!0)),Ae=qd(ee,Ve),0<Ae.length&&(Ve=new Cw(Ve,o,null,c,le),fe.push({event:Ve,listeners:Ae}),$e?Ve.data=$e:($e=Mw(c),$e!==null&&(Ve.data=$e)))),($e=FU?GU(o,c):HU(o,c))&&(Ve=qd(ee,"onBeforeInput"),0<Ve.length&&(Ae=new Cw("onBeforeInput","beforeinput",null,c,le),fe.push({event:Ae,listeners:Ve}),Ae.data=$e)),j4(fe,o,ee,c,le)}vT(fe,s)})}function gu(o,s,c){return{instance:o,listener:s,currentTarget:c}}function qd(o,s){for(var c=s+"Capture",p=[];o!==null;){var x=o,w=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||w===null||(x=Ll(o,c),x!=null&&p.unshift(gu(o,x,w)),x=Ll(o,s),x!=null&&p.push(gu(o,x,w))),o.tag===3)return p;o=o.return}return[]}function $4(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function bT(o,s,c,p,x){for(var w=s._reactName,N=[];c!==null&&c!==p;){var k=c,F=k.alternate,ee=k.stateNode;if(k=k.tag,F!==null&&F===p)break;k!==5&&k!==26&&k!==27||ee===null||(F=ee,x?(ee=Ll(c,w),ee!=null&&N.unshift(gu(c,ee,F))):x||(ee=Ll(c,w),ee!=null&&N.push(gu(c,ee,F)))),c=c.return}N.length!==0&&o.push({event:s,listeners:N})}var B4=/\r\n?/g,q4=/\u0000|\uFFFD/g;function xT(o){return(typeof o=="string"?o:""+o).replace(B4,`
`).replace(q4,"")}function _T(o,s){return s=xT(s),xT(o)===s}function ut(o,s,c,p,x,w){switch(c){case"children":typeof p=="string"?s==="body"||s==="textarea"&&p===""||Jo(o,p):(typeof p=="number"||typeof p=="bigint")&&s!=="body"&&Jo(o,""+p);break;case"className":Vc(o,"class",p);break;case"tabIndex":Vc(o,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Vc(o,c,p);break;case"style":_w(o,p,w);break;case"data":if(s!=="object"){Vc(o,"data",p);break}case"src":case"href":if(p===""&&(s!=="a"||c!=="href")){o.removeAttribute(c);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(c);break}p=Yc(""+p),o.setAttribute(c,p);break;case"action":case"formAction":if(typeof p=="function"){o.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(c==="formAction"?(s!=="input"&&ut(o,s,"name",x.name,x,null),ut(o,s,"formEncType",x.formEncType,x,null),ut(o,s,"formMethod",x.formMethod,x,null),ut(o,s,"formTarget",x.formTarget,x,null)):(ut(o,s,"encType",x.encType,x,null),ut(o,s,"method",x.method,x,null),ut(o,s,"target",x.target,x,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){o.removeAttribute(c);break}p=Yc(""+p),o.setAttribute(c,p);break;case"onClick":p!=null&&(o.onclick=li);break;case"onScroll":p!=null&&Ge("scroll",o);break;case"onScrollEnd":p!=null&&Ge("scrollend",o);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(c=p.__html,c!=null){if(x.children!=null)throw Error(r(60));o.innerHTML=c}}break;case"multiple":o.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":o.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){o.removeAttribute("xlink:href");break}c=Yc(""+p),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(c,""+p):o.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(c,""):o.removeAttribute(c);break;case"capture":case"download":p===!0?o.setAttribute(c,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?o.setAttribute(c,p):o.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?o.setAttribute(c,p):o.removeAttribute(c);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?o.removeAttribute(c):o.setAttribute(c,p);break;case"popover":Ge("beforetoggle",o),Ge("toggle",o),Hc(o,"popover",p);break;case"xlinkActuate":si(o,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":si(o,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":si(o,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":si(o,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":si(o,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":si(o,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":si(o,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":si(o,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":si(o,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Hc(o,"is",p);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=gU.get(c)||c,Hc(o,c,p))}}function Yg(o,s,c,p,x,w){switch(c){case"style":_w(o,p,w);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(c=p.__html,c!=null){if(x.children!=null)throw Error(r(60));o.innerHTML=c}}break;case"children":typeof p=="string"?Jo(o,p):(typeof p=="number"||typeof p=="bigint")&&Jo(o,""+p);break;case"onScroll":p!=null&&Ge("scroll",o);break;case"onScrollEnd":p!=null&&Ge("scrollend",o);break;case"onClick":p!=null&&(o.onclick=li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fw.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(x=c.endsWith("Capture"),s=c.slice(2,x?c.length-7:void 0),w=o[Mn]||null,w=w!=null?w[c]:null,typeof w=="function"&&o.removeEventListener(s,w,x),typeof p=="function")){typeof w!="function"&&w!==null&&(c in o?o[c]=null:o.hasAttribute(c)&&o.removeAttribute(c)),o.addEventListener(s,p,x);break e}c in o?o[c]=p:p===!0?o.setAttribute(c,""):Hc(o,c,p)}}}function mn(o,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",o),Ge("load",o);var p=!1,x=!1,w;for(w in c)if(c.hasOwnProperty(w)){var N=c[w];if(N!=null)switch(w){case"src":p=!0;break;case"srcSet":x=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ut(o,s,w,N,c,null)}}x&&ut(o,s,"srcSet",c.srcSet,c,null),p&&ut(o,s,"src",c.src,c,null);return;case"input":Ge("invalid",o);var k=w=N=x=null,F=null,ee=null;for(p in c)if(c.hasOwnProperty(p)){var le=c[p];if(le!=null)switch(p){case"name":x=le;break;case"type":N=le;break;case"checked":F=le;break;case"defaultChecked":ee=le;break;case"value":w=le;break;case"defaultValue":k=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,s));break;default:ut(o,s,p,le,c,null)}}vw(o,w,k,F,ee,N,x,!1);return;case"select":Ge("invalid",o),p=N=w=null;for(x in c)if(c.hasOwnProperty(x)&&(k=c[x],k!=null))switch(x){case"value":w=k;break;case"defaultValue":N=k;break;case"multiple":p=k;default:ut(o,s,x,k,c,null)}s=w,c=N,o.multiple=!!p,s!=null?Wo(o,!!p,s,!1):c!=null&&Wo(o,!!p,c,!0);return;case"textarea":Ge("invalid",o),w=x=p=null;for(N in c)if(c.hasOwnProperty(N)&&(k=c[N],k!=null))switch(N){case"value":p=k;break;case"defaultValue":x=k;break;case"children":w=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:ut(o,s,N,k,c,null)}bw(o,p,x,w);return;case"option":for(F in c)if(c.hasOwnProperty(F)&&(p=c[F],p!=null))switch(F){case"selected":o.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:ut(o,s,F,p,c,null)}return;case"dialog":Ge("beforetoggle",o),Ge("toggle",o),Ge("cancel",o),Ge("close",o);break;case"iframe":case"object":Ge("load",o);break;case"video":case"audio":for(p=0;p<mu.length;p++)Ge(mu[p],o);break;case"image":Ge("error",o),Ge("load",o);break;case"details":Ge("toggle",o);break;case"embed":case"source":case"link":Ge("error",o),Ge("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in c)if(c.hasOwnProperty(ee)&&(p=c[ee],p!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ut(o,s,ee,p,c,null)}return;default:if(lm(s)){for(le in c)c.hasOwnProperty(le)&&(p=c[le],p!==void 0&&Yg(o,s,le,p,c,void 0));return}}for(k in c)c.hasOwnProperty(k)&&(p=c[k],p!=null&&ut(o,s,k,p,c,null))}function F4(o,s,c,p){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var x=null,w=null,N=null,k=null,F=null,ee=null,le=null;for(ie in c){var fe=c[ie];if(c.hasOwnProperty(ie)&&fe!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":F=fe;default:p.hasOwnProperty(ie)||ut(o,s,ie,null,p,fe)}}for(var ne in p){var ie=p[ne];if(fe=c[ne],p.hasOwnProperty(ne)&&(ie!=null||fe!=null))switch(ne){case"type":w=ie;break;case"name":x=ie;break;case"checked":ee=ie;break;case"defaultChecked":le=ie;break;case"value":N=ie;break;case"defaultValue":k=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,s));break;default:ie!==fe&&ut(o,s,ne,ie,p,fe)}}om(o,N,k,F,ee,le,w,x);return;case"select":ie=N=k=ne=null;for(w in c)if(F=c[w],c.hasOwnProperty(w)&&F!=null)switch(w){case"value":break;case"multiple":ie=F;default:p.hasOwnProperty(w)||ut(o,s,w,null,p,F)}for(x in p)if(w=p[x],F=c[x],p.hasOwnProperty(x)&&(w!=null||F!=null))switch(x){case"value":ne=w;break;case"defaultValue":k=w;break;case"multiple":N=w;default:w!==F&&ut(o,s,x,w,p,F)}s=k,c=N,p=ie,ne!=null?Wo(o,!!c,ne,!1):!!p!=!!c&&(s!=null?Wo(o,!!c,s,!0):Wo(o,!!c,c?[]:"",!1));return;case"textarea":ie=ne=null;for(k in c)if(x=c[k],c.hasOwnProperty(k)&&x!=null&&!p.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:ut(o,s,k,null,p,x)}for(N in p)if(x=p[N],w=c[N],p.hasOwnProperty(N)&&(x!=null||w!=null))switch(N){case"value":ne=x;break;case"defaultValue":ie=x;break;case"children":break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(r(91));break;default:x!==w&&ut(o,s,N,x,p,w)}yw(o,ne,ie);return;case"option":for(var Se in c)if(ne=c[Se],c.hasOwnProperty(Se)&&ne!=null&&!p.hasOwnProperty(Se))switch(Se){case"selected":o.selected=!1;break;default:ut(o,s,Se,null,p,ne)}for(F in p)if(ne=p[F],ie=c[F],p.hasOwnProperty(F)&&ne!==ie&&(ne!=null||ie!=null))switch(F){case"selected":o.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:ut(o,s,F,ne,p,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in c)ne=c[Pe],c.hasOwnProperty(Pe)&&ne!=null&&!p.hasOwnProperty(Pe)&&ut(o,s,Pe,null,p,ne);for(ee in p)if(ne=p[ee],ie=c[ee],p.hasOwnProperty(ee)&&ne!==ie&&(ne!=null||ie!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,s));break;default:ut(o,s,ee,ne,p,ie)}return;default:if(lm(s)){for(var ct in c)ne=c[ct],c.hasOwnProperty(ct)&&ne!==void 0&&!p.hasOwnProperty(ct)&&Yg(o,s,ct,void 0,p,ne);for(le in p)ne=p[le],ie=c[le],!p.hasOwnProperty(le)||ne===ie||ne===void 0&&ie===void 0||Yg(o,s,le,ne,p,ie);return}}for(var V in c)ne=c[V],c.hasOwnProperty(V)&&ne!=null&&!p.hasOwnProperty(V)&&ut(o,s,V,null,p,ne);for(fe in p)ne=p[fe],ie=c[fe],!p.hasOwnProperty(fe)||ne===ie||ne==null&&ie==null||ut(o,s,fe,ne,p,ie)}function wT(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function G4(){if(typeof performance.getEntriesByType=="function"){for(var o=0,s=0,c=performance.getEntriesByType("resource"),p=0;p<c.length;p++){var x=c[p],w=x.transferSize,N=x.initiatorType,k=x.duration;if(w&&k&&wT(N)){for(N=0,k=x.responseEnd,p+=1;p<c.length;p++){var F=c[p],ee=F.startTime;if(ee>k)break;var le=F.transferSize,fe=F.initiatorType;le&&wT(fe)&&(F=F.responseEnd,N+=le*(F<k?1:(k-ee)/(F-ee)))}if(--p,s+=8*(w+N)/(x.duration/1e3),o++,10<o)break}}if(0<o)return s/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var Wg=null,Jg=null;function Fd(o){return o.nodeType===9?o:o.ownerDocument}function ST(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ET(o,s){if(o===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&s==="foreignObject"?0:o}function Xg(o,s){return o==="textarea"||o==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Zg=null;function H4(){var o=window.event;return o&&o.type==="popstate"?o===Zg?!1:(Zg=o,!0):(Zg=null,!1)}var TT=typeof setTimeout=="function"?setTimeout:void 0,V4=typeof clearTimeout=="function"?clearTimeout:void 0,AT=typeof Promise=="function"?Promise:void 0,K4=typeof queueMicrotask=="function"?queueMicrotask:typeof AT<"u"?function(o){return AT.resolve(null).then(o).catch(Y4)}:TT;function Y4(o){setTimeout(function(){throw o})}function ya(o){return o==="head"}function CT(o,s){var c=s,p=0;do{var x=c.nextSibling;if(o.removeChild(c),x&&x.nodeType===8)if(c=x.data,c==="/$"||c==="/&"){if(p===0){o.removeChild(x),Cs(s);return}p--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")p++;else if(c==="html")vu(o.ownerDocument.documentElement);else if(c==="head"){c=o.ownerDocument.head,vu(c);for(var w=c.firstChild;w;){var N=w.nextSibling,k=w.nodeName;w[kl]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&w.rel.toLowerCase()==="stylesheet"||c.removeChild(w),w=N}}else c==="body"&&vu(o.ownerDocument.body);c=x}while(c);Cs(s)}function NT(o,s){var c=o;o=0;do{var p=c.nextSibling;if(c.nodeType===1?s?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(s?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(o===0)break;o--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||o++;c=p}while(c)}function Qg(o){var s=o.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Qg(c),im(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}o.removeChild(c)}}function W4(o,s,c,p){for(;o.nodeType===1;){var x=c;if(o.nodeName.toLowerCase()!==s.toLowerCase()){if(!p&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(p){if(!o[kl])switch(s){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(w=o.getAttribute("rel"),w==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(w!==x.rel||o.getAttribute("href")!==(x.href==null||x.href===""?null:x.href)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin)||o.getAttribute("title")!==(x.title==null?null:x.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(w=o.getAttribute("src"),(w!==(x.src==null?null:x.src)||o.getAttribute("type")!==(x.type==null?null:x.type)||o.getAttribute("crossorigin")!==(x.crossOrigin==null?null:x.crossOrigin))&&w&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(s==="input"&&o.type==="hidden"){var w=x.name==null?null:""+x.name;if(x.type==="hidden"&&o.getAttribute("name")===w)return o}else return o;if(o=pr(o.nextSibling),o===null)break}return null}function J4(o,s,c){if(s==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=pr(o.nextSibling),o===null))return null;return o}function OT(o,s){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!s||(o=pr(o.nextSibling),o===null))return null;return o}function ev(o){return o.data==="$?"||o.data==="$~"}function tv(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function X4(o,s){var c=o.ownerDocument;if(o.data==="$~")o._reactRetry=s;else if(o.data!=="$?"||c.readyState!=="loading")s();else{var p=function(){s(),c.removeEventListener("DOMContentLoaded",p)};c.addEventListener("DOMContentLoaded",p),o._reactRetry=p}}function pr(o){for(;o!=null;o=o.nextSibling){var s=o.nodeType;if(s===1||s===3)break;if(s===8){if(s=o.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return o}var nv=null;function IT(o){o=o.nextSibling;for(var s=0;o;){if(o.nodeType===8){var c=o.data;if(c==="/$"||c==="/&"){if(s===0)return pr(o.nextSibling);s--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||s++}o=o.nextSibling}return null}function PT(o){o=o.previousSibling;for(var s=0;o;){if(o.nodeType===8){var c=o.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(s===0)return o;s--}else c!=="/$"&&c!=="/&"||s++}o=o.previousSibling}return null}function RT(o,s,c){switch(s=Fd(c),o){case"html":if(o=s.documentElement,!o)throw Error(r(452));return o;case"head":if(o=s.head,!o)throw Error(r(453));return o;case"body":if(o=s.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function vu(o){for(var s=o.attributes;s.length;)o.removeAttributeNode(s[0]);im(o)}var mr=new Map,MT=new Set;function Gd(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Ei=G.d;G.d={f:Z4,r:Q4,D:ez,C:tz,L:nz,m:rz,X:az,S:iz,M:oz};function Z4(){var o=Ei.f(),s=kd();return o||s}function Q4(o){var s=Vo(o);s!==null&&s.tag===5&&s.type==="form"?JS(s):Ei.r(o)}var Es=typeof document>"u"?null:document;function DT(o,s,c){var p=Es;if(p&&typeof s=="string"&&s){var x=sr(s);x='link[rel="'+o+'"][href="'+x+'"]',typeof c=="string"&&(x+='[crossorigin="'+c+'"]'),MT.has(x)||(MT.add(x),o={rel:o,crossOrigin:c,href:s},p.querySelector(x)===null&&(s=p.createElement("link"),mn(s,"link",o),Qt(s),p.head.appendChild(s)))}}function ez(o){Ei.D(o),DT("dns-prefetch",o,null)}function tz(o,s){Ei.C(o,s),DT("preconnect",o,s)}function nz(o,s,c){Ei.L(o,s,c);var p=Es;if(p&&o&&s){var x='link[rel="preload"][as="'+sr(s)+'"]';s==="image"&&c&&c.imageSrcSet?(x+='[imagesrcset="'+sr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(x+='[imagesizes="'+sr(c.imageSizes)+'"]')):x+='[href="'+sr(o)+'"]';var w=x;switch(s){case"style":w=Ts(o);break;case"script":w=As(o)}mr.has(w)||(o=m({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:o,as:s},c),mr.set(w,o),p.querySelector(x)!==null||s==="style"&&p.querySelector(yu(w))||s==="script"&&p.querySelector(bu(w))||(s=p.createElement("link"),mn(s,"link",o),Qt(s),p.head.appendChild(s)))}}function rz(o,s){Ei.m(o,s);var c=Es;if(c&&o){var p=s&&typeof s.as=="string"?s.as:"script",x='link[rel="modulepreload"][as="'+sr(p)+'"][href="'+sr(o)+'"]',w=x;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=As(o)}if(!mr.has(w)&&(o=m({rel:"modulepreload",href:o},s),mr.set(w,o),c.querySelector(x)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(bu(w)))return}p=c.createElement("link"),mn(p,"link",o),Qt(p),c.head.appendChild(p)}}}function iz(o,s,c){Ei.S(o,s,c);var p=Es;if(p&&o){var x=Ko(p).hoistableStyles,w=Ts(o);s=s||"default";var N=x.get(w);if(!N){var k={loading:0,preload:null};if(N=p.querySelector(yu(w)))k.loading=5;else{o=m({rel:"stylesheet",href:o,"data-precedence":s},c),(c=mr.get(w))&&rv(o,c);var F=N=p.createElement("link");Qt(F),mn(F,"link",o),F._p=new Promise(function(ee,le){F.onload=ee,F.onerror=le}),F.addEventListener("load",function(){k.loading|=1}),F.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Hd(N,s,p)}N={type:"stylesheet",instance:N,count:1,state:k},x.set(w,N)}}}function az(o,s){Ei.X(o,s);var c=Es;if(c&&o){var p=Ko(c).hoistableScripts,x=As(o),w=p.get(x);w||(w=c.querySelector(bu(x)),w||(o=m({src:o,async:!0},s),(s=mr.get(x))&&iv(o,s),w=c.createElement("script"),Qt(w),mn(w,"link",o),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(x,w))}}function oz(o,s){Ei.M(o,s);var c=Es;if(c&&o){var p=Ko(c).hoistableScripts,x=As(o),w=p.get(x);w||(w=c.querySelector(bu(x)),w||(o=m({src:o,async:!0,type:"module"},s),(s=mr.get(x))&&iv(o,s),w=c.createElement("script"),Qt(w),mn(w,"link",o),c.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},p.set(x,w))}}function kT(o,s,c,p){var x=(x=xe.current)?Gd(x):null;if(!x)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=Ts(c.href),c=Ko(x).hoistableStyles,p=c.get(s),p||(p={type:"style",instance:null,count:0,state:null},c.set(s,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){o=Ts(c.href);var w=Ko(x).hoistableStyles,N=w.get(o);if(N||(x=x.ownerDocument||x,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(o,N),(w=x.querySelector(yu(o)))&&!w._p&&(N.instance=w,N.state.loading=5),mr.has(o)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},mr.set(o,c),w||sz(x,o,c,N.state))),s&&p===null)throw Error(r(528,""));return N}if(s&&p!==null)throw Error(r(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=As(c),c=Ko(x).hoistableScripts,p=c.get(s),p||(p={type:"script",instance:null,count:0,state:null},c.set(s,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function Ts(o){return'href="'+sr(o)+'"'}function yu(o){return'link[rel="stylesheet"]['+o+"]"}function jT(o){return m({},o,{"data-precedence":o.precedence,precedence:null})}function sz(o,s,c,p){o.querySelector('link[rel="preload"][as="style"]['+s+"]")?p.loading=1:(s=o.createElement("link"),p.preload=s,s.addEventListener("load",function(){return p.loading|=1}),s.addEventListener("error",function(){return p.loading|=2}),mn(s,"link",c),Qt(s),o.head.appendChild(s))}function As(o){return'[src="'+sr(o)+'"]'}function bu(o){return"script[async]"+o}function LT(o,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var p=o.querySelector('style[data-href~="'+sr(c.href)+'"]');if(p)return s.instance=p,Qt(p),p;var x=m({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return p=(o.ownerDocument||o).createElement("style"),Qt(p),mn(p,"style",x),Hd(p,c.precedence,o),s.instance=p;case"stylesheet":x=Ts(c.href);var w=o.querySelector(yu(x));if(w)return s.state.loading|=4,s.instance=w,Qt(w),w;p=jT(c),(x=mr.get(x))&&rv(p,x),w=(o.ownerDocument||o).createElement("link"),Qt(w);var N=w;return N._p=new Promise(function(k,F){N.onload=k,N.onerror=F}),mn(w,"link",p),s.state.loading|=4,Hd(w,c.precedence,o),s.instance=w;case"script":return w=As(c.src),(x=o.querySelector(bu(w)))?(s.instance=x,Qt(x),x):(p=c,(x=mr.get(w))&&(p=m({},c),iv(p,x)),o=o.ownerDocument||o,x=o.createElement("script"),Qt(x),mn(x,"link",p),o.head.appendChild(x),s.instance=x);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(p=s.instance,s.state.loading|=4,Hd(p,c.precedence,o));return s.instance}function Hd(o,s,c){for(var p=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),x=p.length?p[p.length-1]:null,w=x,N=0;N<p.length;N++){var k=p[N];if(k.dataset.precedence===s)w=k;else if(w!==x)break}w?w.parentNode.insertBefore(o,w.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(o,s.firstChild))}function rv(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.title==null&&(o.title=s.title)}function iv(o,s){o.crossOrigin==null&&(o.crossOrigin=s.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=s.referrerPolicy),o.integrity==null&&(o.integrity=s.integrity)}var Vd=null;function UT(o,s,c){if(Vd===null){var p=new Map,x=Vd=new Map;x.set(c,p)}else x=Vd,p=x.get(c),p||(p=new Map,x.set(c,p));if(p.has(o))return p;for(p.set(o,null),c=c.getElementsByTagName(o),x=0;x<c.length;x++){var w=c[x];if(!(w[kl]||w[dn]||o==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var N=w.getAttribute(s)||"";N=o+N;var k=p.get(N);k?k.push(w):p.set(N,[w])}}return p}function zT(o,s,c){o=o.ownerDocument||o,o.head.insertBefore(c,s==="title"?o.querySelector("head > title"):null)}function lz(o,s,c){if(c===1||s.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return o=s.disabled,typeof s.precedence=="string"&&o==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function $T(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function uz(o,s,c,p){if(c.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var x=Ts(p.href),w=s.querySelector(yu(x));if(w){s=w._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(o.count++,o=Kd.bind(o),s.then(o,o)),c.state.loading|=4,c.instance=w,Qt(w);return}w=s.ownerDocument||s,p=jT(p),(x=mr.get(x))&&rv(p,x),w=w.createElement("link"),Qt(w);var N=w;N._p=new Promise(function(k,F){N.onload=k,N.onerror=F}),mn(w,"link",p),c.instance=w}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(c,s),(s=c.state.preload)&&(c.state.loading&3)===0&&(o.count++,c=Kd.bind(o),s.addEventListener("load",c),s.addEventListener("error",c))}}var av=0;function cz(o,s){return o.stylesheets&&o.count===0&&Wd(o,o.stylesheets),0<o.count||0<o.imgCount?function(c){var p=setTimeout(function(){if(o.stylesheets&&Wd(o,o.stylesheets),o.unsuspend){var w=o.unsuspend;o.unsuspend=null,w()}},6e4+s);0<o.imgBytes&&av===0&&(av=62500*G4());var x=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Wd(o,o.stylesheets),o.unsuspend)){var w=o.unsuspend;o.unsuspend=null,w()}},(o.imgBytes>av?50:800)+s);return o.unsuspend=c,function(){o.unsuspend=null,clearTimeout(p),clearTimeout(x)}}:null}function Kd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wd(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Yd=null;function Wd(o,s){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Yd=new Map,s.forEach(dz,o),Yd=null,Kd.call(o))}function dz(o,s){if(!(s.state.loading&4)){var c=Yd.get(o);if(c)var p=c.get(null);else{c=new Map,Yd.set(o,c);for(var x=o.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<x.length;w++){var N=x[w];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(c.set(N.dataset.precedence,N),p=N)}p&&c.set(null,p)}x=s.instance,N=x.getAttribute("data-precedence"),w=c.get(N)||p,w===p&&c.set(null,x),c.set(N,x),this.count++,p=Kd.bind(this),x.addEventListener("load",p),x.addEventListener("error",p),w?w.parentNode.insertBefore(x,w.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(x,o.firstChild)),s.state.loading|=4}}var xu={$$typeof:I,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function fz(o,s,c,p,x,w,N,k,F){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=em(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=em(0),this.hiddenUpdates=em(null),this.identifierPrefix=p,this.onUncaughtError=x,this.onCaughtError=w,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function BT(o,s,c,p,x,w,N,k,F,ee,le,fe){return o=new fz(o,s,c,N,F,ee,le,fe,k),s=1,w===!0&&(s|=24),w=Yn(3,null,null,s),o.current=w,w.stateNode=o,s=Um(),s.refCount++,o.pooledCache=s,s.refCount++,w.memoizedState={element:p,isDehydrated:c,cache:s},qm(w),o}function qT(o){return o?(o=rs,o):rs}function FT(o,s,c,p,x,w){x=qT(x),p.context===null?p.context=x:p.pendingContext=x,p=sa(s),p.payload={element:c},w=w===void 0?null:w,w!==null&&(p.callback=w),c=la(o,p,s),c!==null&&(zn(c,o,s),Zl(c,o,s))}function GT(o,s){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var c=o.retryLane;o.retryLane=c!==0&&c<s?c:s}}function ov(o,s){GT(o,s),(o=o.alternate)&&GT(o,s)}function HT(o){if(o.tag===13||o.tag===31){var s=Ja(o,67108864);s!==null&&zn(s,o,67108864),ov(o,67108864)}}function VT(o){if(o.tag===13||o.tag===31){var s=Qn();s=tm(s);var c=Ja(o,s);c!==null&&zn(c,o,s),ov(o,s)}}var Jd=!0;function hz(o,s,c,p){var x=j.T;j.T=null;var w=G.p;try{G.p=2,sv(o,s,c,p)}finally{G.p=w,j.T=x}}function pz(o,s,c,p){var x=j.T;j.T=null;var w=G.p;try{G.p=8,sv(o,s,c,p)}finally{G.p=w,j.T=x}}function sv(o,s,c,p){if(Jd){var x=lv(p);if(x===null)Kg(o,s,p,Xd,c),YT(o,p);else if(gz(x,o,s,c,p))p.stopPropagation();else if(YT(o,p),s&4&&-1<mz.indexOf(o)){for(;x!==null;){var w=Vo(x);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var N=Ha(w.pendingLanes);if(N!==0){var k=w;for(k.pendingLanes|=2,k.entangledLanes|=2;N;){var F=1<<31-Vn(N);k.entanglements[1]|=F,N&=~F}Kr(w),(rt&6)===0&&(Md=Re()+500,pu(0))}}break;case 31:case 13:k=Ja(w,2),k!==null&&zn(k,w,2),kd(),ov(w,2)}if(w=lv(p),w===null&&Kg(o,s,p,Xd,c),w===x)break;x=w}x!==null&&p.stopPropagation()}else Kg(o,s,p,null,c)}}function lv(o){return o=cm(o),uv(o)}var Xd=null;function uv(o){if(Xd=null,o=Ho(o),o!==null){var s=a(o);if(s===null)o=null;else{var c=s.tag;if(c===13){if(o=l(s),o!==null)return o;o=null}else if(c===31){if(o=u(s),o!==null)return o;o=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;o=null}else s!==o&&(o=null)}}return Xd=o,null}function KT(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(st()){case cn:return 2;case Zi:return 8;case $c:case tU:return 32;case rw:return 268435456;default:return 32}default:return 32}}var cv=!1,ba=null,xa=null,_a=null,_u=new Map,wu=new Map,wa=[],mz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function YT(o,s){switch(o){case"focusin":case"focusout":ba=null;break;case"dragenter":case"dragleave":xa=null;break;case"mouseover":case"mouseout":_a=null;break;case"pointerover":case"pointerout":_u.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":wu.delete(s.pointerId)}}function Su(o,s,c,p,x,w){return o===null||o.nativeEvent!==w?(o={blockedOn:s,domEventName:c,eventSystemFlags:p,nativeEvent:w,targetContainers:[x]},s!==null&&(s=Vo(s),s!==null&&HT(s)),o):(o.eventSystemFlags|=p,s=o.targetContainers,x!==null&&s.indexOf(x)===-1&&s.push(x),o)}function gz(o,s,c,p,x){switch(s){case"focusin":return ba=Su(ba,o,s,c,p,x),!0;case"dragenter":return xa=Su(xa,o,s,c,p,x),!0;case"mouseover":return _a=Su(_a,o,s,c,p,x),!0;case"pointerover":var w=x.pointerId;return _u.set(w,Su(_u.get(w)||null,o,s,c,p,x)),!0;case"gotpointercapture":return w=x.pointerId,wu.set(w,Su(wu.get(w)||null,o,s,c,p,x)),!0}return!1}function WT(o){var s=Ho(o.target);if(s!==null){var c=a(s);if(c!==null){if(s=c.tag,s===13){if(s=l(c),s!==null){o.blockedOn=s,uw(o.priority,function(){VT(c)});return}}else if(s===31){if(s=u(c),s!==null){o.blockedOn=s,uw(o.priority,function(){VT(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){o.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Zd(o){if(o.blockedOn!==null)return!1;for(var s=o.targetContainers;0<s.length;){var c=lv(o.nativeEvent);if(c===null){c=o.nativeEvent;var p=new c.constructor(c.type,c);um=p,c.target.dispatchEvent(p),um=null}else return s=Vo(c),s!==null&&HT(s),o.blockedOn=c,!1;s.shift()}return!0}function JT(o,s,c){Zd(o)&&c.delete(s)}function vz(){cv=!1,ba!==null&&Zd(ba)&&(ba=null),xa!==null&&Zd(xa)&&(xa=null),_a!==null&&Zd(_a)&&(_a=null),_u.forEach(JT),wu.forEach(JT)}function Qd(o,s){o.blockedOn===s&&(o.blockedOn=null,cv||(cv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,vz)))}var ef=null;function XT(o){ef!==o&&(ef=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){ef===o&&(ef=null);for(var s=0;s<o.length;s+=3){var c=o[s],p=o[s+1],x=o[s+2];if(typeof p!="function"){if(uv(p||c)===null)continue;break}var w=Vo(c);w!==null&&(o.splice(s,3),s-=3,lg(w,{pending:!0,data:x,method:c.method,action:p},p,x))}}))}function Cs(o){function s(F){return Qd(F,o)}ba!==null&&Qd(ba,o),xa!==null&&Qd(xa,o),_a!==null&&Qd(_a,o),_u.forEach(s),wu.forEach(s);for(var c=0;c<wa.length;c++){var p=wa[c];p.blockedOn===o&&(p.blockedOn=null)}for(;0<wa.length&&(c=wa[0],c.blockedOn===null);)WT(c),c.blockedOn===null&&wa.shift();if(c=(o.ownerDocument||o).$$reactFormReplay,c!=null)for(p=0;p<c.length;p+=3){var x=c[p],w=c[p+1],N=x[Mn]||null;if(typeof w=="function")N||XT(c);else if(N){var k=null;if(w&&w.hasAttribute("formAction")){if(x=w,N=w[Mn]||null)k=N.formAction;else if(uv(x)!==null)continue}else k=N.action;typeof k=="function"?c[p+1]=k:(c.splice(p,3),p-=3),XT(c)}}}function ZT(){function o(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(N){return x=N})},focusReset:"manual",scroll:"manual"})}function s(){x!==null&&(x(),x=null),p||setTimeout(c,20)}function c(){if(!p&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,x=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(c,100),function(){p=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),x!==null&&(x(),x=null)}}}function dv(o){this._internalRoot=o}tf.prototype.render=dv.prototype.render=function(o){var s=this._internalRoot;if(s===null)throw Error(r(409));var c=s.current,p=Qn();FT(c,p,o,s,null,null)},tf.prototype.unmount=dv.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var s=o.containerInfo;FT(o.current,2,null,o,null,null),kd(),s[Go]=null}};function tf(o){this._internalRoot=o}tf.prototype.unstable_scheduleHydration=function(o){if(o){var s=lw();o={blockedOn:null,target:o,priority:s};for(var c=0;c<wa.length&&s!==0&&s<wa[c].priority;c++);wa.splice(c,0,o),c===0&&WT(o)}};var QT=t.version;if(QT!=="19.2.4")throw Error(r(527,QT,"19.2.4"));G.findDOMNode=function(o){var s=o._reactInternals;if(s===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=d(s),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var yz={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nf.isDisabled&&nf.supportsFiber)try{Rl=nf.inject(yz),Hn=nf}catch{}}return Tu.createRoot=function(o,s){if(!i(o))throw Error(r(299));var c=!1,p="",x=oE,w=sE,N=lE;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(x=s.onUncaughtError),s.onCaughtError!==void 0&&(w=s.onCaughtError),s.onRecoverableError!==void 0&&(N=s.onRecoverableError)),s=BT(o,1,!1,null,null,c,p,null,x,w,N,ZT),o[Go]=s.current,Vg(o),new dv(s)},Tu.hydrateRoot=function(o,s,c){if(!i(o))throw Error(r(299));var p=!1,x="",w=oE,N=sE,k=lE,F=null;return c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onUncaughtError!==void 0&&(w=c.onUncaughtError),c.onCaughtError!==void 0&&(N=c.onCaughtError),c.onRecoverableError!==void 0&&(k=c.onRecoverableError),c.formState!==void 0&&(F=c.formState)),s=BT(o,1,!0,s,c??null,p,x,F,w,N,k,ZT),s.context=qT(null),c=s.current,p=Qn(),p=tm(p),x=sa(p),x.callback=null,la(c,x,p),c=p,s.current.lanes=c,Dl(s,c),Kr(s),o[Go]=s.current,Vg(o),new tf(s)},Tu.version="19.2.4",Tu}var uA;function Rz(){if(uA)return mv.exports;uA=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),mv.exports=Pz(),mv.exports}var Mz=Rz();const Dz=Br(Mz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=e=>{const t=jz(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Lz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=A.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...u},f)=>A.createElement("svg",{ref:f,...Lz,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:CR("lucide",i),...!a&&!Uz(u)&&{"aria-hidden":"true"},...u},[...l.map(([d,h])=>A.createElement(d,h)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=(e,t)=>{const n=A.forwardRef(({className:r,...i},a)=>A.createElement(zz,{ref:a,iconNode:t,className:CR(`lucide-${kz(cA(e))}`,`lucide-${e}`,r),...i}));return n.displayName=cA(e),n};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]],Bz=Ue("arrow-down-to-line",$z);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],NR=Ue("arrow-down",qz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],OR=Ue("arrow-up",Fz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],dA=Ue("brain-circuit",Gz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],Vz=Ue("calendar-clock",Hz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Yz=Ue("calendar-days",Kz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],h0=Ue("calendar",Wz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Xz=Ue("chart-column",Jz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],fA=Ue("chevron-down",Zz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],hA=Ue("chevron-right",Qz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],t$=Ue("circle-alert",e$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],bv=Ue("circle-arrow-down",n$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],p0=Ue("circle-arrow-up",r$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],qb=Ue("circle-check-big",i$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],IR=Ue("circle-check",a$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],s$=Ue("clock",o$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],u$=Ue("credit-card",l$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],pA=Ue("database",c$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],PR=Ue("ellipsis-vertical",d$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],h$=Ue("eye-off",f$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p$=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],RR=Ue("eye",p$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m$=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Fb=Ue("file-text",m$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g$=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],MR=Ue("file-up",g$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v$=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],y$=Ue("funnel",v$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],x$=Ue("info",b$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _$=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],w$=Ue("layout-dashboard",_$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=[["path",{d:"M2 5h20",key:"1fs1ex"}],["path",{d:"M6 12h12",key:"8npq4p"}],["path",{d:"M9 19h6",key:"456am0"}]],E$=Ue("list-filter",S$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Yu=Ue("loader-circle",T$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],C$=Ue("log-in",A$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],O$=Ue("log-out",N$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],mA=Ue("maximize-2",I$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],R$=Ue("menu",P$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ja=Ue("pen",M$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Qr=Ue("plus",D$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],vl=Ue("search",k$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],L$=Ue("shield",j$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=[["path",{d:"M13.172 2a2 2 0 0 1 1.414.586l6.71 6.71a2.4 2.4 0 0 1 0 3.408l-4.592 4.592a2.4 2.4 0 0 1-3.408 0l-6.71-6.71A2 2 0 0 1 6 9.172V3a1 1 0 0 1 1-1z",key:"16rjxf"}],["path",{d:"M2 7v6.172a2 2 0 0 0 .586 1.414l6.71 6.71a2.4 2.4 0 0 0 3.191.193",key:"178nd4"}],["circle",{cx:"10.5",cy:"6.5",r:".5",fill:"currentColor",key:"12ikhr"}]],m0=Ue("tags",U$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],kr=Ue("trash-2",z$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],xv=Ue("trending-down",$$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ci=Ue("trending-up",B$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q$=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Bf=Ue("triangle-alert",q$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],DR=Ue("wallet",F$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Wu=Ue("x",G$);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H$=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],V$=Ue("zap",H$);function kR(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=kR(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Qe(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=kR(e))&&(r&&(r+=" "),r+=t);return r}var K$=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Gb(e){if(typeof e!="string")return!1;var t=K$;return t.includes(e)}var Y$=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],W$=new Set(Y$);function jR(e){return typeof e!="string"?!1:W$.has(e)}function LR(e){return typeof e=="string"&&e.startsWith("data-")}function qn(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(jR(n)||LR(n))&&(t[n]=e[n]);return t}function Oo(e){if(e==null)return null;if(A.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return qn(t)}return typeof e=="object"&&!Array.isArray(e)?qn(e):null}function In(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(jR(n)||LR(n)||Gb(n))&&(t[n]=e[n]);return t}function J$(e){return e==null?null:A.isValidElement(e)?In(e.props):typeof e=="object"&&!Array.isArray(e)?In(e):null}var X$=["children","width","height","viewBox","className","style","title","desc"];function g0(){return g0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g0.apply(null,arguments)}function Z$(e,t){if(e==null)return{};var n,r,i=Q$(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Q$(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Hb=A.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:l,style:u,title:f,desc:d}=e,h=Z$(e,X$),m=a||{width:r,height:i,x:0,y:0},v=Qe("recharts-surface",l);return A.createElement("svg",g0({},In(h),{className:v,width:r,height:i,style:u,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:t}),A.createElement("title",null,f),A.createElement("desc",null,d),n)}),eB=["children","className"];function v0(){return v0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v0.apply(null,arguments)}function tB(e,t){if(e==null)return{};var n,r,i=nB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nB(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Lt=A.forwardRef((e,t)=>{var{children:n,className:r}=e,i=tB(e,eB),a=Qe("recharts-layer",r);return A.createElement("g",v0({className:a},In(i),{ref:t}),n)}),Vb=AR(),UR=A.createContext(null),rB=()=>A.useContext(UR);function gt(e){return function(){return e}}const zR=Math.cos,qf=Math.sin,qr=Math.sqrt,Ff=Math.PI,Zh=2*Ff,y0=Math.PI,b0=2*y0,ho=1e-6,iB=b0-ho;function $R(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function aB(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return $R;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class oB{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?$R:aB(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,l){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+l}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let l=this._x1,u=this._y1,f=r-t,d=i-n,h=l-t,m=u-n,v=h*h+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(v>ho)if(!(Math.abs(m*f-d*h)>ho)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let _=r-l,S=i-u,E=f*f+d*d,T=_*_+S*S,C=Math.sqrt(E),P=Math.sqrt(v),I=a*Math.tan((y0-Math.acos((E+v-T)/(2*C*P)))/2),O=I/P,R=I/C;Math.abs(O-1)>ho&&this._append`L${t+O*h},${n+O*m}`,this._append`A${a},${a},0,0,${+(m*_>h*S)},${this._x1=t+R*f},${this._y1=n+R*d}`}}arc(t,n,r,i,a,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),f=r*Math.sin(i),d=t+u,h=n+f,m=1^l,v=l?i-a:a-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>ho||Math.abs(this._y1-h)>ho)&&this._append`L${d},${h}`,r&&(v<0&&(v=v%b0+b0),v>iB?this._append`A${r},${r},0,1,${m},${t-u},${n-f}A${r},${r},0,1,${m},${this._x1=d},${this._y1=h}`:v>ho&&this._append`A${r},${r},0,${+(v>=y0)},${m},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Kb(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new oB(t)}function Yb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function BR(e){this._context=e}BR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Qh(e){return new BR(e)}function qR(e){return e[0]}function FR(e){return e[1]}function GR(e,t){var n=gt(!0),r=null,i=Qh,a=null,l=Kb(u);e=typeof e=="function"?e:e===void 0?qR:gt(e),t=typeof t=="function"?t:t===void 0?FR:gt(t);function u(f){var d,h=(f=Yb(f)).length,m,v=!1,_;for(r==null&&(a=i(_=l())),d=0;d<=h;++d)!(d<h&&n(m=f[d],d,f))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+e(m,d,f),+t(m,d,f));if(_)return a=null,_+""||null}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:gt(+f),u):e},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:gt(+f),u):t},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:gt(!!f),u):n},u.curve=function(f){return arguments.length?(i=f,r!=null&&(a=i(r)),u):i},u.context=function(f){return arguments.length?(f==null?r=a=null:a=i(r=f),u):r},u}function rf(e,t,n){var r=null,i=gt(!0),a=null,l=Qh,u=null,f=Kb(d);e=typeof e=="function"?e:e===void 0?qR:gt(+e),t=typeof t=="function"?t:gt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?FR:gt(+n);function d(m){var v,_,S,E=(m=Yb(m)).length,T,C=!1,P,I=new Array(E),O=new Array(E);for(a==null&&(u=l(P=f())),v=0;v<=E;++v){if(!(v<E&&i(T=m[v],v,m))===C)if(C=!C)_=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),S=v-1;S>=_;--S)u.point(I[S],O[S]);u.lineEnd(),u.areaEnd()}C&&(I[v]=+e(T,v,m),O[v]=+t(T,v,m),u.point(r?+r(T,v,m):I[v],n?+n(T,v,m):O[v]))}if(P)return u=null,P+""||null}function h(){return GR().defined(i).curve(l).context(a)}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:gt(+m),r=null,d):e},d.x0=function(m){return arguments.length?(e=typeof m=="function"?m:gt(+m),d):e},d.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:gt(+m),d):r},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:gt(+m),n=null,d):t},d.y0=function(m){return arguments.length?(t=typeof m=="function"?m:gt(+m),d):t},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:gt(+m),d):n},d.lineX0=d.lineY0=function(){return h().x(e).y(t)},d.lineY1=function(){return h().x(e).y(n)},d.lineX1=function(){return h().x(r).y(t)},d.defined=function(m){return arguments.length?(i=typeof m=="function"?m:gt(!!m),d):i},d.curve=function(m){return arguments.length?(l=m,a!=null&&(u=l(a)),d):l},d.context=function(m){return arguments.length?(m==null?a=u=null:u=l(a=m),d):a},d}class HR{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function sB(e){return new HR(e,!0)}function lB(e){return new HR(e,!1)}const Wb={draw(e,t){const n=qr(t/Ff);e.moveTo(n,0),e.arc(0,0,n,0,Zh)}},uB={draw(e,t){const n=qr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},VR=qr(1/3),cB=VR*2,dB={draw(e,t){const n=qr(t/cB),r=n*VR;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},fB={draw(e,t){const n=qr(t),r=-n/2;e.rect(r,r,n,n)}},hB=.8908130915292852,KR=qf(Ff/10)/qf(7*Ff/10),pB=qf(Zh/10)*KR,mB=-zR(Zh/10)*KR,gB={draw(e,t){const n=qr(t*hB),r=pB*n,i=mB*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const l=Zh*a/5,u=zR(l),f=qf(l);e.lineTo(f*n,-u*n),e.lineTo(u*r-f*i,f*r+u*i)}e.closePath()}},_v=qr(3),vB={draw(e,t){const n=-qr(t/(_v*3));e.moveTo(0,n*2),e.lineTo(-_v*n,-n),e.lineTo(_v*n,-n),e.closePath()}},gr=-.5,vr=qr(3)/2,x0=1/qr(12),yB=(x0/2+1)*3,bB={draw(e,t){const n=qr(t/yB),r=n/2,i=n*x0,a=r,l=n*x0+n,u=-a,f=l;e.moveTo(r,i),e.lineTo(a,l),e.lineTo(u,f),e.lineTo(gr*r-vr*i,vr*r+gr*i),e.lineTo(gr*a-vr*l,vr*a+gr*l),e.lineTo(gr*u-vr*f,vr*u+gr*f),e.lineTo(gr*r+vr*i,gr*i-vr*r),e.lineTo(gr*a+vr*l,gr*l-vr*a),e.lineTo(gr*u+vr*f,gr*f-vr*u),e.closePath()}};function xB(e,t){let n=null,r=Kb(i);e=typeof e=="function"?e:gt(e||Wb),t=typeof t=="function"?t:gt(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:gt(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:gt(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Gf(){}function Hf(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function YR(e){this._context=e}YR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Hf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Hf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _B(e){return new YR(e)}function WR(e){this._context=e}WR.prototype={areaStart:Gf,areaEnd:Gf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Hf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wB(e){return new WR(e)}function JR(e){this._context=e}JR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Hf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function SB(e){return new JR(e)}function XR(e){this._context=e}XR.prototype={areaStart:Gf,areaEnd:Gf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function EB(e){return new XR(e)}function gA(e){return e<0?-1:1}function vA(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),l=(n-e._y1)/(i||r<0&&-0),u=(a*i+l*r)/(r+i);return(gA(a)+gA(l))*Math.min(Math.abs(a),Math.abs(l),.5*Math.abs(u))||0}function yA(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function wv(e,t,n){var r=e._x0,i=e._y0,a=e._x1,l=e._y1,u=(a-r)/3;e._context.bezierCurveTo(r+u,i+u*t,a-u,l-u*n,a,l)}function Vf(e){this._context=e}Vf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:wv(this,this._t0,yA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,wv(this,yA(this,n=vA(this,e,t)),n);break;default:wv(this,this._t0,n=vA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function ZR(e){this._context=new QR(e)}(ZR.prototype=Object.create(Vf.prototype)).point=function(e,t){Vf.prototype.point.call(this,t,e)};function QR(e){this._context=e}QR.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function TB(e){return new Vf(e)}function AB(e){return new ZR(e)}function eM(e){this._context=e}eM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=bA(e),i=bA(t),a=0,l=1;l<n;++a,++l)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function bA(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),l=new Array(n);for(i[0]=0,a[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,l[t]-=r*l[t-1];for(i[n-1]=l[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(l[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function CB(e){return new eM(e)}function ep(e,t){this._context=e,this._t=t}ep.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function NB(e){return new ep(e,.5)}function OB(e){return new ep(e,0)}function IB(e){return new ep(e,1)}function Io(e,t){if((l=e.length)>1)for(var n=1,r,i,a=e[t[0]],l,u=a.length;n<l;++n)for(i=a,a=e[t[n]],r=0;r<u;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function _0(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function PB(e,t){return e[t]}function RB(e){const t=[];return t.key=e,t}function MB(){var e=gt([]),t=_0,n=Io,r=PB;function i(a){var l=Array.from(e.apply(this,arguments),RB),u,f=l.length,d=-1,h;for(const m of a)for(u=0,++d;u<f;++u)(l[u][d]=[0,+r(m,l[u].key,d,a)]).data=m;for(u=0,h=Yb(t(l));u<f;++u)l[h[u]].index=u;return n(l,h),l}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:gt(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:gt(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?_0:typeof a=="function"?a:gt(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??Io,i):n},i}function DB(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,l;i<a;++i){for(l=n=0;n<r;++n)l+=e[n][i][1]||0;if(l)for(n=0;n<r;++n)e[n][i][1]/=l}Io(e,t)}}function kB(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var l=0,u=0;l<i;++l)u+=e[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}Io(e,t)}}function jB(e,t){if(!(!((l=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,l;r<a;++r){for(var u=0,f=0,d=0;u<l;++u){for(var h=e[t[u]],m=h[r][1]||0,v=h[r-1][1]||0,_=(m-v)/2,S=0;S<u;++S){var E=e[t[S]],T=E[r][1]||0,C=E[r-1][1]||0;_+=T-C}f+=m,d+=_*m}i[r-1][1]+=i[r-1][0]=n,f&&(n-=d/f)}i[r-1][1]+=i[r-1][0]=n,Io(e,t)}}var Sv={},Ev={},xA;function LB(){return xA||(xA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(Ev)),Ev}var Tv={},_A;function tM(){return _A||(_A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Tv)),Tv}var Av={},wA;function Jb(){return wA||(wA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(Av)),Av}var Cv={},Nv={},SA;function UB(){return SA||(SA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(Nv)),Nv}var EA;function Xb(){return EA||(EA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UB(),n=Jb();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],l=i.length;if(l===0)return a;let u=0,f="",d="",h=!1;for(i.charCodeAt(0)===46&&(a.push(""),u++);u<l;){const m=i[u];d?m==="\\"&&u+1<l?(u++,f+=i[u]):m===d?d="":f+=m:h?m==='"'||m==="'"?d=m:m==="]"?(h=!1,a.push(f),f=""):f+=m:m==="["?(h=!0,f&&(a.push(f),f="")):m==="."?f&&(a.push(f),f=""):f+=m,u++}return f&&a.push(f),a}e.toPath=r})(Cv)),Cv}var TA;function Zb(){return TA||(TA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LB(),n=tM(),r=Jb(),i=Xb();function a(u,f,d){if(u==null)return d;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return d;const h=u[f];return h===void 0?n.isDeepKey(f)?a(u,i.toPath(f),d):d:h}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const h=u[f];return h===void 0?d:h}default:{if(Array.isArray(f))return l(u,f,d);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return d;const h=u[f];return h===void 0?d:h}}}function l(u,f,d){if(f.length===0)return d;let h=u;for(let m=0;m<f.length;m++){if(h==null||t.isUnsafeProperty(f[m]))return d;h=h[f[m]]}return h===void 0?d:h}e.get=a})(Sv)),Sv}var Ov,AA;function zB(){return AA||(AA=1,Ov=Zb().get),Ov}var $B=zB();const Po=Br($B);var BB=4;function Ia(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:BB,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function Pt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,a,l)=>{var u=n[l-1];return typeof u=="string"?i+u+a:u!==void 0?i+Ia(u)+a:i+a},"")}var on=e=>e===0?0:e>0?1:-1,zr=e=>typeof e=="number"&&e!=+e,Ro=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,be=e=>(typeof e=="number"||e instanceof Number)&&!zr(e),ti=e=>be(e)||typeof e=="string",qB=0,Ju=e=>{var t=++qB;return"".concat(e||"").concat(t)},En=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!be(t)&&typeof t!="string")return r;var a;if(Ro(t)){if(n==null)return r;var l=t.indexOf("%");a=n*parseFloat(t.slice(0,l))/100}else a=+t;return zr(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},nM=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function St(e,t,n){return be(e)&&be(t)?Ia(e+n*(t-e)):t}function rM(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Po(r,t))===n)}var Mt=e=>e===null||typeof e>"u",vc=e=>Mt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function $n(e){return e!=null}function Uo(){}var FB=["type","size","sizeType"];function w0(){return w0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w0.apply(null,arguments)}function CA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function NA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CA(Object(n),!0).forEach(function(r){GB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GB(e,t,n){return(t=HB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HB(e){var t=VB(e,"string");return typeof t=="symbol"?t:t+""}function VB(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KB(e,t){if(e==null)return{};var n,r,i=YB(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function YB(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var iM={symbolCircle:Wb,symbolCross:uB,symbolDiamond:dB,symbolSquare:fB,symbolStar:gB,symbolTriangle:vB,symbolWye:bB},WB=Math.PI/180,JB=e=>{var t="symbol".concat(vc(e));return iM[t]||Wb},XB=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*WB;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},ZB=(e,t)=>{iM["symbol".concat(vc(e))]=t},Qb=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=KB(e,FB),a=NA(NA({},i),{},{type:t,size:n,sizeType:r}),l="circle";typeof t=="string"&&(l=t);var u=()=>{var v=JB(l),_=xB().type(v).size(XB(n,r,l)),S=_();if(S!==null)return S},{className:f,cx:d,cy:h}=a,m=In(a);return be(d)&&be(h)&&be(n)?A.createElement("path",w0({},m,{className:Qe("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(h,")"),d:u()})):null};Qb.registerSymbol=ZB;var aM=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,ex=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(A.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{Gb(i)&&(r[i]=(a=>n[i](n,a)))}),r},QB=(e,t,n)=>r=>(e(t,n,r),null),yc=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];Gb(i)&&typeof a=="function"&&(r||(r={}),r[i]=QB(a,t,n))}),r};function OA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function e3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OA(Object(n),!0).forEach(function(r){t3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function t3(e,t,n){return(t=n3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n3(e){var t=r3(e,"string");return typeof t=="symbol"?t:t+""}function r3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vt(e,t){var n=e3({},e),r=t,i=Object.keys(t),a=i.reduce((l,u)=>(l[u]===void 0&&r[u]!==void 0&&(l[u]=r[u]),l),n);return a}function Kf(){return Kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kf.apply(null,arguments)}function IA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function i3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IA(Object(n),!0).forEach(function(r){a3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function a3(e,t,n){return(t=o3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o3(e){var t=s3(e,"string");return typeof t=="symbol"?t:t+""}function s3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var br=32,l3={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function u3(e){var{data:t,iconType:n,inactiveColor:r}=e,i=br/2,a=br/6,l=br/3,u=t.inactive?r:t.color,f=n??t.type;if(f==="none")return null;if(f==="plainline"){var d;return A.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:(d=t.payload)===null||d===void 0?void 0:d.strokeDasharray,x1:0,y1:i,x2:br,y2:i,className:"recharts-legend-icon"})}if(f==="line")return A.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(br,"M").concat(2*l,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(f==="rect")return A.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(br/8,"h").concat(br,"v").concat(br*3/4,"h").concat(-br,"z"),className:"recharts-legend-icon"});if(A.isValidElement(t.legendIcon)){var h=i3({},t);return delete h.legendIcon,A.cloneElement(t.legendIcon,h)}return A.createElement(Qb,{fill:u,cx:i,cy:i,size:br,sizeType:"diameter",type:f})}function c3(e){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:l}=e,u={x:0,y:0,width:br,height:br},f={display:r==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,m)=>{var v=h.formatter||i,_=Qe({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:h.inactive});if(h.type==="none")return null;var S=h.inactive?a:h.color,E=v?v(h.value,h,m):h.value;return A.createElement("li",Kf({className:_,style:f,key:"legend-item-".concat(m)},yc(e,h,m)),A.createElement(Hb,{width:n,height:n,viewBox:u,style:d,"aria-label":"".concat(E," legend icon")},A.createElement(u3,{data:h,iconType:l,inactiveColor:a})),A.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},E))})}var d3=e=>{var t=Vt(e,l3),{payload:n,layout:r,align:i}=t;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return A.createElement("ul",{className:"recharts-default-legend",style:a},A.createElement(c3,Kf({},t,{payload:n})))},Iv={},Pv={},PA;function f3(){return PA||(PA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const l=n[a],u=r(l,a,n);i.has(u)||i.set(u,l)}return Array.from(i.values())}e.uniqBy=t})(Pv)),Pv}var Rv={},RA;function h3(){return RA||(RA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}e.ary=t})(Rv)),Rv}var Mv={},MA;function oM(){return MA||(MA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Mv)),Mv}var Dv={},kv={},jv={},DA;function p3(){return DA||(DA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(jv)),jv}var kA;function tx(){return kA||(kA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p3();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(kv)),kv}var Lv={},jA;function m3(){return jA||(jA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(Lv)),Lv}var LA;function g3(){return LA||(LA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tx(),n=m3();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(Dv)),Dv}var Uv={},zv={},UA;function v3(){return UA||(UA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zb();function n(r){return function(i){return t.get(i,r)}}e.property=n})(zv)),zv}var $v={},Bv={},qv={},Fv={},zA;function sM(){return zA||(zA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(Fv)),Fv}var Gv={},$A;function lM(){return $A||($A=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(Gv)),Gv}var Hv={},BA;function uM(){return BA||(BA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(Hv)),Hv}var qA;function y3(){return qA||(qA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sM(),n=lM(),r=uM();function i(h,m,v){return typeof v!="function"?i(h,m,()=>{}):a(h,m,function _(S,E,T,C,P,I){const O=v(S,E,T,C,P,I);return O!==void 0?!!O:a(S,E,_,I)},new Map)}function a(h,m,v,_){if(m===h)return!0;switch(typeof m){case"object":return l(h,m,v,_);case"function":return Object.keys(m).length>0?a(h,{...m},v,_):r.isEqualsSameValueZero(h,m);default:return t.isObject(h)?typeof m=="string"?m==="":!0:r.isEqualsSameValueZero(h,m)}}function l(h,m,v,_){if(m==null)return!0;if(Array.isArray(m))return f(h,m,v,_);if(m instanceof Map)return u(h,m,v,_);if(m instanceof Set)return d(h,m,v,_);const S=Object.keys(m);if(h==null||n.isPrimitive(h))return S.length===0;if(S.length===0)return!0;if(_!=null&&_.has(m))return _.get(m)===h;_==null||_.set(m,h);try{for(let E=0;E<S.length;E++){const T=S[E];if(!n.isPrimitive(h)&&!(T in h)||m[T]===void 0&&h[T]!==void 0||m[T]===null&&h[T]!==null||!v(h[T],m[T],T,h,m,_))return!1}return!0}finally{_==null||_.delete(m)}}function u(h,m,v,_){if(m.size===0)return!0;if(!(h instanceof Map))return!1;for(const[S,E]of m.entries()){const T=h.get(S);if(v(T,E,S,h,m,_)===!1)return!1}return!0}function f(h,m,v,_){if(m.length===0)return!0;if(!Array.isArray(h))return!1;const S=new Set;for(let E=0;E<m.length;E++){const T=m[E];let C=!1;for(let P=0;P<h.length;P++){if(S.has(P))continue;const I=h[P];let O=!1;if(v(I,T,E,h,m,_)&&(O=!0),O){S.add(P),C=!0;break}}if(!C)return!1}return!0}function d(h,m,v,_){return m.size===0?!0:h instanceof Set?f([...h],[...m],v,_):!1}e.isMatchWith=i,e.isSetMatch=d})(qv)),qv}var FA;function cM(){return FA||(FA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=y3();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(Bv)),Bv}var Vv={},Kv={},Yv={},GA;function b3(){return GA||(GA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(Yv)),Yv}var Wv={},HA;function nx(){return HA||(HA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(Wv)),Wv}var Jv={},VA;function dM(){return VA||(VA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",l="[object Symbol]",u="[object Date]",f="[object Map]",d="[object Set]",h="[object Array]",m="[object Function]",v="[object ArrayBuffer]",_="[object Object]",S="[object Error]",E="[object DataView]",T="[object Uint8Array]",C="[object Uint8ClampedArray]",P="[object Uint16Array]",I="[object Uint32Array]",O="[object BigUint64Array]",R="[object Int8Array]",D="[object Int16Array]",M="[object Int32Array]",z="[object BigInt64Array]",U="[object Float32Array]",K="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=v,e.arrayTag=h,e.bigInt64ArrayTag=z,e.bigUint64ArrayTag=O,e.booleanTag=i,e.dataViewTag=E,e.dateTag=u,e.errorTag=S,e.float32ArrayTag=U,e.float64ArrayTag=K,e.functionTag=m,e.int16ArrayTag=D,e.int32ArrayTag=M,e.int8ArrayTag=R,e.mapTag=f,e.numberTag=r,e.objectTag=_,e.regexpTag=t,e.setTag=d,e.stringTag=n,e.symbolTag=l,e.uint16ArrayTag=P,e.uint32ArrayTag=I,e.uint8ArrayTag=T,e.uint8ClampedArrayTag=C})(Jv)),Jv}var Xv={},KA;function x3(){return KA||(KA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(Xv)),Xv}var YA;function fM(){return YA||(YA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b3(),n=nx(),r=dM(),i=lM(),a=x3();function l(h,m){return u(h,void 0,h,new Map,m)}function u(h,m,v,_=new Map,S=void 0){const E=S==null?void 0:S(h,m,v,_);if(E!==void 0)return E;if(i.isPrimitive(h))return h;if(_.has(h))return _.get(h);if(Array.isArray(h)){const T=new Array(h.length);_.set(h,T);for(let C=0;C<h.length;C++)T[C]=u(h[C],C,v,_,S);return Object.hasOwn(h,"index")&&(T.index=h.index),Object.hasOwn(h,"input")&&(T.input=h.input),T}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const T=new RegExp(h.source,h.flags);return T.lastIndex=h.lastIndex,T}if(h instanceof Map){const T=new Map;_.set(h,T);for(const[C,P]of h)T.set(C,u(P,C,v,_,S));return T}if(h instanceof Set){const T=new Set;_.set(h,T);for(const C of h)T.add(u(C,void 0,v,_,S));return T}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const T=new(Object.getPrototypeOf(h)).constructor(h.length);_.set(h,T);for(let C=0;C<h.length;C++)T[C]=u(h[C],C,v,_,S);return T}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const T=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return _.set(h,T),f(T,h,v,_,S),T}if(typeof File<"u"&&h instanceof File){const T=new File([h],h.name,{type:h.type});return _.set(h,T),f(T,h,v,_,S),T}if(typeof Blob<"u"&&h instanceof Blob){const T=new Blob([h],{type:h.type});return _.set(h,T),f(T,h,v,_,S),T}if(h instanceof Error){const T=new h.constructor;return _.set(h,T),T.message=h.message,T.name=h.name,T.stack=h.stack,T.cause=h.cause,f(T,h,v,_,S),T}if(h instanceof Boolean){const T=new Boolean(h.valueOf());return _.set(h,T),f(T,h,v,_,S),T}if(h instanceof Number){const T=new Number(h.valueOf());return _.set(h,T),f(T,h,v,_,S),T}if(h instanceof String){const T=new String(h.valueOf());return _.set(h,T),f(T,h,v,_,S),T}if(typeof h=="object"&&d(h)){const T=Object.create(Object.getPrototypeOf(h));return _.set(h,T),f(T,h,v,_,S),T}return h}function f(h,m,v=h,_,S){const E=[...Object.keys(m),...t.getSymbols(m)];for(let T=0;T<E.length;T++){const C=E[T],P=Object.getOwnPropertyDescriptor(h,C);(P==null||P.writable)&&(h[C]=u(m[C],C,v,_,S))}}function d(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=u,e.copyProperties=f})(Kv)),Kv}var WA;function _3(){return WA||(WA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fM();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(Vv)),Vv}var JA;function w3(){return JA||(JA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cM(),n=_3();function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})($v)),$v}var Zv={},Qv={},ey={},XA;function S3(){return XA||(XA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fM(),n=nx(),r=dM();function i(a,l){return t.cloneDeepWith(a,(u,f,d,h)=>{const m=l==null?void 0:l(u,f,d,h);if(m!==void 0)return m;if(typeof a=="object"){if(n.getTag(a)===r.objectTag&&typeof a.constructor!="function"){const v={};return h.set(a,v),t.copyProperties(v,a,d,h),v}switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const v=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(v,a),v}case r.argumentsTag:{const v={};return t.copyProperties(v,a),v.length=a.length,v[Symbol.iterator]=a[Symbol.iterator],v}default:return}}})}e.cloneDeepWith=i})(ey)),ey}var ZA;function E3(){return ZA||(ZA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S3();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(Qv)),Qv}var ty={},ny={},QA;function hM(){return QA||(QA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(ny)),ny}var ry={},eC;function T3(){return eC||(eC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nx();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(ry)),ry}var tC;function A3(){return tC||(tC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tM(),n=hM(),r=T3(),i=Xb();function a(l,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&t.isDeepKey(u)&&(l==null?void 0:l[u])==null?f=i.toPath(u):f=[u],f.length===0)return!1;let d=l;for(let h=0;h<f.length;h++){const m=f[h];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}e.has=a})(ty)),ty}var nC;function C3(){return nC||(nC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cM(),n=Jb(),r=E3(),i=Zb(),a=A3();function l(u,f){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return f=r.cloneDeep(f),function(d){const h=i.get(d,u);return h===void 0?a.has(d,u):f===void 0?h===void 0:t.isMatch(h,f)}}e.matchesProperty=l})(Zv)),Zv}var rC;function N3(){return rC||(rC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oM(),n=v3(),r=w3(),i=C3();function a(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}e.iteratee=a})(Uv)),Uv}var iC;function O3(){return iC||(iC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f3(),n=h3(),r=oM(),i=g3(),a=N3();function l(u,f=r.identity){return i.isArrayLikeObject(u)?t.uniqBy(Array.from(u),n.ary(a.iteratee(f),1)):[]}e.uniqBy=l})(Iv)),Iv}var iy,aC;function I3(){return aC||(aC=1,iy=O3().uniqBy),iy}var P3=I3();const oC=Br(P3);function pM(e,t,n){return t===!0?oC(e,n):typeof t=="function"?oC(e,t):e}var ay={exports:{}},oy={},sy={exports:{}},ly={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sC;function R3(){if(sC)return ly;sC=1;var e=gl();function t(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,a=e.useLayoutEffect,l=e.useDebugValue;function u(m,v){var _=v(),S=r({inst:{value:_,getSnapshot:v}}),E=S[0].inst,T=S[1];return a(function(){E.value=_,E.getSnapshot=v,f(E)&&T({inst:E})},[m,_,v]),i(function(){return f(E)&&T({inst:E}),m(function(){f(E)&&T({inst:E})})},[m]),l(_),_}function f(m){var v=m.getSnapshot;m=m.value;try{var _=v();return!n(m,_)}catch{return!0}}function d(m,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:u;return ly.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,ly}var lC;function M3(){return lC||(lC=1,sy.exports=R3()),sy.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uC;function D3(){if(uC)return oy;uC=1;var e=gl(),t=M3();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,a=e.useRef,l=e.useEffect,u=e.useMemo,f=e.useDebugValue;return oy.useSyncExternalStoreWithSelector=function(d,h,m,v,_){var S=a(null);if(S.current===null){var E={hasValue:!1,value:null};S.current=E}else E=S.current;S=u(function(){function C(D){if(!P){if(P=!0,I=D,D=v(D),_!==void 0&&E.hasValue){var M=E.value;if(_(M,D))return O=M}return O=D}if(M=O,r(I,D))return M;var z=v(D);return _!==void 0&&_(M,z)?(I=D,M):(I=D,O=z)}var P=!1,I,O,R=m===void 0?null:m;return[function(){return C(h())},R===null?void 0:function(){return C(R())}]},[h,m,v,_]);var T=i(d,S[0],S[1]);return l(function(){E.hasValue=!0,E.value=T},[T]),f(T),T},oy}var cC;function k3(){return cC||(cC=1,ay.exports=D3()),ay.exports}var j3=k3(),rx=A.createContext(null),L3=e=>e,vt=()=>{var e=A.useContext(rx);return e?e.store.dispatch:L3},Mf=()=>{},U3=()=>Mf,z3=(e,t)=>e===t;function Ee(e){var t=A.useContext(rx),n=A.useMemo(()=>t?r=>{if(r!=null)return e(r)}:Mf,[t,e]);return j3.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:U3,t?t.store.getState:Mf,t?t.store.getState:Mf,n,z3)}function $3(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function B3(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function q3(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var dC=e=>Array.isArray(e)?e:[e];function F3(e){const t=Array.isArray(e[0])?e[0]:e;return q3(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function G3(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var H3=class{constructor(e){this.value=e}deref(){return this.value}},V3=typeof WeakRef<"u"?WeakRef:H3,K3=0,fC=1;function af(){return{s:K3,v:void 0,o:null,p:null}}function mM(e,t={}){let n=af();const{resultEqualityCheck:r}=t;let i,a=0;function l(){var m;let u=n;const{length:f}=arguments;for(let v=0,_=f;v<_;v++){const S=arguments[v];if(typeof S=="function"||typeof S=="object"&&S!==null){let E=u.o;E===null&&(u.o=E=new WeakMap);const T=E.get(S);T===void 0?(u=af(),E.set(S,u)):u=T}else{let E=u.p;E===null&&(u.p=E=new Map);const T=E.get(S);T===void 0?(u=af(),E.set(S,u)):u=T}}const d=u;let h;if(u.s===fC)h=u.v;else if(h=e.apply(null,arguments),a++,r){const v=((m=i==null?void 0:i.deref)==null?void 0:m.call(i))??i;v!=null&&r(v,h)&&(h=v,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new V3(h):h}return d.s=fC,d.v=h,h}return l.clearCache=()=>{n=af(),l.resetResultsCount()},l.resultsCount=()=>a,l.resetResultsCount=()=>{a=0},l}function Y3(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,l=0,u,f={},d=i.pop();typeof d=="object"&&(f=d,d=i.pop()),$3(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...n,...f},{memoize:m,memoizeOptions:v=[],argsMemoize:_=mM,argsMemoizeOptions:S=[]}=h,E=dC(v),T=dC(S),C=F3(i),P=m(function(){return a++,d.apply(null,arguments)},...E),I=_(function(){l++;const R=G3(C,arguments);return u=P.apply(null,R),u},...T);return Object.assign(I,{resultFunc:d,memoizedResultFunc:P,dependencies:C,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>u,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:m,argsMemoize:_})};return Object.assign(r,{withTypes:()=>r}),r}var X=Y3(mM),W3=Object.assign((e,t=X)=>{B3(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((l,u,f)=>(l[n[f]]=u,l),{}))},{withTypes:()=>W3}),uy={},cy={},dy={},hC;function J3(){return hC||(hC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const l=t(r),u=t(i);if(l===u&&l===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?u-l:l-u}return 0};e.compareValues=n})(dy)),dy}var fy={},hy={},pC;function gM(){return pC||(pC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(hy)),hy}var mC;function X3(){return mC||(mC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gM(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,l){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||l!=null&&Object.hasOwn(l,a)}e.isKey=i})(fy)),fy}var gC;function Z3(){return gC||(gC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J3(),n=X3(),r=Xb();function i(a,l,u,f){if(a==null)return[];u=f?void 0:u,Array.isArray(a)||(a=Object.values(a)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(_=>String(_));const d=(_,S)=>{let E=_;for(let T=0;T<S.length&&E!=null;++T)E=E[S[T]];return E},h=(_,S)=>S==null||_==null?S:typeof _=="object"&&"key"in _?Object.hasOwn(S,_.key)?S[_.key]:d(S,_.path):typeof _=="function"?_(S):Array.isArray(_)?d(S,_):typeof S=="object"?S[_]:S,m=l.map(_=>(Array.isArray(_)&&_.length===1&&(_=_[0]),_==null||typeof _=="function"||Array.isArray(_)||n.isKey(_)?_:{key:_,path:r.toPath(_)}));return a.map(_=>({original:_,criteria:m.map(S=>h(S,_))})).slice().sort((_,S)=>{for(let E=0;E<m.length;E++){const T=t.compareValues(_.criteria[E],S.criteria[E],u[E]);if(T!==0)return T}return 0}).map(_=>_.original)}e.orderBy=i})(cy)),cy}var py={},vC;function Q3(){return vC||(vC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),l=(u,f)=>{for(let d=0;d<u.length;d++){const h=u[d];Array.isArray(h)&&f<a?l(h,f+1):i.push(h)}};return l(n,0),i}e.flatten=t})(py)),py}var my={},yC;function vM(){return yC||(yC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hM(),n=tx(),r=sM(),i=uM();function a(l,u,f){return r.isObject(f)&&(typeof u=="number"&&n.isArrayLike(f)&&t.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?i.isEqualsSameValueZero(f[u],l):!1}e.isIterateeCall=a})(my)),my}var bC;function e5(){return bC||(bC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Z3(),n=Q3(),r=vM();function i(a,...l){const u=l.length;return u>1&&r.isIterateeCall(a,l[0],l[1])?l=[]:u>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(a,n.flatten(l),["asc"])}e.sortBy=i})(uy)),uy}var gy,xC;function t5(){return xC||(xC=1,gy=e5().sortBy),gy}var n5=t5();const tp=Br(n5);var yM=e=>e.legend.settings,r5=e=>e.legend.size,i5=e=>e.legend.payload,a5=X([i5,yM],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?tp(r,n):r});function o5(){return Ee(a5)}var of=1;function bM(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=A.useState({height:0,left:0,top:0,width:0}),r=A.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),l={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(l.height-t.height)>of||Math.abs(l.left-t.left)>of||Math.abs(l.top-t.top)>of||Math.abs(l.width-t.width)>of)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function yn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var s5=typeof Symbol=="function"&&Symbol.observable||"@@observable",_C=s5,vy=()=>Math.random().toString(36).substring(7).split("").join("."),l5={INIT:`@@redux/INIT${vy()}`,REPLACE:`@@redux/REPLACE${vy()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${vy()}`},Yf=l5;function ix(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function xM(e,t,n){if(typeof e!="function")throw new Error(yn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(yn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(yn(1));return n(xM)(e,t)}let r=e,i=t,a=new Map,l=a,u=0,f=!1;function d(){l===a&&(l=new Map,a.forEach((T,C)=>{l.set(C,T)}))}function h(){if(f)throw new Error(yn(3));return i}function m(T){if(typeof T!="function")throw new Error(yn(4));if(f)throw new Error(yn(5));let C=!0;d();const P=u++;return l.set(P,T),function(){if(C){if(f)throw new Error(yn(6));C=!1,d(),l.delete(P),a=null}}}function v(T){if(!ix(T))throw new Error(yn(7));if(typeof T.type>"u")throw new Error(yn(8));if(typeof T.type!="string")throw new Error(yn(17));if(f)throw new Error(yn(9));try{f=!0,i=r(i,T)}finally{f=!1}return(a=l).forEach(P=>{P()}),T}function _(T){if(typeof T!="function")throw new Error(yn(10));r=T,v({type:Yf.REPLACE})}function S(){const T=m;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(yn(11));function P(){const O=C;O.next&&O.next(h())}return P(),{unsubscribe:T(P)}},[_C](){return this}}}return v({type:Yf.INIT}),{dispatch:v,subscribe:m,getState:h,replaceReducer:_,[_C]:S}}function u5(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Yf.INIT})>"u")throw new Error(yn(12));if(typeof n(void 0,{type:Yf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(yn(13))})}function _M(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const l=t[a];typeof e[l]=="function"&&(n[l]=e[l])}const r=Object.keys(n);let i;try{u5(n)}catch(a){i=a}return function(l={},u){if(i)throw i;let f=!1;const d={};for(let h=0;h<r.length;h++){const m=r[h],v=n[m],_=l[m],S=v(_,u);if(typeof S>"u")throw u&&u.type,new Error(yn(14));d[m]=S,f=f||S!==_}return f=f||r.length!==Object.keys(l).length,f?d:l}}function Wf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function c5(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(yn(15))};const l={getState:i.getState,dispatch:(f,...d)=>a(f,...d)},u=e.map(f=>f(l));return a=Wf(...u)(i.dispatch),{...i,dispatch:a}}}function wM(e){return ix(e)&&"type"in e&&typeof e.type=="string"}var SM=Symbol.for("immer-nothing"),wC=Symbol.for("immer-draftable"),Pn=Symbol.for("immer-state");function Rr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var rr=Object,sl=rr.getPrototypeOf,Jf="constructor",np="prototype",S0="configurable",Xf="enumerable",Df="writable",Xu="value",Di=e=>!!e&&!!e[Pn];function $r(e){var t;return e?EM(e)||ip(e)||!!e[wC]||!!((t=e[Jf])!=null&&t[wC])||ap(e)||op(e):!1}var d5=rr[np][Jf].toString(),SC=new WeakMap;function EM(e){if(!e||!ax(e))return!1;const t=sl(e);if(t===null||t===rr[np])return!0;const n=rr.hasOwnProperty.call(t,Jf)&&t[Jf];if(n===Object)return!0;if(!Gs(n))return!1;let r=SC.get(n);return r===void 0&&(r=Function.toString.call(n),SC.set(n,r)),r===d5}function rp(e,t,n=!0){bc(e)===0?(n?Reflect.ownKeys(e):rr.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function bc(e){const t=e[Pn];return t?t.type_:ip(e)?1:ap(e)?2:op(e)?3:0}var EC=(e,t,n=bc(e))=>n===2?e.has(t):rr[np].hasOwnProperty.call(e,t),E0=(e,t,n=bc(e))=>n===2?e.get(t):e[t],Zf=(e,t,n,r=bc(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function f5(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var ip=Array.isArray,ap=e=>e instanceof Map,op=e=>e instanceof Set,ax=e=>typeof e=="object",Gs=e=>typeof e=="function",yy=e=>typeof e=="boolean";function h5(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Ai=e=>e.copy_||e.base_,ox=e=>e.modified_?e.copy_:e.base_;function T0(e,t){if(ap(e))return new Map(e);if(op(e))return new Set(e);if(ip(e))return Array[np].slice.call(e);const n=EM(e);if(t===!0||t==="class_only"&&!n){const r=rr.getOwnPropertyDescriptors(e);delete r[Pn];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const l=i[a],u=r[l];u[Df]===!1&&(u[Df]=!0,u[S0]=!0),(u.get||u.set)&&(r[l]={[S0]:!0,[Df]:!0,[Xf]:u[Xf],[Xu]:e[l]})}return rr.create(sl(e),r)}else{const r=sl(e);if(r!==null&&n)return{...e};const i=rr.create(r);return rr.assign(i,e)}}function sx(e,t=!1){return sp(e)||Di(e)||!$r(e)||(bc(e)>1&&rr.defineProperties(e,{set:sf,add:sf,clear:sf,delete:sf}),rr.freeze(e),t&&rp(e,(n,r)=>{sx(r,!0)},!1)),e}function p5(){Rr(2)}var sf={[Xu]:p5};function sp(e){return e===null||!ax(e)?!0:rr.isFrozen(e)}var Qf="MapSet",A0="Patches",TC="ArrayMethods",TM={};function Mo(e){const t=TM[e];return t||Rr(0,e),t}var AC=e=>!!TM[e],Zu,AM=()=>Zu,m5=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:AC(Qf)?Mo(Qf):void 0,arrayMethodsPlugin_:AC(TC)?Mo(TC):void 0});function CC(e,t){t&&(e.patchPlugin_=Mo(A0),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function C0(e){N0(e),e.drafts_.forEach(g5),e.drafts_=null}function N0(e){e===Zu&&(Zu=e.parent_)}var NC=e=>Zu=m5(Zu,e);function g5(e){const t=e[Pn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function OC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Pn].modified_&&(C0(t),Rr(4)),$r(e)&&(e=IC(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[Pn].base_,e,t)}else e=IC(t,n);return v5(t,e,!0),C0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==SM?e:void 0}function IC(e,t){if(sp(t))return t;const n=t[Pn];if(!n)return eh(t,e.handledSet_,e);if(!lp(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);OM(n,e)}return n.copy_}function v5(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&sx(t,n)}function CM(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var lp=(e,t)=>e.scope_===t,y5=[];function NM(e,t,n,r){const i=Ai(e),a=e.type_;if(r!==void 0&&E0(i,r,a)===t){Zf(i,r,n,a);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;rp(i,(f,d)=>{if(Di(d)){const h=u.get(d)||[];h.push(f),u.set(d,h)}})}const l=e.draftLocations_.get(t)??y5;for(const u of l)Zf(i,u,n,a)}function b5(e,t,n){e.callbacks_.push(function(i){var u;const a=t;if(!a||!lp(a,i))return;(u=i.mapSetPlugin_)==null||u.fixSetContents(a);const l=ox(a);NM(e,a.draft_??a,l,n),OM(a,i)})}function OM(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}CM(e)}}function x5(e,t,n){const{scope_:r}=e;if(Di(n)){const i=n[Pn];lp(i,r)&&i.callbacks_.push(function(){kf(e);const l=ox(i);NM(e,n,l,t)})}else $r(n)&&e.callbacks_.push(function(){const a=Ai(e);e.type_===3?a.has(n)&&eh(n,r.handledSet_,r):E0(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&eh(E0(e.copy_,t,e.type_),r.handledSet_,r)})}function eh(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Di(e)||t.has(e)||!$r(e)||sp(e)||(t.add(e),rp(e,(r,i)=>{if(Di(i)){const a=i[Pn];if(lp(a,n)){const l=ox(a);Zf(e,r,l,e.type_),CM(a)}}else $r(i)&&eh(i,t,n)})),e}function _5(e,t){const n=ip(e),r={type_:n?1:0,scope_:t?t.scope_:AM(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=th;n&&(i=[r],a=Qu);const{revoke:l,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=l,[u,r]}var th={get(e,t){if(t===Pn)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=Ai(e);if(!EC(i,t,e.type_))return w5(e,i,t);const a=i[t];if(e.finalized_||!$r(a)||r&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&h5(t))return a;if(a===by(e.base_,t)){kf(e);const l=e.type_===1?+t:t,u=I0(e.scope_,a,e,l);return e.copy_[l]=u}return a},has(e,t){return t in Ai(e)},ownKeys(e){return Reflect.ownKeys(Ai(e))},set(e,t,n){const r=IM(Ai(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=by(Ai(e),t),a=i==null?void 0:i[Pn];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(f5(n,i)&&(n!==void 0||EC(e.base_,t,e.type_)))return!0;kf(e),O0(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),x5(e,t,n)),!0},deleteProperty(e,t){return kf(e),by(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),O0(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ai(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Df]:!0,[S0]:e.type_!==1||t!=="length",[Xf]:r[Xf],[Xu]:n[t]}},defineProperty(){Rr(11)},getPrototypeOf(e){return sl(e.base_)},setPrototypeOf(){Rr(12)}},Qu={};for(let e in th){let t=th[e];Qu[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}Qu.deleteProperty=function(e,t){return Qu.set.call(this,e,t,void 0)};Qu.set=function(e,t,n){return th.set.call(this,e[0],t,n,e[0])};function by(e,t){const n=e[Pn];return(n?Ai(n):e)[t]}function w5(e,t,n){var i;const r=IM(t,n);return r?Xu in r?r[Xu]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function IM(e,t){if(!(t in e))return;let n=sl(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=sl(n)}}function O0(e){e.modified_||(e.modified_=!0,e.parent_&&O0(e.parent_))}function kf(e){e.copy_||(e.assigned_=new Map,e.copy_=T0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var S5=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Gs(n)&&!Gs(r)){const l=r;r=n;const u=this;return function(d=l,...h){return u.produce(d,m=>r.call(this,m,...h))}}Gs(r)||Rr(6),i!==void 0&&!Gs(i)&&Rr(7);let a;if($r(n)){const l=NC(this),u=I0(l,n,void 0);let f=!0;try{a=r(u),f=!1}finally{f?C0(l):N0(l)}return CC(l,i),OC(a,l)}else if(!n||!ax(n)){if(a=r(n),a===void 0&&(a=n),a===SM&&(a=void 0),this.autoFreeze_&&sx(a,!0),i){const l=[],u=[];Mo(A0).generateReplacementPatches_(n,a,{patches_:l,inversePatches_:u}),i(l,u)}return a}else Rr(1,n)},this.produceWithPatches=(n,r)=>{if(Gs(n))return(u,...f)=>this.produceWithPatches(u,d=>n(d,...f));let i,a;return[this.produce(n,r,(u,f)=>{i=u,a=f}),i,a]},yy(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),yy(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),yy(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){$r(t)||Rr(8),Di(t)&&(t=jr(t));const n=NC(this),r=I0(n,t,void 0);return r[Pn].isManual_=!0,N0(n),r}finishDraft(t,n){const r=t&&t[Pn];(!r||!r.isManual_)&&Rr(9);const{scope_:i}=r;return CC(i,n),OC(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=Mo(A0).applyPatches_;return Di(t)?i(t,n):this.produce(t,a=>i(a,n))}};function I0(e,t,n,r){const[i,a]=ap(t)?Mo(Qf).proxyMap_(t,n):op(t)?Mo(Qf).proxySet_(t,n):_5(t,n);return((n==null?void 0:n.scope_)??AM()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?b5(n,a,r):a.callbacks_.push(function(f){var h;(h=f.mapSetPlugin_)==null||h.fixSetContents(a);const{patchPlugin_:d}=f;a.modified_&&d&&d.generatePatches_(a,[],f)}),i}function jr(e){return Di(e)||Rr(10,e),PM(e)}function PM(e){if(!$r(e)||sp(e))return e;const t=e[Pn];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=T0(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=T0(e,!0);return rp(n,(i,a)=>{Zf(n,i,PM(a))},r),t&&(t.finalized_=!1),n}var E5=new S5,RM=E5.produce;function MM(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var T5=MM(),A5=MM,C5=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Wf:Wf.apply(null,arguments)};function wr(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(ir(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>wM(r)&&r.type===e,n}var DM=class zu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,zu.prototype)}static get[Symbol.species](){return zu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new zu(...t[0].concat(this)):new zu(...t.concat(this))}};function PC(e){return $r(e)?RM(e,()=>{}):e}function lf(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function N5(e){return typeof e=="boolean"}var O5=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let l=new DM;return n&&(N5(n)?l.push(T5):l.push(A5(n.extraArgument))),l},kM="RTK_autoBatch",Tt=()=>e=>({payload:e,meta:{[kM]:!0}}),RC=e=>t=>{setTimeout(t,e)},jM=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,l=!1;const u=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:RC(10):e.type==="callback"?e.queueNotification:RC(e.timeout),d=()=>{l=!1,a&&(a=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const m=()=>i&&h(),v=r.subscribe(m);return u.add(h),()=>{v(),u.delete(h)}},dispatch(h){var m;try{return i=!((m=h==null?void 0:h.meta)!=null&&m[kM]),a=!i,a&&(l||(l=!0,f(d))),r.dispatch(h)}finally{i=!0}}})},I5=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new DM(e);return r&&i.push(jM(typeof r=="object"?r:void 0)),i};function P5(e){const t=O5(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:l=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(ix(n))u=_M(n);else throw new Error(ir(1));let f;typeof r=="function"?f=r(t):f=t();let d=Wf;i&&(d=C5({trace:!1,...typeof i=="object"&&i}));const h=c5(...f),m=I5(h);let v=typeof l=="function"?l(m):m();const _=d(...v);return xM(u,a,_)}function LM(e){const t={},n=[];let r;const i={addCase(a,l){const u=typeof a=="string"?a:a.type;if(!u)throw new Error(ir(28));if(u in t)throw new Error(ir(29));return t[u]=l,i},addAsyncThunk(a,l){return l.pending&&(t[a.pending.type]=l.pending),l.rejected&&(t[a.rejected.type]=l.rejected),l.fulfilled&&(t[a.fulfilled.type]=l.fulfilled),l.settled&&n.push({matcher:a.settled,reducer:l.settled}),i},addMatcher(a,l){return n.push({matcher:a,reducer:l}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function R5(e){return typeof e=="function"}function M5(e,t){let[n,r,i]=LM(t),a;if(R5(e))a=()=>PC(e());else{const u=PC(e);a=()=>u}function l(u=a(),f){let d=[n[f.type],...r.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[i]),d.reduce((h,m)=>{if(m)if(Di(h)){const _=m(h,f);return _===void 0?h:_}else{if($r(h))return RM(h,v=>m(v,f));{const v=m(h,f);if(v===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return h},u)}return l.getInitialState=a,l}var D5="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",k5=(e=21)=>{let t="",n=e;for(;n--;)t+=D5[Math.random()*64|0];return t},j5=Symbol.for("rtk-slice-createasyncthunk");function L5(e,t){return`${e}/${t}`}function U5({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[j5];return function(i){const{name:a,reducerPath:l=a}=i;if(!a)throw new Error(ir(11));const u=(typeof i.reducers=="function"?i.reducers($5()):i.reducers)||{},f=Object.keys(u),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(O,R){const D=typeof O=="string"?O:O.type;if(!D)throw new Error(ir(12));if(D in d.sliceCaseReducersByType)throw new Error(ir(13));return d.sliceCaseReducersByType[D]=R,h},addMatcher(O,R){return d.sliceMatchers.push({matcher:O,reducer:R}),h},exposeAction(O,R){return d.actionCreators[O]=R,h},exposeCaseReducer(O,R){return d.sliceCaseReducersByName[O]=R,h}};f.forEach(O=>{const R=u[O],D={reducerName:O,type:L5(a,O),createNotation:typeof i.reducers=="function"};q5(R)?G5(D,R,h,t):B5(D,R,h)});function m(){const[O={},R=[],D=void 0]=typeof i.extraReducers=="function"?LM(i.extraReducers):[i.extraReducers],M={...O,...d.sliceCaseReducersByType};return M5(i.initialState,z=>{for(let U in M)z.addCase(U,M[U]);for(let U of d.sliceMatchers)z.addMatcher(U.matcher,U.reducer);for(let U of R)z.addMatcher(U.matcher,U.reducer);D&&z.addDefaultCase(D)})}const v=O=>O,_=new Map,S=new WeakMap;let E;function T(O,R){return E||(E=m()),E(O,R)}function C(){return E||(E=m()),E.getInitialState()}function P(O,R=!1){function D(z){let U=z[O];return typeof U>"u"&&R&&(U=lf(S,D,C)),U}function M(z=v){const U=lf(_,R,()=>new WeakMap);return lf(U,z,()=>{const K={};for(const[L,q]of Object.entries(i.selectors??{}))K[L]=z5(q,z,()=>lf(S,z,C),R);return K})}return{reducerPath:O,getSelectors:M,get selectors(){return M(D)},selectSlice:D}}const I={name:a,reducer:T,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:C,...P(l),injectInto(O,{reducerPath:R,...D}={}){const M=R??l;return O.inject({reducerPath:M,reducer:T},D),{...I,...P(M,!0)}}};return I}}function z5(e,t,n,r){function i(a,...l){let u=t(a);return typeof u>"u"&&r&&(u=n()),e(u,...l)}return i.unwrapped=e,i}var Fn=U5();function $5(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function B5({type:e,reducerName:t,createNotation:n},r,i){let a,l;if("reducer"in r){if(n&&!F5(r))throw new Error(ir(17));a=r.reducer,l=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,l?wr(e,l):wr(e))}function q5(e){return e._reducerDefinitionType==="asyncThunk"}function F5(e){return e._reducerDefinitionType==="reducerWithPrepare"}function G5({type:e,reducerName:t},n,r,i){if(!i)throw new Error(ir(18));const{payloadCreator:a,fulfilled:l,pending:u,rejected:f,settled:d,options:h}=n,m=i(e,a,h);r.exposeAction(t,m),l&&r.addCase(m.fulfilled,l),u&&r.addCase(m.pending,u),f&&r.addCase(m.rejected,f),d&&r.addMatcher(m.settled,d),r.exposeCaseReducer(t,{fulfilled:l||uf,pending:u||uf,rejected:f||uf,settled:d||uf})}function uf(){}var H5="task",UM="listener",zM="completed",lx="cancelled",V5=`task-${lx}`,K5=`task-${zM}`,P0=`${UM}-${lx}`,Y5=`${UM}-${zM}`,up=class{constructor(e){fv(this,"name","TaskAbortError");fv(this,"message");this.code=e,this.message=`${H5} ${lx} (reason: ${e})`}},ux=(e,t)=>{if(typeof e!="function")throw new TypeError(ir(32))},nh=()=>{},$M=(e,t=nh)=>(e.catch(t),e),BM=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),To=e=>{if(e.aborted)throw new up(e.reason)};function qM(e,t){let n=nh;return new Promise((r,i)=>{const a=()=>i(new up(e.reason));if(e.aborted){a();return}n=BM(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=nh})}var W5=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof up?"cancelled":"rejected",error:n}}finally{t==null||t()}},rh=e=>t=>$M(qM(e,t).then(n=>(To(e),n))),FM=e=>{const t=rh(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:el}=Object,MC={},cp="listenerMiddleware",J5=(e,t)=>{const n=r=>BM(e,()=>r.abort(e.reason));return(r,i)=>{ux(r);const a=new AbortController;n(a);const l=W5(async()=>{To(e),To(a.signal);const u=await r({pause:rh(a.signal),delay:FM(a.signal),signal:a.signal});return To(a.signal),u},()=>a.abort(K5));return i!=null&&i.autoJoin&&t.push(l.catch(nh)),{result:rh(e)(l),cancel(){a.abort(V5)}}}},X5=(e,t)=>{const n=async(r,i)=>{To(t);let a=()=>{};const u=[new Promise((f,d)=>{let h=e({predicate:r,effect:(m,v)=>{v.unsubscribe(),f([m,v.getState(),v.getOriginalState()])}});a=()=>{h(),d()}})];i!=null&&u.push(new Promise(f=>setTimeout(f,i,null)));try{const f=await qM(t,Promise.race(u));return To(t),f}finally{a()}};return(r,i)=>$M(n(r,i))},GM=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=wr(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(ir(21));return ux(a),{predicate:i,type:t,effect:a}},HM=el(e=>{const{type:t,predicate:n,effect:r}=GM(e);return{id:k5(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ir(22))}}},{withTypes:()=>HM}),DC=(e,t)=>{const{type:n,effect:r,predicate:i}=GM(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},R0=e=>{e.pending.forEach(t=>{t.abort(P0)})},Z5=(e,t)=>()=>{for(const n of t.keys())R0(n);e.clear()},kC=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},VM=el(wr(`${cp}/add`),{withTypes:()=>VM}),Q5=wr(`${cp}/removeAll`),KM=el(wr(`${cp}/remove`),{withTypes:()=>KM}),eq=(...e)=>{console.error(`${cp}/error`,...e)},xc=(e={})=>{const t=new Map,n=new Map,r=_=>{const S=n.get(_)??0;n.set(_,S+1)},i=_=>{const S=n.get(_)??1;S===1?n.delete(_):n.set(_,S-1)},{extra:a,onError:l=eq}=e;ux(l);const u=_=>(_.unsubscribe=()=>t.delete(_.id),t.set(_.id,_),S=>{_.unsubscribe(),S!=null&&S.cancelActive&&R0(_)}),f=_=>{const S=DC(t,_)??HM(_);return u(S)};el(f,{withTypes:()=>f});const d=_=>{const S=DC(t,_);return S&&(S.unsubscribe(),_.cancelActive&&R0(S)),!!S};el(d,{withTypes:()=>d});const h=async(_,S,E,T)=>{const C=new AbortController,P=X5(f,C.signal),I=[];try{_.pending.add(C),r(_),await Promise.resolve(_.effect(S,el({},E,{getOriginalState:T,condition:(O,R)=>P(O,R).then(Boolean),take:P,delay:FM(C.signal),pause:rh(C.signal),extra:a,signal:C.signal,fork:J5(C.signal,I),unsubscribe:_.unsubscribe,subscribe:()=>{t.set(_.id,_)},cancelActiveListeners:()=>{_.pending.forEach((O,R,D)=>{O!==C&&(O.abort(P0),D.delete(O))})},cancel:()=>{C.abort(P0),_.pending.delete(C)},throwIfCancelled:()=>{To(C.signal)}})))}catch(O){O instanceof up||kC(l,O,{raisedBy:"effect"})}finally{await Promise.all(I),C.abort(Y5),i(_),_.pending.delete(C)}},m=Z5(t,n);return{middleware:_=>S=>E=>{if(!wM(E))return S(E);if(VM.match(E))return f(E.payload);if(Q5.match(E)){m();return}if(KM.match(E))return d(E.payload);let T=_.getState();const C=()=>{if(T===MC)throw new Error(ir(23));return T};let P;try{if(P=S(E),t.size>0){const I=_.getState(),O=Array.from(t.values());for(const R of O){let D=!1;try{D=R.predicate(E,I,T)}catch(M){D=!1,kC(l,M,{raisedBy:"predicate"})}D&&h(R,E,_,C)}}}finally{T=MC}return P},startListening:f,stopListening:d,clearListeners:m}};function ir(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var tq={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},YM=Fn({name:"chartLayout",initialState:tq,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:nq,setLayout:rq,setChartSize:iq,setScale:aq}=YM.actions,oq=YM.reducer;function WM(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function qe(e){return Number.isFinite(e)}function ni(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function jC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ys(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jC(Object(n),!0).forEach(function(r){sq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sq(e,t,n){return(t=lq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lq(e){var t=uq(e,"string");return typeof t=="symbol"?t:t+""}function uq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ft(e,t,n){return Mt(e)||Mt(t)?n:ti(t)?Po(e,t,n):typeof t=="function"?t(e):n}var cq=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:l,layout:u}=t;if((u==="vertical"||u==="horizontal"&&l==="middle")&&a!=="center"&&be(e[a]))return Ys(Ys({},e),{},{[a]:e[a]+(r||0)});if((u==="horizontal"||u==="vertical"&&a==="center")&&l!=="middle"&&be(e[l]))return Ys(Ys({},e),{},{[l]:e[l]+(i||0)})}return e},ii=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",JM=(e,t,n,r)=>{if(r)return e.map(u=>u.coordinate);var i,a,l=e.map(u=>(u.coordinate===t&&(i=!0),u.coordinate===n&&(a=!0),u.coordinate));return i||l.push(t),a||l.push(n),l},XM=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:l,realScaleType:u,isCategorical:f,categoricalDomain:d,tickCount:h,ticks:m,niceTicks:v,axisType:_}=e;if(!l)return null;var S=u==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,E=i==="category"&&l.bandwidth?l.bandwidth()/S:0;if(E=_==="angleAxis"&&a&&a.length>=2?on(a[0]-a[1])*2*E:E,m||v){var T=(m||v||[]).map((C,P)=>{var I=r?r.indexOf(C):C,O=l.map(I);return qe(O)?{coordinate:O+E,value:C,offset:E,index:P}:null}).filter($n);return T}return f&&d?d.map((C,P)=>{var I=l.map(C);return qe(I)?{coordinate:I+E,value:C,index:P,offset:E}:null}).filter($n):l.ticks&&h!=null?l.ticks(h).map((C,P)=>{var I=l.map(C);return qe(I)?{coordinate:I+E,value:C,index:P,offset:E}:null}).filter($n):l.domain().map((C,P)=>{var I=l.map(C);return qe(I)?{coordinate:I+E,value:r?r[C]:C,index:P,offset:E}:null}).filter($n)},dq=(e,t)=>{if(!t||t.length!==2||!be(t[0])||!be(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!be(e[0])||e[0]<n)&&(i[0]=n),(!be(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},fq=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,l=0,u=0;u<n;++u){var f=e[u],d=f==null?void 0:f[i];if(d!=null){var h=d[1],m=d[0],v=zr(h)?m:h;v>=0?(d[0]=a,a+=v,d[1]=a):(d[0]=l,l+=v,d[1]=l)}}}},hq=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,l=0;l<n;++l){var u=e[l],f=u==null?void 0:u[i];if(f!=null){var d=zr(f[1])?f[0]:f[1];d>=0?(f[0]=a,a+=d,f[1]=a):(f[0]=0,f[1]=0)}}}},pq={sign:fq,expand:DB,none:Io,silhouette:kB,wiggle:jB,positive:hq},mq=(e,t,n)=>{var r,i=(r=pq[n])!==null&&r!==void 0?r:Io,a=MB().keys(t).value((u,f)=>Number(ft(u,f,0))).order(_0).offset(i),l=a(e);return l.forEach((u,f)=>{u.forEach((d,h)=>{var m=ft(e[h],t[f],0);Array.isArray(m)&&m.length===2&&be(m[0])&&be(m[1])&&(d[0]=m[0],d[1]=m[1])})}),l};function ZM(e){return e==null?void 0:String(e)}function LC(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Mt(i[t.dataKey])){var u=rM(n,"value",i[t.dataKey]);if(u)return u.coordinate+r/2}return n!=null&&n[a]?n[a].coordinate+r/2:null}var f=ft(i,Mt(l)?t.dataKey:l),d=t.scale.map(f);return be(d)?d:null}var UC=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:a,index:l}=e;if(t.type==="category")return n[l]?n[l].coordinate+r:null;var u=ft(a,t.dataKey,t.scale.domain()[l]);if(Mt(u))return null;var f=t.scale.map(u);return be(f)?f-i/2+r:null},gq=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},vq=e=>{var t=e.flat(2).filter(be);return[Math.min(...t),Math.max(...t)]},yq=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],bq=(e,t,n)=>{if(e!=null)return yq(Object.keys(e).reduce((r,i)=>{var a=e[i];if(!a)return r;var{stackedData:l}=a,u=l.reduce((f,d)=>{var h=WM(d,t,n),m=vq(h);return!qe(m[0])||!qe(m[1])?f:[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},zC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$C=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ll=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=tp(t,h=>h.coordinate),a=1/0,l=1,u=i.length;l<u;l++){var f=i[l],d=i[l-1];a=Math.min(((f==null?void 0:f.coordinate)||0)-((d==null?void 0:d.coordinate)||0),a)}return a===1/0?0:a}return n?void 0:0};function BC(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Ys(Ys({},t),{},{dataKey:n,payload:r,value:i,name:a})}function yl(e,t){if(e)return String(e);if(typeof t=="string")return t}var xq=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},_q=(e,t)=>t==="centric"?e.angle:e.radius,qi=e=>e.layout.width,Fi=e=>e.layout.height,wq=e=>e.layout.scale,QM=e=>e.layout.margin,dp=X(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),fp=X(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),eD="data-recharts-item-index",tD="data-recharts-item-id",_c=60;function qC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qC(Object(n),!0).forEach(function(r){Sq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sq(e,t,n){return(t=Eq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eq(e){var t=Tq(e,"string");return typeof t=="symbol"?t:t+""}function Tq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Aq=e=>e.brush.height;function Cq(e){var t=fp(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:_c;return n+i}return n},0)}function Nq(e){var t=fp(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:_c;return n+i}return n},0)}function Oq(e){var t=dp(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Iq(e){var t=dp(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Jt=X([qi,Fi,QM,Aq,Cq,Nq,Oq,Iq,yM,r5],(e,t,n,r,i,a,l,u,f,d)=>{var h={left:(n.left||0)+i,right:(n.right||0)+a},m={top:(n.top||0)+l,bottom:(n.bottom||0)+u},v=cf(cf({},m),h),_=v.bottom;v.bottom+=r,v=cq(v,f,d);var S=e-v.left-v.right,E=t-v.top-v.bottom;return cf(cf({brushBottom:_},v),{},{width:Math.max(S,0),height:Math.max(E,0)})}),Pq=X(Jt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),cx=X(qi,Fi,(e,t)=>({x:0,y:0,width:e,height:t})),Rq=A.createContext(null),Tn=()=>A.useContext(Rq)!=null,hp=e=>e.brush,pp=X([hp,Jt,QM],(e,t,n)=>({height:e.height,x:be(e.x)?e.x:t.left,y:be(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:be(e.width)?e.width:t.width})),xy={},_y={},wy={},FC;function Mq(){return FC||(FC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let l,u=null;const f=a!=null&&a.includes("leading"),d=a==null||a.includes("trailing"),h=()=>{u!==null&&(n.apply(l,u),l=void 0,u=null)},m=()=>{d&&h(),E()};let v=null;const _=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,m()},r)},S=()=>{v!==null&&(clearTimeout(v),v=null)},E=()=>{S(),l=void 0,u=null},T=()=>{h()},C=function(...P){if(i!=null&&i.aborted)return;l=this,u=P;const I=v==null;_(),f&&I&&h()};return C.schedule=_,C.cancel=E,C.flush=T,i==null||i.addEventListener("abort",E,{once:!0}),C}e.debounce=t})(wy)),wy}var GC;function Dq(){return GC||(GC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mq();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:l=!1,trailing:u=!0,maxWait:f}=a,d=Array(2);l&&(d[0]="leading"),u&&(d[1]="trailing");let h,m=null;const v=t.debounce(function(...E){h=r.apply(this,E),m=null},i,{edges:d}),_=function(...E){return f!=null&&(m===null&&(m=Date.now()),Date.now()-m>=f)?(h=r.apply(this,E),m=Date.now(),v.cancel(),v.schedule(),h):(v.apply(this,E),h)},S=()=>(v.flush(),h);return _.cancel=v.cancel,_.flush=S,_}e.debounce=n})(_y)),_y}var HC;function kq(){return HC||(HC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dq();function n(r,i=0,a={}){const{leading:l=!0,trailing:u=!0}=a;return t.debounce(r,i,{leading:l,maxWait:i,trailing:u})}e.throttle=n})(xy)),xy}var Sy,VC;function jq(){return VC||(VC=1,Sy=kq().throttle),Sy}var Lq=jq();const Uq=Br(Lq);var ih=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=0;console.warn(n.replace(/%s/g,()=>i[l++]))}},Xr={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},nD=(e,t,n)=>{var{width:r=Xr.width,height:i=Xr.height,aspect:a,maxHeight:l}=n,u=Ro(r)?e:Number(r),f=Ro(i)?t:Number(i);return a&&a>0&&(u?f=u/a:f&&(u=f*a),l&&f!=null&&f>l&&(f=l)),{calculatedWidth:u,calculatedHeight:f}},zq={width:0,height:0,overflow:"visible"},$q={width:0,overflowX:"visible"},Bq={height:0,overflowY:"visible"},qq={},Fq=e=>{var{width:t,height:n}=e,r=Ro(t),i=Ro(n);return r&&i?zq:r?$q:i?Bq:qq};function Gq(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i=Xr.width,a=Xr.height):i===void 0?i=r&&r>0?void 0:Xr.width:a===void 0&&(a=r&&r>0?void 0:Xr.height),{width:i,height:a}}function M0(){return M0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M0.apply(null,arguments)}function KC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function YC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KC(Object(n),!0).forEach(function(r){Hq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hq(e,t,n){return(t=Vq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vq(e){var t=Kq(e,"string");return typeof t=="symbol"?t:t+""}function Kq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rD=A.createContext(Xr.initialDimension);function Yq(e){return ni(e.width)&&ni(e.height)}function iD(e){var{children:t,width:n,height:r}=e,i=A.useMemo(()=>({width:n,height:r}),[n,r]);return Yq(i)?A.createElement(rD.Provider,{value:i},t):null}var dx=()=>A.useContext(rD),Wq=A.forwardRef((e,t)=>{var{aspect:n,initialDimension:r=Xr.initialDimension,width:i,height:a,minWidth:l=Xr.minWidth,minHeight:u,maxHeight:f,children:d,debounce:h=Xr.debounce,id:m,className:v,onResize:_,style:S={}}=e,E=A.useRef(null),T=A.useRef();T.current=_,A.useImperativeHandle(t,()=>E.current);var[C,P]=A.useState({containerWidth:r.width,containerHeight:r.height}),I=A.useCallback((z,U)=>{P(K=>{var L=Math.round(z),q=Math.round(U);return K.containerWidth===L&&K.containerHeight===q?K:{containerWidth:L,containerHeight:q}})},[]);A.useEffect(()=>{if(E.current==null||typeof ResizeObserver>"u")return Uo;var z=q=>{var Z,ae=q[0];if(ae!=null){var{width:se,height:j}=ae.contentRect;I(se,j),(Z=T.current)===null||Z===void 0||Z.call(T,se,j)}};h>0&&(z=Uq(z,h,{trailing:!0,leading:!1}));var U=new ResizeObserver(z),{width:K,height:L}=E.current.getBoundingClientRect();return I(K,L),U.observe(E.current),()=>{U.disconnect()}},[I,h]);var{containerWidth:O,containerHeight:R}=C;ih(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:D,calculatedHeight:M}=nD(O,R,{width:i,height:a,aspect:n,maxHeight:f});return ih(D!=null&&D>0||M!=null&&M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,M,i,a,l,u,n),A.createElement("div",{id:m?"".concat(m):void 0,className:Qe("recharts-responsive-container",v),style:YC(YC({},S),{},{width:i,height:a,minWidth:l,minHeight:u,maxHeight:f}),ref:E},A.createElement("div",{style:Fq({width:i,height:a})},A.createElement(iD,{width:D,height:M},d)))}),Pa=A.forwardRef((e,t)=>{var n=dx();if(ni(n.width)&&ni(n.height))return e.children;var{width:r,height:i}=Gq({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:l}=nD(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return be(a)&&be(l)?A.createElement(iD,{width:a,height:l},e.children):A.createElement(Wq,M0({},e,{width:r,height:i,ref:t}))});function fx(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var mp=()=>{var e,t=Tn(),n=Ee(Pq),r=Ee(pp),i=(e=Ee(hp))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Jq={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},aD=()=>{var e;return(e=Ee(Jt))!==null&&e!==void 0?e:Jq},hx=()=>Ee(qi),px=()=>Ee(Fi),Xq=()=>Ee(e=>e.layout.margin),We=e=>e.layout.layoutType,zo=()=>Ee(We),mx=()=>{var e=zo();if(e==="horizontal"||e==="vertical")return e},oD=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},Zq=()=>{var e=zo();return e!==void 0},wc=e=>{var t=vt(),n=Tn(),{width:r,height:i}=e,a=dx(),l=r,u=i;return a&&(l=a.width>0?a.width:r,u=a.height>0?a.height:i),A.useEffect(()=>{!n&&ni(l)&&ni(u)&&t(iq({width:l,height:u}))},[t,n,l,u]),null},sD=Symbol.for("immer-nothing"),WC=Symbol.for("immer-draftable"),ar=Symbol.for("immer-state");function Mr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ec=Object.getPrototypeOf;function ul(e){return!!e&&!!e[ar]}function Do(e){var t;return e?lD(e)||Array.isArray(e)||!!e[WC]||!!((t=e.constructor)!=null&&t[WC])||Sc(e)||vp(e):!1}var Qq=Object.prototype.constructor.toString(),JC=new WeakMap;function lD(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=JC.get(n);return r===void 0&&(r=Function.toString.call(n),JC.set(n,r)),r===Qq}function ah(e,t,n=!0){gp(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function gp(e){const t=e[ar];return t?t.type_:Array.isArray(e)?1:Sc(e)?2:vp(e)?3:0}function D0(e,t){return gp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function uD(e,t,n){const r=gp(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function e6(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Sc(e){return e instanceof Map}function vp(e){return e instanceof Set}function po(e){return e.copy_||e.base_}function k0(e,t){if(Sc(e))return new Map(e);if(vp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=lD(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[ar];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const l=i[a],u=r[l];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[l]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[l]})}return Object.create(ec(e),r)}else{const r=ec(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function gx(e,t=!1){return yp(e)||ul(e)||!Do(e)||(gp(e)>1&&Object.defineProperties(e,{set:df,add:df,clear:df,delete:df}),Object.freeze(e),t&&Object.values(e).forEach(n=>gx(n,!0))),e}function t6(){Mr(2)}var df={value:t6};function yp(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var n6={};function ko(e){const t=n6[e];return t||Mr(0,e),t}var tc;function cD(){return tc}function r6(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function XC(e,t){t&&(ko("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function j0(e){L0(e),e.drafts_.forEach(i6),e.drafts_=null}function L0(e){e===tc&&(tc=e.parent_)}function ZC(e){return tc=r6(tc,e)}function i6(e){const t=e[ar];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function QC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[ar].modified_&&(j0(t),Mr(4)),Do(e)&&(e=oh(t,e),t.parent_||sh(t,e)),t.patches_&&ko("Patches").generateReplacementPatches_(n[ar].base_,e,t.patches_,t.inversePatches_)):e=oh(t,n,[]),j0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==sD?e:void 0}function oh(e,t,n){if(yp(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[ar];if(!i)return ah(t,(a,l)=>e1(e,i,t,a,l,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return sh(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let l=a,u=!1;i.type_===3&&(l=new Set(a),a.clear(),u=!0),ah(l,(f,d)=>e1(e,i,a,f,d,n,u),r),sh(e,a,!1),n&&e.patches_&&ko("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function e1(e,t,n,r,i,a,l){if(i==null||typeof i!="object"&&!l)return;const u=yp(i);if(!(u&&!l)){if(ul(i)){const f=a&&t&&t.type_!==3&&!D0(t.assigned_,r)?a.concat(r):void 0,d=oh(e,i,f);if(uD(n,r,d),ul(d))e.canAutoFreeze_=!1;else return}else l&&n.add(i);if(Do(i)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&u)return;oh(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Sc(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&sh(e,i)}}}function sh(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&gx(t,n)}function a6(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:cD(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=vx;n&&(i=[r],a=nc);const{revoke:l,proxy:u}=Proxy.revocable(i,a);return r.draft_=u,r.revoke_=l,u}var vx={get(e,t){if(t===ar)return e;const n=po(e);if(!D0(n,t))return o6(e,n,t);const r=n[t];return e.finalized_||!Do(r)?r:r===Ey(e.base_,t)?(Ty(e),e.copy_[t]=z0(r,e)):r},has(e,t){return t in po(e)},ownKeys(e){return Reflect.ownKeys(po(e))},set(e,t,n){const r=dD(po(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Ey(po(e),t),a=i==null?void 0:i[ar];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(e6(n,i)&&(n!==void 0||D0(e.base_,t)))return!0;Ty(e),U0(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Ey(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Ty(e),U0(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=po(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Mr(11)},getPrototypeOf(e){return ec(e.base_)},setPrototypeOf(){Mr(12)}},nc={};ah(vx,(e,t)=>{nc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});nc.deleteProperty=function(e,t){return nc.set.call(this,e,t,void 0)};nc.set=function(e,t,n){return vx.set.call(this,e[0],t,n,e[0])};function Ey(e,t){const n=e[ar];return(n?po(n):e)[t]}function o6(e,t,n){var i;const r=dD(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function dD(e,t){if(!(t in e))return;let n=ec(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=ec(n)}}function U0(e){e.modified_||(e.modified_=!0,e.parent_&&U0(e.parent_))}function Ty(e){e.copy_||(e.copy_=k0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var s6=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const l=this;return function(f=a,...d){return l.produce(f,h=>n.call(this,h,...d))}}typeof n!="function"&&Mr(6),r!==void 0&&typeof r!="function"&&Mr(7);let i;if(Do(t)){const a=ZC(this),l=z0(t,void 0);let u=!0;try{i=n(l),u=!1}finally{u?j0(a):L0(a)}return XC(a,r),QC(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===sD&&(i=void 0),this.autoFreeze_&&gx(i,!0),r){const a=[],l=[];ko("Patches").generateReplacementPatches_(t,i,a,l),r(a,l)}return i}else Mr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(l,...u)=>this.produceWithPatches(l,f=>t(f,...u));let r,i;return[this.produce(t,n,(l,u)=>{r=l,i=u}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Do(e)||Mr(8),ul(e)&&(e=l6(e));const t=ZC(this),n=z0(e,void 0);return n[ar].isManual_=!0,L0(t),n}finishDraft(e,t){const n=e&&e[ar];(!n||!n.isManual_)&&Mr(9);const{scope_:r}=n;return XC(r,t),QC(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=ko("Patches").applyPatches_;return ul(e)?r(e,t):this.produce(e,i=>r(i,t))}};function z0(e,t){const n=Sc(e)?ko("MapSet").proxyMap_(e,t):vp(e)?ko("MapSet").proxySet_(e,t):a6(e,t);return(t?t.scope_:cD()).drafts_.push(n),n}function l6(e){return ul(e)||Mr(10,e),fD(e)}function fD(e){if(!Do(e)||yp(e))return e;const t=e[ar];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=k0(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=k0(e,!0);return ah(n,(i,a)=>{uD(n,i,fD(a))},r),t&&(t.finalized_=!1),n}var u6=new s6;u6.produce;var c6={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},hD=Fn({name:"legend",initialState:c6,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Tt()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=jr(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:Tt()},removeLegendPayload:{reducer(e,t){var n=jr(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:Tt()}}}),{setLegendSize:t1,setLegendSettings:d6,addLegendPayload:pD,replaceLegendPayload:mD,removeLegendPayload:gD}=hD.actions,f6=hD.reducer,h6=["contextPayload"];function $0(){return $0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$0.apply(null,arguments)}function n1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n1(Object(n),!0).forEach(function(r){p6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function p6(e,t,n){return(t=m6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m6(e){var t=g6(e,"string");return typeof t=="symbol"?t:t+""}function g6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v6(e,t){if(e==null)return{};var n,r,i=y6(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function y6(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function b6(e){return e.value}function x6(e){var{contextPayload:t}=e,n=v6(e,h6),r=pM(t,e.payloadUniqBy,b6),i=cl(cl({},n),{},{payload:r});return A.isValidElement(e.content)?A.cloneElement(e.content,i):typeof e.content=="function"?A.createElement(e.content,i):A.createElement(d3,i)}function _6(e,t,n,r,i,a){var{layout:l,align:u,verticalAlign:f}=t,d,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(u==="center"&&l==="vertical"?d={left:((r||0)-a.width)/2}:d=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(f==="middle"?h={top:((i||0)-a.height)/2}:h=f==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),cl(cl({},d),h)}function w6(e){var t=vt();return A.useEffect(()=>{t(d6(e))},[t,e]),null}function S6(e){var t=vt();return A.useEffect(()=>(t(t1(e)),()=>{t(t1({width:0,height:0}))}),[t,e]),null}function E6(e,t,n,r){return e==="vertical"&&t!=null?{height:t}:e==="horizontal"?{width:n||r}:null}var T6={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function dl(e){var t=Vt(e,T6),n=o5(),r=rB(),i=Xq(),{width:a,height:l,wrapperStyle:u,portal:f}=t,[d,h]=bM([n]),m=hx(),v=px();if(m==null||v==null)return null;var _=m-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),S=E6(t.layout,l,a,_),E=f?u:cl(cl({position:"absolute",width:(S==null?void 0:S.width)||a||"auto",height:(S==null?void 0:S.height)||l||"auto"},_6(u,t,i,m,v,d)),u),T=f??r;if(T==null||n==null)return null;var C=A.createElement("div",{className:"recharts-legend-wrapper",style:E,ref:h},A.createElement(w6,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!f&&A.createElement(S6,{width:d.width,height:d.height}),A.createElement(x6,$0({},t,S,{margin:i,chartWidth:m,chartHeight:v,contextPayload:n})));return Vb.createPortal(C,T)}dl.displayName="Legend";function B0(){return B0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B0.apply(null,arguments)}function r1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Au(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r1(Object(n),!0).forEach(function(r){A6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function A6(e,t,n){return(t=C6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C6(e){var t=N6(e,"string");return typeof t=="symbol"?t:t+""}function N6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O6(e){return Array.isArray(e)&&ti(e[0])&&ti(e[1])?e.join(" ~ "):e}var Ns={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},I6=e=>{var{separator:t=Ns.separator,contentStyle:n,itemStyle:r,labelStyle:i=Ns.labelStyle,payload:a,formatter:l,itemSorter:u,wrapperClassName:f,labelClassName:d,label:h,labelFormatter:m,accessibilityLayer:v=Ns.accessibilityLayer}=e,_=()=>{if(a&&a.length){var R={padding:0,margin:0},D=(u?tp(a,u):a).map((M,z)=>{if(M.type==="none")return null;var U=M.formatter||l||O6,{value:K,name:L}=M,q=K,Z=L;if(U){var ae=U(K,L,M,z,a);if(Array.isArray(ae))[q,Z]=ae;else if(ae!=null)q=ae;else return null}var se=Au(Au({},Ns.itemStyle),{},{color:M.color||Ns.itemStyle.color},r);return A.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:se},ti(Z)?A.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,ti(Z)?A.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,A.createElement("span",{className:"recharts-tooltip-item-value"},q),A.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return A.createElement("ul",{className:"recharts-tooltip-item-list",style:R},D)}return null},S=Au(Au({},Ns.contentStyle),n),E=Au({margin:0},i),T=!Mt(h),C=T?h:"",P=Qe("recharts-default-tooltip",f),I=Qe("recharts-tooltip-label",d);T&&m&&a!==void 0&&a!==null&&(C=m(h,a));var O=v?{role:"status","aria-live":"assertive"}:{};return A.createElement("div",B0({className:P,style:S},O),A.createElement("p",{className:I,style:E},A.isValidElement(C)?C:"".concat(C)),_())},Cu="recharts-tooltip-wrapper",P6={visibility:"hidden"};function R6(e){var{coordinate:t,translateX:n,translateY:r}=e;return Qe(Cu,{["".concat(Cu,"-right")]:be(n)&&t&&be(t.x)&&n>=t.x,["".concat(Cu,"-left")]:be(n)&&t&&be(t.x)&&n<t.x,["".concat(Cu,"-bottom")]:be(r)&&t&&be(t.y)&&r>=t.y,["".concat(Cu,"-top")]:be(r)&&t&&be(t.y)&&r<t.y})}function i1(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offset:i,position:a,reverseDirection:l,tooltipDimension:u,viewBox:f,viewBoxDimension:d}=e;if(a&&be(a[r]))return a[r];var h=n[r]-u-(i>0?i:0),m=n[r]+i;if(t[r])return l[r]?h:m;var v=f[r];if(v==null)return 0;if(l[r]){var _=h,S=v;return _<S?Math.max(m,v):Math.max(h,v)}if(d==null)return 0;var E=m+u,T=v+d;return E>T?Math.max(h,v):Math.max(m,v)}function M6(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function D6(e){var{allowEscapeViewBox:t,coordinate:n,offsetTop:r,offsetLeft:i,position:a,reverseDirection:l,tooltipBox:u,useTranslate3d:f,viewBox:d}=e,h,m,v;return u.height>0&&u.width>0&&n?(m=i1({allowEscapeViewBox:t,coordinate:n,key:"x",offset:i,position:a,reverseDirection:l,tooltipDimension:u.width,viewBox:d,viewBoxDimension:d.width}),v=i1({allowEscapeViewBox:t,coordinate:n,key:"y",offset:r,position:a,reverseDirection:l,tooltipDimension:u.height,viewBox:d,viewBoxDimension:d.height}),h=M6({translateX:m,translateY:v,useTranslate3d:f})):h=P6,{cssProperties:h,cssClasses:R6({translateX:m,translateY:v,coordinate:n})}}function a1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ff(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a1(Object(n),!0).forEach(function(r){q0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function q0(e,t,n){return(t=k6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k6(e){var t=j6(e,"string");return typeof t=="symbol"?t:t+""}function j6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class L6 extends A.PureComponent{constructor(){super(...arguments),q0(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),q0(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:l,hasPayload:u,isAnimationActive:f,offset:d,position:h,reverseDirection:m,useTranslate3d:v,viewBox:_,wrapperStyle:S,lastBoundingBox:E,innerRef:T,hasPortalFromProps:C}=this.props,P=typeof d=="number"?d:d.x,I=typeof d=="number"?d:d.y,{cssClasses:O,cssProperties:R}=D6({allowEscapeViewBox:n,coordinate:l,offsetLeft:P,offsetTop:I,position:h,reverseDirection:m,tooltipBox:{height:E.height,width:E.width},useTranslate3d:v,viewBox:_}),D=C?{}:ff(ff({transition:f&&t?"transform ".concat(r,"ms ").concat(i):void 0},R),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),M=ff(ff({},D),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},S);return A.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:O,style:M,ref:T},a)}}var vD=()=>{var e;return(e=Ee(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function F0(){return F0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F0.apply(null,arguments)}function o1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function s1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o1(Object(n),!0).forEach(function(r){U6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function U6(e,t,n){return(t=z6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z6(e){var t=$6(e,"string");return typeof t=="symbol"?t:t+""}function $6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l1={curveBasisClosed:wB,curveBasisOpen:SB,curveBasis:_B,curveBumpX:sB,curveBumpY:lB,curveLinearClosed:EB,curveLinear:Qh,curveMonotoneX:TB,curveMonotoneY:AB,curveNatural:CB,curveStep:NB,curveStepAfter:IB,curveStepBefore:OB},lh=e=>qe(e.x)&&qe(e.y),u1=e=>e.base!=null&&lh(e.base)&&lh(e),Nu=e=>e.x,Ou=e=>e.y,B6=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(vc(e));if((n==="curveMonotone"||n==="curveBump")&&t){var r=l1["".concat(n).concat(t==="vertical"?"Y":"X")];if(r)return r}return l1[n]||Qh},c1={connectNulls:!1,type:"linear"},q6=e=>{var{type:t=c1.type,points:n=[],baseLine:r,layout:i,connectNulls:a=c1.connectNulls}=e,l=B6(t,i),u=a?n.filter(lh):n;if(Array.isArray(r)){var f,d=n.map((S,E)=>s1(s1({},S),{},{base:r[E]}));i==="vertical"?f=rf().y(Ou).x1(Nu).x0(S=>S.base.x):f=rf().x(Nu).y1(Ou).y0(S=>S.base.y);var h=f.defined(u1).curve(l),m=a?d.filter(u1):d;return h(m)}var v;i==="vertical"&&be(r)?v=rf().y(Ou).x1(Nu).x0(r):be(r)?v=rf().x(Nu).y1(Ou).y0(r):v=GR().x(Nu).y(Ou);var _=v.defined(lh).curve(l);return _(u)},tl=e=>{var{className:t,points:n,path:r,pathRef:i}=e,a=zo();if((!n||!n.length)&&!r)return null;var l={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},u=n&&n.length?q6(l):r;return A.createElement("path",F0({},qn(e),ex(e),{className:Qe("recharts-curve",t),d:u===null?void 0:u,ref:i}))},F6=["x","y","top","left","width","height","className"];function G0(){return G0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G0.apply(null,arguments)}function d1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function G6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d1(Object(n),!0).forEach(function(r){H6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function H6(e,t,n){return(t=V6(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V6(e){var t=K6(e,"string");return typeof t=="symbol"?t:t+""}function K6(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y6(e,t){if(e==null)return{};var n,r,i=W6(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function W6(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var J6=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),X6=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:l=0,className:u}=e,f=Y6(e,F6),d=G6({x:t,y:n,top:r,left:i,width:a,height:l},f);return!be(t)||!be(n)||!be(a)||!be(l)||!be(r)||!be(i)?null:A.createElement("path",G0({},In(d),{className:Qe("recharts-cross",u),d:J6(t,n,a,l,r,i)}))};function Z6(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function f1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function h1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f1(Object(n),!0).forEach(function(r){Q6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Q6(e,t,n){return(t=eF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eF(e){var t=tF(e,"string");return typeof t=="symbol"?t:t+""}function tF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nF=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),yD=(e,t,n)=>e.map(r=>"".concat(nF(r)," ").concat(t,"ms ").concat(n)).join(","),rF=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),rc=(e,t)=>Object.keys(t).reduce((n,r)=>h1(h1({},n),{},{[r]:e(r,t[r])}),{});function p1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p1(Object(n),!0).forEach(function(r){iF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iF(e,t,n){return(t=aF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aF(e){var t=oF(e,"string");return typeof t=="symbol"?t:t+""}function oF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uh=(e,t,n)=>e+(t-e)*n,H0=e=>{var{from:t,to:n}=e;return t!==n},bD=(e,t,n)=>{var r=rc((i,a)=>{if(H0(a)){var[l,u]=e(a.from,a.to,a.velocity);return Wt(Wt({},a),{},{from:l,velocity:u})}return a},t);return n<1?rc((i,a)=>H0(a)&&r[i]!=null?Wt(Wt({},a),{},{velocity:uh(a.velocity,r[i].velocity,n),from:uh(a.from,r[i].from,n)}):a,t):bD(e,r,n-1)};function sF(e,t,n,r,i,a){var l,u=r.reduce((v,_)=>Wt(Wt({},v),{},{[_]:{from:e[_],velocity:0,to:t[_]}}),{}),f=()=>rc((v,_)=>_.from,u),d=()=>!Object.values(u).filter(H0).length,h=null,m=v=>{l||(l=v);var _=v-l,S=_/n.dt;u=bD(n,u,S),i(Wt(Wt(Wt({},e),t),f())),l=v,d()||(h=a.setTimeout(m))};return()=>(h=a.setTimeout(m),()=>{var v;(v=h)===null||v===void 0||v()})}function lF(e,t,n,r,i,a,l){var u=null,f=i.reduce((m,v)=>{var _=e[v],S=t[v];return _==null||S==null?m:Wt(Wt({},m),{},{[v]:[_,S]})},{}),d,h=m=>{d||(d=m);var v=(m-d)/r,_=rc((E,T)=>uh(...T,n(v)),f);if(a(Wt(Wt(Wt({},e),t),_)),v<1)u=l.setTimeout(h);else{var S=rc((E,T)=>uh(...T,n(1)),f);a(Wt(Wt(Wt({},e),t),S))}};return()=>(u=l.setTimeout(h),()=>{var m;(m=u)===null||m===void 0||m()})}const uF=(e,t,n,r,i,a)=>{var l=rF(e,t);return n==null?()=>(i(Wt(Wt({},e),t)),()=>{}):n.isStepper===!0?sF(e,t,n,l,i,a):lF(e,t,n,r,l,i,a)};var ch=1e-4,xD=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],_D=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),m1=(e,t)=>n=>{var r=xD(e,t);return _D(r,n)},cF=(e,t)=>n=>{var r=xD(e,t),i=[...r.map((a,l)=>a*l).slice(1),0];return _D(i,n)},dF=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},fF=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=dF(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},hF=(e,t,n,r)=>{var i=m1(e,n),a=m1(t,r),l=cF(e,n),u=d=>d>1?1:d<0?0:d,f=d=>{for(var h=d>1?1:d,m=h,v=0;v<8;++v){var _=i(m)-h,S=l(m);if(Math.abs(_-h)<ch||S<ch)return a(m);m=u(m-_/S)}return a(m)};return f.isStepper=!1,f},g1=function(){return hF(...fF(...arguments))},pF=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(l,u,f)=>{var d=-(l-u)*n,h=f*r,m=f+(d-h)*i/1e3,v=f*i/1e3+l;return Math.abs(v-u)<ch&&Math.abs(m)<ch?[u,0]:[v,m]};return a.isStepper=!0,a.dt=i,a},mF=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return g1(e);case"spring":return pF();default:if(e.split("(")[0]==="cubic-bezier")return g1(e)}return typeof e=="function"?e:null};function gF(e){var t,n=()=>null,r=!1,i=null,a=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var u=l,[f,...d]=u;if(typeof f=="number"){i=e.setTimeout(a.bind(null,d),f);return}a(f),i=e.setTimeout(a.bind(null,d));return}typeof l=="string"&&(t=l,n(t)),typeof l=="object"&&(t=l,n(t)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),a(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>e}}class vF{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=l=>{l-r>=n?t(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function yF(){return gF(new vF)}var bF=A.createContext(yF);function xF(e,t){var n=A.useContext(bF);return A.useMemo(()=>t??n(e),[e,t,n])}var _F=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ec={isSsr:_F()},wF={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},v1={t:0},Ay={t:1};function Tc(e){var t=Vt(e,wF),{isActive:n,canBegin:r,duration:i,easing:a,begin:l,onAnimationEnd:u,onAnimationStart:f,children:d}=t,h=n==="auto"?!Ec.isSsr:n,m=xF(t.animationId,t.animationManager),[v,_]=A.useState(h?v1:Ay),S=A.useRef(null);return A.useEffect(()=>{h||_(Ay)},[h]),A.useEffect(()=>{if(!h||!r)return Uo;var E=uF(v1,Ay,mF(a),i,_,m.getTimeoutController()),T=()=>{S.current=E()};return m.start([f,l,T,i,u]),()=>{m.stop(),S.current&&S.current(),u()}},[h,r,i,a,l,f,u,m]),d(v.t)}function Ac(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=A.useRef(Ju(t)),r=A.useRef(e);return r.current!==e&&(n.current=Ju(t),r.current=e),n.current}var SF=["radius"],EF=["radius"],y1,b1,x1,_1,w1,S1,E1,T1,A1,C1;function N1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function O1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N1(Object(n),!0).forEach(function(r){TF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TF(e,t,n){return(t=AF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AF(e){var t=CF(e,"string");return typeof t=="symbol"?t:t+""}function CF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dh(){return dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dh.apply(null,arguments)}function I1(e,t){if(e==null)return{};var n,r,i=NF(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function NF(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Yr(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var P1=(e,t,n,r,i)=>{var a=Ia(n),l=Ia(r),u=Math.min(Math.abs(a)/2,Math.abs(l)/2),f=l>=0?1:-1,d=a>=0?1:-1,h=l>=0&&a>=0||l<0&&a<0?1:0,m;if(u>0&&Array.isArray(i)){for(var v=[0,0,0,0],_=0,S=4;_<S;_++){var E,T=(E=i[_])!==null&&E!==void 0?E:0;v[_]=T>u?u:T}m=Pt(y1||(y1=Yr(["M",",",""])),e,t+f*v[0]),v[0]>0&&(m+=Pt(b1||(b1=Yr(["A ",",",",0,0,",",",",",""])),v[0],v[0],h,e+d*v[0],t)),m+=Pt(x1||(x1=Yr(["L ",",",""])),e+n-d*v[1],t),v[1]>0&&(m+=Pt(_1||(_1=Yr(["A ",",",",0,0,",`,
        `,",",""])),v[1],v[1],h,e+n,t+f*v[1])),m+=Pt(w1||(w1=Yr(["L ",",",""])),e+n,t+r-f*v[2]),v[2]>0&&(m+=Pt(S1||(S1=Yr(["A ",",",",0,0,",`,
        `,",",""])),v[2],v[2],h,e+n-d*v[2],t+r)),m+=Pt(E1||(E1=Yr(["L ",",",""])),e+d*v[3],t+r),v[3]>0&&(m+=Pt(T1||(T1=Yr(["A ",",",",0,0,",`,
        `,",",""])),v[3],v[3],h,e,t+r-f*v[3])),m+="Z"}else if(u>0&&i===+i&&i>0){var C=Math.min(u,i);m=Pt(A1||(A1=Yr(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+f*C,C,C,h,e+d*C,t,e+n-d*C,t,C,C,h,e+n,t+f*C,e+n,t+r-f*C,C,C,h,e+n-d*C,t+r,e+d*C,t+r,C,C,h,e,t+r-f*C)}else m=Pt(C1||(C1=Yr(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return m},R1={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wD=e=>{var t=Vt(e,R1),n=A.useRef(null),[r,i]=A.useState(-1);A.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var G=n.current.getTotalLength();G&&i(G)}catch{}},[]);var{x:a,y:l,width:u,height:f,radius:d,className:h}=t,{animationEasing:m,animationDuration:v,animationBegin:_,isAnimationActive:S,isUpdateAnimationActive:E}=t,T=A.useRef(u),C=A.useRef(f),P=A.useRef(a),I=A.useRef(l),O=A.useMemo(()=>({x:a,y:l,width:u,height:f,radius:d}),[a,l,u,f,d]),R=Ac(O,"rectangle-");if(a!==+a||l!==+l||u!==+u||f!==+f||u===0||f===0)return null;var D=Qe("recharts-rectangle",h);if(!E){var M=In(t),{radius:z}=M,U=I1(M,SF);return A.createElement("path",dh({},U,{x:Ia(a),y:Ia(l),width:Ia(u),height:Ia(f),radius:typeof d=="number"?d:void 0,className:D,d:P1(a,l,u,f,d)}))}var K=T.current,L=C.current,q=P.current,Z=I.current,ae="0px ".concat(r===-1?1:r,"px"),se="".concat(r,"px 0px"),j=yD(["strokeDasharray"],v,typeof m=="string"?m:R1.animationEasing);return A.createElement(Tc,{animationId:R,key:R,canBegin:r>0,duration:v,easing:m,isActive:E,begin:_},G=>{var W=St(K,u,G),re=St(L,f,G),he=St(q,a,G),$=St(Z,l,G);n.current&&(T.current=W,C.current=re,P.current=he,I.current=$);var J;S?G>0?J={transition:j,strokeDasharray:se}:J={strokeDasharray:ae}:J={strokeDasharray:se};var ue=In(t),{radius:pe}=ue,Ce=I1(ue,EF);return A.createElement("path",dh({},Ce,{radius:typeof d=="number"?d:void 0,className:D,d:P1(he,$,W,re,d),ref:n,style:O1(O1({},J),t.style)}))})};function M1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function D1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?M1(Object(n),!0).forEach(function(r){OF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OF(e,t,n){return(t=IF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IF(e){var t=PF(e,"string");return typeof t=="symbol"?t:t+""}function PF(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fh=Math.PI/180,RF=e=>e*180/Math.PI,Ft=(e,t,n,r)=>({x:e+Math.cos(-fh*r)*n,y:t+Math.sin(-fh*r)*n}),SD=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},MF=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},DF=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,l=MF({x:n,y:r},{x:i,y:a});if(l<=0)return{radius:l,angle:0};var u=(n-i)/l,f=Math.acos(u);return r>a&&(f=2*Math.PI-f),{radius:l,angle:RF(f),angleInRadian:f}},kF=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},jF=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),l=Math.min(i,a);return e+l*360},LF=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=DF({x:n,y:r},t),{innerRadius:l,outerRadius:u}=t;if(i<l||i>u||i===0)return null;var{startAngle:f,endAngle:d}=kF(t),h=a,m;if(f<=d){for(;h>d;)h-=360;for(;h<f;)h+=360;m=h>=f&&h<=d}else{for(;h>f;)h-=360;for(;h<d;)h+=360;m=h>=d&&h<=f}return m?D1(D1({},t),{},{radius:i,angle:jF(h,t)}):null};function ED(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,l=Ft(t,n,r,i),u=Ft(t,n,r,a);return{points:[l,u],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}var k1,j1,L1,U1,z1,$1,B1;function V0(){return V0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V0.apply(null,arguments)}function xo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var UF=(e,t)=>{var n=on(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},hf=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:l,cornerRadius:u,cornerIsExternal:f}=e,d=u*(l?1:-1)+r,h=Math.asin(u/d)/fh,m=f?i:i+a*h,v=Ft(t,n,d,m),_=Ft(t,n,r,m),S=f?i-a*h:i,E=Ft(t,n,d*Math.cos(h*fh),S);return{center:v,circleTangency:_,lineTangency:E,theta:h}},TD=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:l}=e,u=UF(a,l),f=a+u,d=Ft(t,n,i,a),h=Ft(t,n,i,f),m=Pt(k1||(k1=xo(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),d.x,d.y,i,i,+(Math.abs(u)>180),+(a>f),h.x,h.y);if(r>0){var v=Ft(t,n,r,a),_=Ft(t,n,r,f);m+=Pt(j1||(j1=xo(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),_.x,_.y,r,r,+(Math.abs(u)>180),+(a<=f),v.x,v.y)}else m+=Pt(L1||(L1=xo(["L ",","," Z"])),t,n);return m},zF=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:u,startAngle:f,endAngle:d}=e,h=on(d-f),{circleTangency:m,lineTangency:v,theta:_}=hf({cx:t,cy:n,radius:i,angle:f,sign:h,cornerRadius:a,cornerIsExternal:u}),{circleTangency:S,lineTangency:E,theta:T}=hf({cx:t,cy:n,radius:i,angle:d,sign:-h,cornerRadius:a,cornerIsExternal:u}),C=u?Math.abs(f-d):Math.abs(f-d)-_-T;if(C<0)return l?Pt(U1||(U1=xo(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),v.x,v.y,a,a,a*2,a,a,-a*2):TD({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:f,endAngle:d});var P=Pt(z1||(z1=xo(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),v.x,v.y,a,a,+(h<0),m.x,m.y,i,i,+(C>180),+(h<0),S.x,S.y,a,a,+(h<0),E.x,E.y);if(r>0){var{circleTangency:I,lineTangency:O,theta:R}=hf({cx:t,cy:n,radius:r,angle:f,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),{circleTangency:D,lineTangency:M,theta:z}=hf({cx:t,cy:n,radius:r,angle:d,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),U=u?Math.abs(f-d):Math.abs(f-d)-R-z;if(U<0&&a===0)return"".concat(P,"L").concat(t,",").concat(n,"Z");P+=Pt($1||($1=xo(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),M.x,M.y,a,a,+(h<0),D.x,D.y,r,r,+(U>180),+(h>0),I.x,I.y,a,a,+(h<0),O.x,O.y)}else P+=Pt(B1||(B1=xo(["L",",","Z"])),t,n);return P},$F={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},AD=e=>{var t=Vt(e,$F),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:l,forceCornerRadius:u,cornerIsExternal:f,startAngle:d,endAngle:h,className:m}=t;if(a<i||d===h)return null;var v=Qe("recharts-sector",m),_=a-i,S=En(l,_,0,!0),E;return S>0&&Math.abs(d-h)<360?E=zF({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(S,_/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:d,endAngle:h}):E=TD({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:d,endAngle:h}),A.createElement("path",V0({},In(t),{className:v,d:E}))};function BF(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(aM(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:l,angle:u}=t,f=Ft(r,i,a,u),d=Ft(r,i,l,u);return[{x:f.x,y:f.y},{x:d.x,y:d.y}]}return ED(t)}}var Cy={},Ny={},Oy={},q1;function qF(){return q1||(q1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gM();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(Oy)),Oy}var F1;function FF(){return F1||(F1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qF();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(Ny)),Ny}var G1;function GF(){return G1||(G1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vM(),n=FF();function r(i,a,l){l&&typeof l!="number"&&t.isIterateeCall(i,a,l)&&(a=l=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),l=l===void 0?i<a?1:-1:n.toFinite(l);const u=Math.max(Math.ceil((a-i)/(l||1)),0),f=new Array(u);for(let d=0;d<u;d++)f[d]=i,i+=l;return f}e.range=r})(Cy)),Cy}var Iy,H1;function HF(){return H1||(H1=1,Iy=GF().range),Iy}var VF=HF();const CD=Br(VF);function Da(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function KF(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function yx(e){let t,n,r;e.length!==2?(t=Da,n=(u,f)=>Da(e(u),f),r=(u,f)=>e(u)-f):(t=e===Da||e===KF?e:YF,n=e,r=e);function i(u,f,d=0,h=u.length){if(d<h){if(t(f,f)!==0)return h;do{const m=d+h>>>1;n(u[m],f)<0?d=m+1:h=m}while(d<h)}return d}function a(u,f,d=0,h=u.length){if(d<h){if(t(f,f)!==0)return h;do{const m=d+h>>>1;n(u[m],f)<=0?d=m+1:h=m}while(d<h)}return d}function l(u,f,d=0,h=u.length){const m=i(u,f,d,h-1);return m>d&&r(u[m-1],f)>-r(u[m],f)?m-1:m}return{left:i,center:l,right:a}}function YF(){return 0}function ND(e){return e===null?NaN:+e}function*WF(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const JF=yx(Da),Cc=JF.right;yx(ND).center;class V1 extends Map{constructor(t,n=QF){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(K1(this,t))}has(t){return super.has(K1(this,t))}set(t,n){return super.set(XF(this,t),n)}delete(t){return super.delete(ZF(this,t))}}function K1({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function XF({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function ZF({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function QF(e){return e!==null&&typeof e=="object"?e.valueOf():e}function eG(e=Da){if(e===Da)return OD;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function OD(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const tG=Math.sqrt(50),nG=Math.sqrt(10),rG=Math.sqrt(2);function hh(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),l=a>=tG?10:a>=nG?5:a>=rG?2:1;let u,f,d;return i<0?(d=Math.pow(10,-i)/l,u=Math.round(e*d),f=Math.round(t*d),u/d<e&&++u,f/d>t&&--f,d=-d):(d=Math.pow(10,i)*l,u=Math.round(e/d),f=Math.round(t/d),u*d<e&&++u,f*d>t&&--f),f<u&&.5<=n&&n<2?hh(e,t,n*2):[u,f,d]}function K0(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,l]=r?hh(t,e,n):hh(e,t,n);if(!(a>=i))return[];const u=a-i+1,f=new Array(u);if(r)if(l<0)for(let d=0;d<u;++d)f[d]=(a-d)/-l;else for(let d=0;d<u;++d)f[d]=(a-d)*l;else if(l<0)for(let d=0;d<u;++d)f[d]=(i+d)/-l;else for(let d=0;d<u;++d)f[d]=(i+d)*l;return f}function Y0(e,t,n){return t=+t,e=+e,n=+n,hh(e,t,n)[2]}function W0(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Y0(t,e,n):Y0(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Y1(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function W1(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function ID(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?OD:eG(i);r>n;){if(r-n>600){const f=r-n+1,d=t-n+1,h=Math.log(f),m=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*m*(f-m)/f)*(d-f/2<0?-1:1),_=Math.max(n,Math.floor(t-d*m/f+v)),S=Math.min(r,Math.floor(t+(f-d)*m/f+v));ID(e,t,_,S,i)}const a=e[t];let l=n,u=r;for(Iu(e,n,t),i(e[r],a)>0&&Iu(e,n,r);l<u;){for(Iu(e,l,u),++l,--u;i(e[l],a)<0;)++l;for(;i(e[u],a)>0;)--u}i(e[n],a)===0?Iu(e,n,u):(++u,Iu(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function Iu(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function iG(e,t,n){if(e=Float64Array.from(WF(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return W1(e);if(t>=1)return Y1(e);var r,i=(r-1)*t,a=Math.floor(i),l=Y1(ID(e,a).subarray(0,a+1)),u=W1(e.subarray(a+1));return l+(u-l)*(i-a)}}function aG(e,t,n=ND){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),l=+n(e[a],a,e),u=+n(e[a+1],a+1,e);return l+(u-l)*(i-a)}}function oG(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Tr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Gi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const J0=Symbol("implicit");function bx(){var e=new V1,t=[],n=[],r=J0;function i(a){let l=e.get(a);if(l===void 0){if(r!==J0)return r;e.set(a,l=t.push(a)-1)}return n[l%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new V1;for(const l of a)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return bx(t,n).unknown(r)},Tr.apply(i,arguments),i}function xx(){var e=bx().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,l,u=!1,f=0,d=0,h=.5;delete e.unknown;function m(){var v=t().length,_=i<r,S=_?i:r,E=_?r:i;a=(E-S)/Math.max(1,v-f+d*2),u&&(a=Math.floor(a)),S+=(E-S-a*(v-f))*h,l=a*(1-f),u&&(S=Math.round(S),l=Math.round(l));var T=oG(v).map(function(C){return S+a*C});return n(_?T.reverse():T)}return e.domain=function(v){return arguments.length?(t(v),m()):t()},e.range=function(v){return arguments.length?([r,i]=v,r=+r,i=+i,m()):[r,i]},e.rangeRound=function(v){return[r,i]=v,r=+r,i=+i,u=!0,m()},e.bandwidth=function(){return l},e.step=function(){return a},e.round=function(v){return arguments.length?(u=!!v,m()):u},e.padding=function(v){return arguments.length?(f=Math.min(1,d=+v),m()):f},e.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),m()):f},e.paddingOuter=function(v){return arguments.length?(d=+v,m()):d},e.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),m()):h},e.copy=function(){return xx(t(),[r,i]).round(u).paddingInner(f).paddingOuter(d).align(h)},Tr.apply(m(),arguments)}function PD(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return PD(t())},e}function sG(){return PD(xx.apply(null,arguments).paddingInner(1))}function _x(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function RD(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Nc(){}var ic=.7,ph=1/ic,nl="\\s*([+-]?\\d+)\\s*",ac="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ei="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lG=/^#([0-9a-f]{3,8})$/,uG=new RegExp(`^rgb\\(${nl},${nl},${nl}\\)$`),cG=new RegExp(`^rgb\\(${ei},${ei},${ei}\\)$`),dG=new RegExp(`^rgba\\(${nl},${nl},${nl},${ac}\\)$`),fG=new RegExp(`^rgba\\(${ei},${ei},${ei},${ac}\\)$`),hG=new RegExp(`^hsl\\(${ac},${ei},${ei}\\)$`),pG=new RegExp(`^hsla\\(${ac},${ei},${ei},${ac}\\)$`),J1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_x(Nc,oc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:X1,formatHex:X1,formatHex8:mG,formatHsl:gG,formatRgb:Z1,toString:Z1});function X1(){return this.rgb().formatHex()}function mG(){return this.rgb().formatHex8()}function gG(){return MD(this).formatHsl()}function Z1(){return this.rgb().formatRgb()}function oc(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=lG.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Q1(t):n===3?new Bn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?pf(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?pf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=uG.exec(e))?new Bn(t[1],t[2],t[3],1):(t=cG.exec(e))?new Bn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=dG.exec(e))?pf(t[1],t[2],t[3],t[4]):(t=fG.exec(e))?pf(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=hG.exec(e))?nN(t[1],t[2]/100,t[3]/100,1):(t=pG.exec(e))?nN(t[1],t[2]/100,t[3]/100,t[4]):J1.hasOwnProperty(e)?Q1(J1[e]):e==="transparent"?new Bn(NaN,NaN,NaN,0):null}function Q1(e){return new Bn(e>>16&255,e>>8&255,e&255,1)}function pf(e,t,n,r){return r<=0&&(e=t=n=NaN),new Bn(e,t,n,r)}function vG(e){return e instanceof Nc||(e=oc(e)),e?(e=e.rgb(),new Bn(e.r,e.g,e.b,e.opacity)):new Bn}function X0(e,t,n,r){return arguments.length===1?vG(e):new Bn(e,t,n,r??1)}function Bn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}_x(Bn,X0,RD(Nc,{brighter(e){return e=e==null?ph:Math.pow(ph,e),new Bn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ic:Math.pow(ic,e),new Bn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Bn(Ao(this.r),Ao(this.g),Ao(this.b),mh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:eN,formatHex:eN,formatHex8:yG,formatRgb:tN,toString:tN}));function eN(){return`#${_o(this.r)}${_o(this.g)}${_o(this.b)}`}function yG(){return`#${_o(this.r)}${_o(this.g)}${_o(this.b)}${_o((isNaN(this.opacity)?1:this.opacity)*255)}`}function tN(){const e=mh(this.opacity);return`${e===1?"rgb(":"rgba("}${Ao(this.r)}, ${Ao(this.g)}, ${Ao(this.b)}${e===1?")":`, ${e})`}`}function mh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ao(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function _o(e){return e=Ao(e),(e<16?"0":"")+e.toString(16)}function nN(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Dr(e,t,n,r)}function MD(e){if(e instanceof Dr)return new Dr(e.h,e.s,e.l,e.opacity);if(e instanceof Nc||(e=oc(e)),!e)return new Dr;if(e instanceof Dr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),l=NaN,u=a-i,f=(a+i)/2;return u?(t===a?l=(n-r)/u+(n<r)*6:n===a?l=(r-t)/u+2:l=(t-n)/u+4,u/=f<.5?a+i:2-a-i,l*=60):u=f>0&&f<1?0:l,new Dr(l,u,f,e.opacity)}function bG(e,t,n,r){return arguments.length===1?MD(e):new Dr(e,t,n,r??1)}function Dr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}_x(Dr,bG,RD(Nc,{brighter(e){return e=e==null?ph:Math.pow(ph,e),new Dr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ic:Math.pow(ic,e),new Dr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Bn(Py(e>=240?e-240:e+120,i,r),Py(e,i,r),Py(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Dr(rN(this.h),mf(this.s),mf(this.l),mh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=mh(this.opacity);return`${e===1?"hsl(":"hsla("}${rN(this.h)}, ${mf(this.s)*100}%, ${mf(this.l)*100}%${e===1?")":`, ${e})`}`}}));function rN(e){return e=(e||0)%360,e<0?e+360:e}function mf(e){return Math.max(0,Math.min(1,e||0))}function Py(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const wx=e=>()=>e;function xG(e,t){return function(n){return e+n*t}}function _G(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function wG(e){return(e=+e)==1?DD:function(t,n){return n-t?_G(t,n,e):wx(isNaN(t)?n:t)}}function DD(e,t){var n=t-e;return n?xG(e,n):wx(isNaN(e)?t:e)}const iN=(function e(t){var n=wG(t);function r(i,a){var l=n((i=X0(i)).r,(a=X0(a)).r),u=n(i.g,a.g),f=n(i.b,a.b),d=DD(i.opacity,a.opacity);return function(h){return i.r=l(h),i.g=u(h),i.b=f(h),i.opacity=d(h),i+""}}return r.gamma=e,r})(1);function SG(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function EG(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function TG(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),l;for(l=0;l<r;++l)i[l]=bl(e[l],t[l]);for(;l<n;++l)a[l]=t[l];return function(u){for(l=0;l<r;++l)a[l]=i[l](u);return a}}function AG(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function gh(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function CG(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=bl(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Z0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ry=new RegExp(Z0.source,"g");function NG(e){return function(){return e}}function OG(e){return function(t){return e(t)+""}}function IG(e,t){var n=Z0.lastIndex=Ry.lastIndex=0,r,i,a,l=-1,u=[],f=[];for(e=e+"",t=t+"";(r=Z0.exec(e))&&(i=Ry.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),u[l]?u[l]+=a:u[++l]=a),(r=r[0])===(i=i[0])?u[l]?u[l]+=i:u[++l]=i:(u[++l]=null,f.push({i:l,x:gh(r,i)})),n=Ry.lastIndex;return n<t.length&&(a=t.slice(n),u[l]?u[l]+=a:u[++l]=a),u.length<2?f[0]?OG(f[0].x):NG(t):(t=f.length,function(d){for(var h=0,m;h<t;++h)u[(m=f[h]).i]=m.x(d);return u.join("")})}function bl(e,t){var n=typeof t,r;return t==null||n==="boolean"?wx(t):(n==="number"?gh:n==="string"?(r=oc(t))?(t=r,iN):IG:t instanceof oc?iN:t instanceof Date?AG:EG(t)?SG:Array.isArray(t)?TG:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?CG:gh)(e,t)}function Sx(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function PG(e,t){t===void 0&&(t=e,e=bl);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return a[u](l-u)}}function RG(e){return function(){return e}}function vh(e){return+e}var aN=[0,1];function On(e){return e}function Q0(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:RG(isNaN(t)?NaN:.5)}function MG(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function DG(e,t,n){var r=e[0],i=e[1],a=t[0],l=t[1];return i<r?(r=Q0(i,r),a=n(l,a)):(r=Q0(r,i),a=n(a,l)),function(u){return a(r(u))}}function kG(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=Q0(e[l],e[l+1]),a[l]=n(t[l],t[l+1]);return function(u){var f=Cc(e,u,1,r)-1;return a[f](i[f](u))}}function Oc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function bp(){var e=aN,t=aN,n=bl,r,i,a,l=On,u,f,d;function h(){var v=Math.min(e.length,t.length);return l!==On&&(l=MG(e[0],e[v-1])),u=v>2?kG:DG,f=d=null,m}function m(v){return v==null||isNaN(v=+v)?a:(f||(f=u(e.map(r),t,n)))(r(l(v)))}return m.invert=function(v){return l(i((d||(d=u(t,e.map(r),gh)))(v)))},m.domain=function(v){return arguments.length?(e=Array.from(v,vh),h()):e.slice()},m.range=function(v){return arguments.length?(t=Array.from(v),h()):t.slice()},m.rangeRound=function(v){return t=Array.from(v),n=Sx,h()},m.clamp=function(v){return arguments.length?(l=v?!0:On,h()):l!==On},m.interpolate=function(v){return arguments.length?(n=v,h()):n},m.unknown=function(v){return arguments.length?(a=v,m):a},function(v,_){return r=v,i=_,h()}}function Ex(){return bp()(On,On)}function jG(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function yh(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function fl(e){return e=yh(Math.abs(e)),e?e[1]:NaN}function LG(e,t){return function(n,r){for(var i=n.length,a=[],l=0,u=e[0],f=0;i>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),a.push(n.substring(i-=u,i+u)),!((f+=u+1)>r));)u=e[l=(l+1)%e.length];return a.reverse().join(t)}}function UG(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var zG=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sc(e){if(!(t=zG.exec(e)))throw new Error("invalid format: "+e);var t;return new Tx({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}sc.prototype=Tx.prototype;function Tx(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Tx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function $G(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var bh;function BG(e,t){var n=yh(e,t);if(!n)return bh=void 0,e.toPrecision(t);var r=n[0],i=n[1],a=i-(bh=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return a===l?r:a>l?r+new Array(a-l+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+yh(e,Math.max(0,t+a-1))[0]}function oN(e,t){var n=yh(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const sN={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:jG,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>oN(e*100,t),r:oN,s:BG,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function lN(e){return e}var uN=Array.prototype.map,cN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function qG(e){var t=e.grouping===void 0||e.thousands===void 0?lN:LG(uN.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?lN:UG(uN.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function d(m,v){m=sc(m);var _=m.fill,S=m.align,E=m.sign,T=m.symbol,C=m.zero,P=m.width,I=m.comma,O=m.precision,R=m.trim,D=m.type;D==="n"?(I=!0,D="g"):sN[D]||(O===void 0&&(O=12),R=!0,D="g"),(C||_==="0"&&S==="=")&&(C=!0,_="0",S="=");var M=(v&&v.prefix!==void 0?v.prefix:"")+(T==="$"?n:T==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():""),z=(T==="$"?r:/[%p]/.test(D)?l:"")+(v&&v.suffix!==void 0?v.suffix:""),U=sN[D],K=/[defgprs%]/.test(D);O=O===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function L(q){var Z=M,ae=z,se,j,G;if(D==="c")ae=U(q)+ae,q="";else{q=+q;var W=q<0||1/q<0;if(q=isNaN(q)?f:U(Math.abs(q),O),R&&(q=$G(q)),W&&+q==0&&E!=="+"&&(W=!1),Z=(W?E==="("?E:u:E==="-"||E==="("?"":E)+Z,ae=(D==="s"&&!isNaN(q)&&bh!==void 0?cN[8+bh/3]:"")+ae+(W&&E==="("?")":""),K){for(se=-1,j=q.length;++se<j;)if(G=q.charCodeAt(se),48>G||G>57){ae=(G===46?i+q.slice(se+1):q.slice(se))+ae,q=q.slice(0,se);break}}}I&&!C&&(q=t(q,1/0));var re=Z.length+q.length+ae.length,he=re<P?new Array(P-re+1).join(_):"";switch(I&&C&&(q=t(he+q,he.length?P-ae.length:1/0),he=""),S){case"<":q=Z+q+ae+he;break;case"=":q=Z+he+q+ae;break;case"^":q=he.slice(0,re=he.length>>1)+Z+q+ae+he.slice(re);break;default:q=he+Z+q+ae;break}return a(q)}return L.toString=function(){return m+""},L}function h(m,v){var _=Math.max(-8,Math.min(8,Math.floor(fl(v)/3)))*3,S=Math.pow(10,-_),E=d((m=sc(m),m.type="f",m),{suffix:cN[8+_/3]});return function(T){return E(S*T)}}return{format:d,formatPrefix:h}}var gf,Ax,kD;FG({thousands:",",grouping:[3],currency:["$",""]});function FG(e){return gf=qG(e),Ax=gf.format,kD=gf.formatPrefix,gf}function GG(e){return Math.max(0,-fl(Math.abs(e)))}function HG(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(fl(t)/3)))*3-fl(Math.abs(e)))}function VG(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,fl(t)-fl(e))+1}function jD(e,t,n,r){var i=W0(e,t,n),a;switch(r=sc(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=HG(i,l))&&(r.precision=a),kD(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=VG(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=GG(i))&&(r.precision=a-(r.type==="%")*2);break}}return Ax(r)}function Ba(e){var t=e.domain;return e.ticks=function(n){var r=t();return K0(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return jD(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,l=r[i],u=r[a],f,d,h=10;for(u<l&&(d=l,l=u,u=d,d=i,i=a,a=d);h-- >0;){if(d=Y0(l,u,n),d===f)return r[i]=l,r[a]=u,t(r);if(d>0)l=Math.floor(l/d)*d,u=Math.ceil(u/d)*d;else if(d<0)l=Math.ceil(l*d)/d,u=Math.floor(u*d)/d;else break;f=d}return e},e}function LD(){var e=Ex();return e.copy=function(){return Oc(e,LD())},Tr.apply(e,arguments),Ba(e)}function UD(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,vh),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return UD(e).unknown(t)},e=arguments.length?Array.from(e,vh):[0,1],Ba(n)}function zD(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],l;return a<i&&(l=n,n=r,r=l,l=i,i=a,a=l),e[n]=t.floor(i),e[r]=t.ceil(a),e}function dN(e){return Math.log(e)}function fN(e){return Math.exp(e)}function KG(e){return-Math.log(-e)}function YG(e){return-Math.exp(-e)}function WG(e){return isFinite(e)?+("1e"+e):e<0?0:e}function JG(e){return e===10?WG:e===Math.E?Math.exp:t=>Math.pow(e,t)}function XG(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function hN(e){return(t,n)=>-e(-t,n)}function Cx(e){const t=e(dN,fN),n=t.domain;let r=10,i,a;function l(){return i=XG(r),a=JG(r),n()[0]<0?(i=hN(i),a=hN(a),e(KG,YG)):e(dN,fN),t}return t.base=function(u){return arguments.length?(r=+u,l()):r},t.domain=function(u){return arguments.length?(n(u),l()):n()},t.ticks=u=>{const f=n();let d=f[0],h=f[f.length-1];const m=h<d;m&&([d,h]=[h,d]);let v=i(d),_=i(h),S,E;const T=u==null?10:+u;let C=[];if(!(r%1)&&_-v<T){if(v=Math.floor(v),_=Math.ceil(_),d>0){for(;v<=_;++v)for(S=1;S<r;++S)if(E=v<0?S/a(-v):S*a(v),!(E<d)){if(E>h)break;C.push(E)}}else for(;v<=_;++v)for(S=r-1;S>=1;--S)if(E=v>0?S/a(-v):S*a(v),!(E<d)){if(E>h)break;C.push(E)}C.length*2<T&&(C=K0(d,h,T))}else C=K0(v,_,Math.min(_-v,T)).map(a);return m?C.reverse():C},t.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=sc(f)).precision==null&&(f.trim=!0),f=Ax(f)),u===1/0)return f;const d=Math.max(1,r*u/t.ticks().length);return h=>{let m=h/a(Math.round(i(h)));return m*r<r-.5&&(m*=r),m<=d?f(h):""}},t.nice=()=>n(zD(n(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),t}function $D(){const e=Cx(bp()).domain([1,10]);return e.copy=()=>Oc(e,$D()).base(e.base()),Tr.apply(e,arguments),e}function pN(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function mN(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Nx(e){var t=1,n=e(pN(t),mN(t));return n.constant=function(r){return arguments.length?e(pN(t=+r),mN(t)):t},Ba(n)}function BD(){var e=Nx(bp());return e.copy=function(){return Oc(e,BD()).constant(e.constant())},Tr.apply(e,arguments)}function gN(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ZG(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function QG(e){return e<0?-e*e:e*e}function Ox(e){var t=e(On,On),n=1;function r(){return n===1?e(On,On):n===.5?e(ZG,QG):e(gN(n),gN(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Ba(t)}function Ix(){var e=Ox(bp());return e.copy=function(){return Oc(e,Ix()).exponent(e.exponent())},Tr.apply(e,arguments),e}function eH(){return Ix.apply(null,arguments).exponent(.5)}function vN(e){return Math.sign(e)*e*e}function tH(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function qD(){var e=Ex(),t=[0,1],n=!1,r;function i(a){var l=tH(e(a));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(a){return e.invert(vN(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,vh)).map(vN)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return qD(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Tr.apply(i,arguments),Ba(i)}function FD(){var e=[],t=[],n=[],r;function i(){var l=0,u=Math.max(1,t.length);for(n=new Array(u-1);++l<u;)n[l-1]=aG(e,l/u);return a}function a(l){return l==null||isNaN(l=+l)?r:t[Cc(n,l)]}return a.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},a.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Da),i()},a.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return FD().domain(e).range(t).unknown(r)},Tr.apply(a,arguments)}function GD(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function l(f){return f!=null&&f<=f?i[Cc(r,f,0,n)]:a}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*t-(f-n)*e)/(n+1);return l}return l.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,u()):[e,t]},l.range=function(f){return arguments.length?(n=(i=Array.from(f)).length-1,u()):i.slice()},l.invertExtent=function(f){var d=i.indexOf(f);return d<0?[NaN,NaN]:d<1?[e,r[0]]:d>=n?[r[n-1],t]:[r[d-1],r[d]]},l.unknown=function(f){return arguments.length&&(a=f),l},l.thresholds=function(){return r.slice()},l.copy=function(){return GD().domain([e,t]).range(i).unknown(a)},Tr.apply(Ba(l),arguments)}function HD(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[Cc(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var l=t.indexOf(a);return[e[l-1],e[l]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return HD().domain(e).range(t).unknown(n)},Tr.apply(i,arguments)}const My=new Date,Dy=new Date;function Xt(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const l=i(a),u=i.ceil(a);return a-l<u-a?l:u},i.offset=(a,l)=>(t(a=new Date(+a),l==null?1:Math.floor(l)),a),i.range=(a,l,u)=>{const f=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<l)||!(u>0))return f;let d;do f.push(d=new Date(+a)),t(a,u),e(a);while(d<a&&a<l);return f},i.filter=a=>Xt(l=>{if(l>=l)for(;e(l),!a(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!a(l););else for(;--u>=0;)for(;t(l,1),!a(l););}),n&&(i.count=(a,l)=>(My.setTime(+a),Dy.setTime(+l),e(My),e(Dy),Math.floor(n(My,Dy))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?l=>r(l)%a===0:l=>i.count(0,l)%a===0):i)),i}const xh=Xt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);xh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Xt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):xh);xh.range;const Oi=1e3,xr=Oi*60,Ii=xr*60,ki=Ii*24,Px=ki*7,yN=ki*30,ky=ki*365,wo=Xt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Oi)},(e,t)=>(t-e)/Oi,e=>e.getUTCSeconds());wo.range;const Rx=Xt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Oi)},(e,t)=>{e.setTime(+e+t*xr)},(e,t)=>(t-e)/xr,e=>e.getMinutes());Rx.range;const Mx=Xt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*xr)},(e,t)=>(t-e)/xr,e=>e.getUTCMinutes());Mx.range;const Dx=Xt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Oi-e.getMinutes()*xr)},(e,t)=>{e.setTime(+e+t*Ii)},(e,t)=>(t-e)/Ii,e=>e.getHours());Dx.range;const kx=Xt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ii)},(e,t)=>(t-e)/Ii,e=>e.getUTCHours());kx.range;const Ic=Xt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*xr)/ki,e=>e.getDate()-1);Ic.range;const xp=Xt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ki,e=>e.getUTCDate()-1);xp.range;const VD=Xt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ki,e=>Math.floor(e/ki));VD.range;function $o(e){return Xt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*xr)/Px)}const _p=$o(0),_h=$o(1),nH=$o(2),rH=$o(3),hl=$o(4),iH=$o(5),aH=$o(6);_p.range;_h.range;nH.range;rH.range;hl.range;iH.range;aH.range;function Bo(e){return Xt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Px)}const wp=Bo(0),wh=Bo(1),oH=Bo(2),sH=Bo(3),pl=Bo(4),lH=Bo(5),uH=Bo(6);wp.range;wh.range;oH.range;sH.range;pl.range;lH.range;uH.range;const jx=Xt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());jx.range;const Lx=Xt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Lx.range;const ji=Xt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ji.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Xt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ji.range;const Li=Xt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Li.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Xt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Li.range;function KD(e,t,n,r,i,a){const l=[[wo,1,Oi],[wo,5,5*Oi],[wo,15,15*Oi],[wo,30,30*Oi],[a,1,xr],[a,5,5*xr],[a,15,15*xr],[a,30,30*xr],[i,1,Ii],[i,3,3*Ii],[i,6,6*Ii],[i,12,12*Ii],[r,1,ki],[r,2,2*ki],[n,1,Px],[t,1,yN],[t,3,3*yN],[e,1,ky]];function u(d,h,m){const v=h<d;v&&([d,h]=[h,d]);const _=m&&typeof m.range=="function"?m:f(d,h,m),S=_?_.range(d,+h+1):[];return v?S.reverse():S}function f(d,h,m){const v=Math.abs(h-d)/m,_=yx(([,,T])=>T).right(l,v);if(_===l.length)return e.every(W0(d/ky,h/ky,m));if(_===0)return xh.every(Math.max(W0(d,h,m),1));const[S,E]=l[v/l[_-1][2]<l[_][2]/v?_-1:_];return S.every(E)}return[u,f]}const[cH,dH]=KD(Li,Lx,wp,VD,kx,Mx),[fH,hH]=KD(ji,jx,_p,Ic,Dx,Rx);function jy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ly(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Pu(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function pH(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,l=e.shortDays,u=e.months,f=e.shortMonths,d=Ru(i),h=Mu(i),m=Ru(a),v=Mu(a),_=Ru(l),S=Mu(l),E=Ru(u),T=Mu(u),C=Ru(f),P=Mu(f),I={a:G,A:W,b:re,B:he,c:null,d:EN,e:EN,f:LH,g:KH,G:WH,H:DH,I:kH,j:jH,L:YD,m:UH,M:zH,p:$,q:J,Q:CN,s:NN,S:$H,u:BH,U:qH,V:FH,w:GH,W:HH,x:null,X:null,y:VH,Y:YH,Z:JH,"%":AN},O={a:ue,A:pe,b:Ce,B:xe,c:null,d:TN,e:TN,f:eV,g:cV,G:fV,H:XH,I:ZH,j:QH,L:JD,m:tV,M:nV,p:_e,q:te,Q:CN,s:NN,S:rV,u:iV,U:aV,V:oV,w:sV,W:lV,x:null,X:null,y:uV,Y:dV,Z:hV,"%":AN},R={a:K,A:L,b:q,B:Z,c:ae,d:wN,e:wN,f:IH,g:_N,G:xN,H:SN,I:SN,j:AH,L:OH,m:TH,M:CH,p:U,q:EH,Q:RH,s:MH,S:NH,u:bH,U:xH,V:_H,w:yH,W:wH,x:se,X:j,y:_N,Y:xN,Z:SH,"%":PH};I.x=D(n,I),I.X=D(r,I),I.c=D(t,I),O.x=D(n,O),O.X=D(r,O),O.c=D(t,O);function D(B,ce){return function(me){var oe=[],De=-1,ge=0,yt=B.length,nt,bt,Y;for(me instanceof Date||(me=new Date(+me));++De<yt;)B.charCodeAt(De)===37&&(oe.push(B.slice(ge,De)),(bt=bN[nt=B.charAt(++De)])!=null?nt=B.charAt(++De):bt=nt==="e"?" ":"0",(Y=ce[nt])&&(nt=Y(me,bt)),oe.push(nt),ge=De+1);return oe.push(B.slice(ge,De)),oe.join("")}}function M(B,ce){return function(me){var oe=Pu(1900,void 0,1),De=z(oe,B,me+="",0),ge,yt;if(De!=me.length)return null;if("Q"in oe)return new Date(oe.Q);if("s"in oe)return new Date(oe.s*1e3+("L"in oe?oe.L:0));if(ce&&!("Z"in oe)&&(oe.Z=0),"p"in oe&&(oe.H=oe.H%12+oe.p*12),oe.m===void 0&&(oe.m="q"in oe?oe.q:0),"V"in oe){if(oe.V<1||oe.V>53)return null;"w"in oe||(oe.w=1),"Z"in oe?(ge=Ly(Pu(oe.y,0,1)),yt=ge.getUTCDay(),ge=yt>4||yt===0?wh.ceil(ge):wh(ge),ge=xp.offset(ge,(oe.V-1)*7),oe.y=ge.getUTCFullYear(),oe.m=ge.getUTCMonth(),oe.d=ge.getUTCDate()+(oe.w+6)%7):(ge=jy(Pu(oe.y,0,1)),yt=ge.getDay(),ge=yt>4||yt===0?_h.ceil(ge):_h(ge),ge=Ic.offset(ge,(oe.V-1)*7),oe.y=ge.getFullYear(),oe.m=ge.getMonth(),oe.d=ge.getDate()+(oe.w+6)%7)}else("W"in oe||"U"in oe)&&("w"in oe||(oe.w="u"in oe?oe.u%7:"W"in oe?1:0),yt="Z"in oe?Ly(Pu(oe.y,0,1)).getUTCDay():jy(Pu(oe.y,0,1)).getDay(),oe.m=0,oe.d="W"in oe?(oe.w+6)%7+oe.W*7-(yt+5)%7:oe.w+oe.U*7-(yt+6)%7);return"Z"in oe?(oe.H+=oe.Z/100|0,oe.M+=oe.Z%100,Ly(oe)):jy(oe)}}function z(B,ce,me,oe){for(var De=0,ge=ce.length,yt=me.length,nt,bt;De<ge;){if(oe>=yt)return-1;if(nt=ce.charCodeAt(De++),nt===37){if(nt=ce.charAt(De++),bt=R[nt in bN?ce.charAt(De++):nt],!bt||(oe=bt(B,me,oe))<0)return-1}else if(nt!=me.charCodeAt(oe++))return-1}return oe}function U(B,ce,me){var oe=d.exec(ce.slice(me));return oe?(B.p=h.get(oe[0].toLowerCase()),me+oe[0].length):-1}function K(B,ce,me){var oe=_.exec(ce.slice(me));return oe?(B.w=S.get(oe[0].toLowerCase()),me+oe[0].length):-1}function L(B,ce,me){var oe=m.exec(ce.slice(me));return oe?(B.w=v.get(oe[0].toLowerCase()),me+oe[0].length):-1}function q(B,ce,me){var oe=C.exec(ce.slice(me));return oe?(B.m=P.get(oe[0].toLowerCase()),me+oe[0].length):-1}function Z(B,ce,me){var oe=E.exec(ce.slice(me));return oe?(B.m=T.get(oe[0].toLowerCase()),me+oe[0].length):-1}function ae(B,ce,me){return z(B,t,ce,me)}function se(B,ce,me){return z(B,n,ce,me)}function j(B,ce,me){return z(B,r,ce,me)}function G(B){return l[B.getDay()]}function W(B){return a[B.getDay()]}function re(B){return f[B.getMonth()]}function he(B){return u[B.getMonth()]}function $(B){return i[+(B.getHours()>=12)]}function J(B){return 1+~~(B.getMonth()/3)}function ue(B){return l[B.getUTCDay()]}function pe(B){return a[B.getUTCDay()]}function Ce(B){return f[B.getUTCMonth()]}function xe(B){return u[B.getUTCMonth()]}function _e(B){return i[+(B.getUTCHours()>=12)]}function te(B){return 1+~~(B.getUTCMonth()/3)}return{format:function(B){var ce=D(B+="",I);return ce.toString=function(){return B},ce},parse:function(B){var ce=M(B+="",!1);return ce.toString=function(){return B},ce},utcFormat:function(B){var ce=D(B+="",O);return ce.toString=function(){return B},ce},utcParse:function(B){var ce=M(B+="",!0);return ce.toString=function(){return B},ce}}}var bN={"-":"",_:" ",0:"0"},sn=/^\s*\d+/,mH=/^%/,gH=/[\\^$*+?|[\]().{}]/g;function et(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function vH(e){return e.replace(gH,"\\$&")}function Ru(e){return new RegExp("^(?:"+e.map(vH).join("|")+")","i")}function Mu(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function yH(e,t,n){var r=sn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function bH(e,t,n){var r=sn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function xH(e,t,n){var r=sn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function _H(e,t,n){var r=sn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function wH(e,t,n){var r=sn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function xN(e,t,n){var r=sn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function _N(e,t,n){var r=sn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function SH(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function EH(e,t,n){var r=sn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function TH(e,t,n){var r=sn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function wN(e,t,n){var r=sn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function AH(e,t,n){var r=sn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function SN(e,t,n){var r=sn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function CH(e,t,n){var r=sn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function NH(e,t,n){var r=sn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function OH(e,t,n){var r=sn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function IH(e,t,n){var r=sn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function PH(e,t,n){var r=mH.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function RH(e,t,n){var r=sn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function MH(e,t,n){var r=sn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function EN(e,t){return et(e.getDate(),t,2)}function DH(e,t){return et(e.getHours(),t,2)}function kH(e,t){return et(e.getHours()%12||12,t,2)}function jH(e,t){return et(1+Ic.count(ji(e),e),t,3)}function YD(e,t){return et(e.getMilliseconds(),t,3)}function LH(e,t){return YD(e,t)+"000"}function UH(e,t){return et(e.getMonth()+1,t,2)}function zH(e,t){return et(e.getMinutes(),t,2)}function $H(e,t){return et(e.getSeconds(),t,2)}function BH(e){var t=e.getDay();return t===0?7:t}function qH(e,t){return et(_p.count(ji(e)-1,e),t,2)}function WD(e){var t=e.getDay();return t>=4||t===0?hl(e):hl.ceil(e)}function FH(e,t){return e=WD(e),et(hl.count(ji(e),e)+(ji(e).getDay()===4),t,2)}function GH(e){return e.getDay()}function HH(e,t){return et(_h.count(ji(e)-1,e),t,2)}function VH(e,t){return et(e.getFullYear()%100,t,2)}function KH(e,t){return e=WD(e),et(e.getFullYear()%100,t,2)}function YH(e,t){return et(e.getFullYear()%1e4,t,4)}function WH(e,t){var n=e.getDay();return e=n>=4||n===0?hl(e):hl.ceil(e),et(e.getFullYear()%1e4,t,4)}function JH(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+et(t/60|0,"0",2)+et(t%60,"0",2)}function TN(e,t){return et(e.getUTCDate(),t,2)}function XH(e,t){return et(e.getUTCHours(),t,2)}function ZH(e,t){return et(e.getUTCHours()%12||12,t,2)}function QH(e,t){return et(1+xp.count(Li(e),e),t,3)}function JD(e,t){return et(e.getUTCMilliseconds(),t,3)}function eV(e,t){return JD(e,t)+"000"}function tV(e,t){return et(e.getUTCMonth()+1,t,2)}function nV(e,t){return et(e.getUTCMinutes(),t,2)}function rV(e,t){return et(e.getUTCSeconds(),t,2)}function iV(e){var t=e.getUTCDay();return t===0?7:t}function aV(e,t){return et(wp.count(Li(e)-1,e),t,2)}function XD(e){var t=e.getUTCDay();return t>=4||t===0?pl(e):pl.ceil(e)}function oV(e,t){return e=XD(e),et(pl.count(Li(e),e)+(Li(e).getUTCDay()===4),t,2)}function sV(e){return e.getUTCDay()}function lV(e,t){return et(wh.count(Li(e)-1,e),t,2)}function uV(e,t){return et(e.getUTCFullYear()%100,t,2)}function cV(e,t){return e=XD(e),et(e.getUTCFullYear()%100,t,2)}function dV(e,t){return et(e.getUTCFullYear()%1e4,t,4)}function fV(e,t){var n=e.getUTCDay();return e=n>=4||n===0?pl(e):pl.ceil(e),et(e.getUTCFullYear()%1e4,t,4)}function hV(){return"+0000"}function AN(){return"%"}function CN(e){return+e}function NN(e){return Math.floor(+e/1e3)}var Os,ZD,QD;pV({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function pV(e){return Os=pH(e),ZD=Os.format,Os.parse,QD=Os.utcFormat,Os.utcParse,Os}function mV(e){return new Date(e)}function gV(e){return e instanceof Date?+e:+new Date(+e)}function Ux(e,t,n,r,i,a,l,u,f,d){var h=Ex(),m=h.invert,v=h.domain,_=d(".%L"),S=d(":%S"),E=d("%I:%M"),T=d("%I %p"),C=d("%a %d"),P=d("%b %d"),I=d("%B"),O=d("%Y");function R(D){return(f(D)<D?_:u(D)<D?S:l(D)<D?E:a(D)<D?T:r(D)<D?i(D)<D?C:P:n(D)<D?I:O)(D)}return h.invert=function(D){return new Date(m(D))},h.domain=function(D){return arguments.length?v(Array.from(D,gV)):v().map(mV)},h.ticks=function(D){var M=v();return e(M[0],M[M.length-1],D??10)},h.tickFormat=function(D,M){return M==null?R:d(M)},h.nice=function(D){var M=v();return(!D||typeof D.range!="function")&&(D=t(M[0],M[M.length-1],D??10)),D?v(zD(M,D)):h},h.copy=function(){return Oc(h,Ux(e,t,n,r,i,a,l,u,f,d))},h}function vV(){return Tr.apply(Ux(fH,hH,ji,jx,_p,Ic,Dx,Rx,wo,ZD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function yV(){return Tr.apply(Ux(cH,dH,Li,Lx,wp,xp,kx,Mx,wo,QD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Sp(){var e=0,t=1,n,r,i,a,l=On,u=!1,f;function d(m){return m==null||isNaN(m=+m)?f:l(i===0?.5:(m=(a(m)-n)*i,u?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,t]=m,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),d):[e,t]},d.clamp=function(m){return arguments.length?(u=!!m,d):u},d.interpolator=function(m){return arguments.length?(l=m,d):l};function h(m){return function(v){var _,S;return arguments.length?([_,S]=v,l=m(_,S),d):[l(0),l(1)]}}return d.range=h(bl),d.rangeRound=h(Sx),d.unknown=function(m){return arguments.length?(f=m,d):f},function(m){return a=m,n=m(e),r=m(t),i=n===r?0:1/(r-n),d}}function qa(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ek(){var e=Ba(Sp()(On));return e.copy=function(){return qa(e,ek())},Gi.apply(e,arguments)}function tk(){var e=Cx(Sp()).domain([1,10]);return e.copy=function(){return qa(e,tk()).base(e.base())},Gi.apply(e,arguments)}function nk(){var e=Nx(Sp());return e.copy=function(){return qa(e,nk()).constant(e.constant())},Gi.apply(e,arguments)}function zx(){var e=Ox(Sp());return e.copy=function(){return qa(e,zx()).exponent(e.exponent())},Gi.apply(e,arguments)}function bV(){return zx.apply(null,arguments).exponent(.5)}function rk(){var e=[],t=On;function n(r){if(r!=null&&!isNaN(r=+r))return t((Cc(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Da),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>iG(e,a/r))},n.copy=function(){return rk(t).domain(e)},Gi.apply(n,arguments)}function Ep(){var e=0,t=.5,n=1,r=1,i,a,l,u,f,d=On,h,m=!1,v;function _(E){return isNaN(E=+E)?v:(E=.5+((E=+h(E))-a)*(r*E<r*a?u:f),d(m?Math.max(0,Math.min(1,E)):E))}_.domain=function(E){return arguments.length?([e,t,n]=E,i=h(e=+e),a=h(t=+t),l=h(n=+n),u=i===a?0:.5/(a-i),f=a===l?0:.5/(l-a),r=a<i?-1:1,_):[e,t,n]},_.clamp=function(E){return arguments.length?(m=!!E,_):m},_.interpolator=function(E){return arguments.length?(d=E,_):d};function S(E){return function(T){var C,P,I;return arguments.length?([C,P,I]=T,d=PG(E,[C,P,I]),_):[d(0),d(.5),d(1)]}}return _.range=S(bl),_.rangeRound=S(Sx),_.unknown=function(E){return arguments.length?(v=E,_):v},function(E){return h=E,i=E(e),a=E(t),l=E(n),u=i===a?0:.5/(a-i),f=a===l?0:.5/(l-a),r=a<i?-1:1,_}}function ik(){var e=Ba(Ep()(On));return e.copy=function(){return qa(e,ik())},Gi.apply(e,arguments)}function ak(){var e=Cx(Ep()).domain([.1,1,10]);return e.copy=function(){return qa(e,ak()).base(e.base())},Gi.apply(e,arguments)}function ok(){var e=Nx(Ep());return e.copy=function(){return qa(e,ok()).constant(e.constant())},Gi.apply(e,arguments)}function $x(){var e=Ox(Ep());return e.copy=function(){return qa(e,$x()).exponent(e.exponent())},Gi.apply(e,arguments)}function xV(){return $x.apply(null,arguments).exponent(.5)}const $u=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:xx,scaleDiverging:ik,scaleDivergingLog:ak,scaleDivergingPow:$x,scaleDivergingSqrt:xV,scaleDivergingSymlog:ok,scaleIdentity:UD,scaleImplicit:J0,scaleLinear:LD,scaleLog:$D,scaleOrdinal:bx,scalePoint:sG,scalePow:Ix,scaleQuantile:FD,scaleQuantize:GD,scaleRadial:qD,scaleSequential:ek,scaleSequentialLog:tk,scaleSequentialPow:zx,scaleSequentialQuantile:rk,scaleSequentialSqrt:bV,scaleSequentialSymlog:nk,scaleSqrt:eH,scaleSymlog:BD,scaleThreshold:HD,scaleTime:vV,scaleUtc:yV,tickFormat:jD},Symbol.toStringTag,{value:"Module"}));var Hi=e=>e.chartData,Tp=X([Hi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),sk=(e,t,n,r)=>r?Tp(e):Hi(e),lk=(e,t,n)=>n?Tp(e):Hi(e);function Ui(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(qe(t)&&qe(n))return!0}return!1}function ON(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function uk(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(qe(n))i=n;else if(typeof n=="function")return;if(qe(r))a=r;else if(typeof r=="function")return;var l=[i,a];if(Ui(l))return l}}function _V(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Ui(r))return ON(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,l,u;if(i==="auto")t!=null&&(l=Math.min(...t));else if(be(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&zC.test(i)){var f=zC.exec(i);if(f==null||f[1]==null||t==null)l=void 0;else{var d=+f[1];l=t[0]-d}}else l=t==null?void 0:t[0];if(a==="auto")t!=null&&(u=Math.max(...t));else if(be(a))u=a;else if(typeof a=="function")try{t!=null&&(u=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&$C.test(a)){var h=$C.exec(a);if(h==null||h[1]==null||t==null)u=void 0;else{var m=+h[1];u=t[1]+m}}else u=t==null?void 0:t[1];var v=[l,u];if(Ui(v))return t==null?v:ON(v,t,n)}}}var xl=1e9,wV={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},qx,At=!0,Sr="[DecimalError] ",Co=Sr+"Invalid argument: ",Bx=Sr+"Exponent out of range: ",_l=Math.floor,mo=Math.pow,SV=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,tr,an=1e7,wt=7,ck=9007199254740991,Sh=_l(ck/wt),we={};we.absoluteValue=we.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};we.comparedTo=we.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};we.decimalPlaces=we.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*wt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};we.dividedBy=we.div=function(e){return Pi(this,new this.constructor(e))};we.dividedToIntegerBy=we.idiv=function(e){var t=this,n=t.constructor;return pt(Pi(t,new n(e),0,1),n.precision)};we.equals=we.eq=function(e){return!this.cmp(e)};we.exponent=function(){return Ht(this)};we.greaterThan=we.gt=function(e){return this.cmp(e)>0};we.greaterThanOrEqualTo=we.gte=function(e){return this.cmp(e)>=0};we.isInteger=we.isint=function(){return this.e>this.d.length-2};we.isNegative=we.isneg=function(){return this.s<0};we.isPositive=we.ispos=function(){return this.s>0};we.isZero=function(){return this.s===0};we.lessThan=we.lt=function(e){return this.cmp(e)<0};we.lessThanOrEqualTo=we.lte=function(e){return this.cmp(e)<1};we.logarithm=we.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(tr))throw Error(Sr+"NaN");if(n.s<1)throw Error(Sr+(n.s?"NaN":"-Infinity"));return n.eq(tr)?new r(0):(At=!1,t=Pi(lc(n,a),lc(e,a),a),At=!0,pt(t,i))};we.minus=we.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?hk(t,e):dk(t,(e.s=-e.s,e))};we.modulo=we.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Sr+"NaN");return n.s?(At=!1,t=Pi(n,e,0,1).times(e),At=!0,n.minus(t)):pt(new r(n),i)};we.naturalExponential=we.exp=function(){return fk(this)};we.naturalLogarithm=we.ln=function(){return lc(this)};we.negated=we.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};we.plus=we.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?dk(t,e):hk(t,(e.s=-e.s,e))};we.precision=we.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Co+e);if(t=Ht(i)+1,r=i.d.length-1,n=r*wt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};we.squareRoot=we.sqrt=function(){var e,t,n,r,i,a,l,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(Sr+"NaN")}for(e=Ht(u),At=!1,i=Math.sqrt(+u),i==0||i==1/0?(t=Zr(u.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=_l((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new f(t)):r=new f(i.toString()),n=f.precision,i=l=n+3;;)if(a=r,r=a.plus(Pi(u,a,l+2)).times(.5),Zr(a.d).slice(0,l)===(t=Zr(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(pt(a,n+1,0),a.times(a).eq(u)){r=a;break}}else if(t!="9999")break;l+=4}return At=!0,pt(r,n)};we.times=we.mul=function(e){var t,n,r,i,a,l,u,f,d,h=this,m=h.constructor,v=h.d,_=(e=new m(e)).d;if(!h.s||!e.s)return new m(0);for(e.s*=h.s,n=h.e+e.e,f=v.length,d=_.length,f<d&&(a=v,v=_,_=a,l=f,f=d,d=l),a=[],l=f+d,r=l;r--;)a.push(0);for(r=d;--r>=0;){for(t=0,i=f+r;i>r;)u=a[i]+_[r]*v[i-r-1]+t,a[i--]=u%an|0,t=u/an|0;a[i]=(a[i]+t)%an|0}for(;!a[--l];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,At?pt(e,m.precision):e};we.toDecimalPlaces=we.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ri(e,0,xl),t===void 0?t=r.rounding:ri(t,0,8),pt(n,e+Ht(n)+1,t))};we.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=jo(r,!0):(ri(e,0,xl),t===void 0?t=i.rounding:ri(t,0,8),r=pt(new i(r),e+1,t),n=jo(r,!0,e+1)),n};we.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?jo(i):(ri(e,0,xl),t===void 0?t=a.rounding:ri(t,0,8),r=pt(new a(i),e+Ht(i)+1,t),n=jo(r.abs(),!1,e+Ht(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};we.toInteger=we.toint=function(){var e=this,t=e.constructor;return pt(new t(e),Ht(e)+1,t.rounding)};we.toNumber=function(){return+this};we.toPower=we.pow=function(e){var t,n,r,i,a,l,u=this,f=u.constructor,d=12,h=+(e=new f(e));if(!e.s)return new f(tr);if(u=new f(u),!u.s){if(e.s<1)throw Error(Sr+"Infinity");return u}if(u.eq(tr))return u;if(r=f.precision,e.eq(tr))return pt(u,r);if(t=e.e,n=e.d.length-1,l=t>=n,a=u.s,l){if((n=h<0?-h:h)<=ck){for(i=new f(tr),t=Math.ceil(r/wt+4),At=!1;n%2&&(i=i.times(u),PN(i.d,t)),n=_l(n/2),n!==0;)u=u.times(u),PN(u.d,t);return At=!0,e.s<0?new f(tr).div(i):pt(i,r)}}else if(a<0)throw Error(Sr+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,At=!1,i=e.times(lc(u,r+d)),At=!0,i=fk(i),i.s=a,i};we.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Ht(i),r=jo(i,n<=a.toExpNeg||n>=a.toExpPos)):(ri(e,1,xl),t===void 0?t=a.rounding:ri(t,0,8),i=pt(new a(i),e,t),n=Ht(i),r=jo(i,e<=n||n<=a.toExpNeg,e)),r};we.toSignificantDigits=we.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ri(e,1,xl),t===void 0?t=r.rounding:ri(t,0,8)),pt(new r(n),e,t)};we.toString=we.valueOf=we.val=we.toJSON=we[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ht(e),n=e.constructor;return jo(e,t<=n.toExpNeg||t>=n.toExpPos)};function dk(e,t){var n,r,i,a,l,u,f,d,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),At?pt(t,m):t;if(f=e.d,d=t.d,l=e.e,i=t.e,f=f.slice(),a=l-i,a){for(a<0?(r=f,a=-a,u=d.length):(r=d,i=l,u=f.length),l=Math.ceil(m/wt),u=l>u?l+1:u+1,a>u&&(a=u,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(u=f.length,a=d.length,u-a<0&&(a=u,r=d,d=f,f=r),n=0;a;)n=(f[--a]=f[a]+d[a]+n)/an|0,f[a]%=an;for(n&&(f.unshift(n),++i),u=f.length;f[--u]==0;)f.pop();return t.d=f,t.e=i,At?pt(t,m):t}function ri(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Co+e)}function Zr(e){var t,n,r,i=e.length-1,a="",l=e[0];if(i>0){for(a+=l,t=1;t<i;t++)r=e[t]+"",n=wt-r.length,n&&(a+=Ta(n)),a+=r;l=e[t],r=l+"",n=wt-r.length,n&&(a+=Ta(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}var Pi=(function(){function e(r,i){var a,l=0,u=r.length;for(r=r.slice();u--;)a=r[u]*i+l,r[u]=a%an|0,l=a/an|0;return l&&r.unshift(l),r}function t(r,i,a,l){var u,f;if(a!=l)f=a>l?1:-1;else for(u=f=0;u<a;u++)if(r[u]!=i[u]){f=r[u]>i[u]?1:-1;break}return f}function n(r,i,a){for(var l=0;a--;)r[a]-=l,l=r[a]<i[a]?1:0,r[a]=l*an+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,l){var u,f,d,h,m,v,_,S,E,T,C,P,I,O,R,D,M,z,U=r.constructor,K=r.s==i.s?1:-1,L=r.d,q=i.d;if(!r.s)return new U(r);if(!i.s)throw Error(Sr+"Division by zero");for(f=r.e-i.e,M=q.length,R=L.length,_=new U(K),S=_.d=[],d=0;q[d]==(L[d]||0);)++d;if(q[d]>(L[d]||0)&&--f,a==null?P=a=U.precision:l?P=a+(Ht(r)-Ht(i))+1:P=a,P<0)return new U(0);if(P=P/wt+2|0,d=0,M==1)for(h=0,q=q[0],P++;(d<R||h)&&P--;d++)I=h*an+(L[d]||0),S[d]=I/q|0,h=I%q|0;else{for(h=an/(q[0]+1)|0,h>1&&(q=e(q,h),L=e(L,h),M=q.length,R=L.length),O=M,E=L.slice(0,M),T=E.length;T<M;)E[T++]=0;z=q.slice(),z.unshift(0),D=q[0],q[1]>=an/2&&++D;do h=0,u=t(q,E,M,T),u<0?(C=E[0],M!=T&&(C=C*an+(E[1]||0)),h=C/D|0,h>1?(h>=an&&(h=an-1),m=e(q,h),v=m.length,T=E.length,u=t(m,E,v,T),u==1&&(h--,n(m,M<v?z:q,v))):(h==0&&(u=h=1),m=q.slice()),v=m.length,v<T&&m.unshift(0),n(E,m,T),u==-1&&(T=E.length,u=t(q,E,M,T),u<1&&(h++,n(E,M<T?z:q,T))),T=E.length):u===0&&(h++,E=[0]),S[d++]=h,u&&E[0]?E[T++]=L[O]||0:(E=[L[O]],T=1);while((O++<R||E[0]!==void 0)&&P--)}return S[0]||S.shift(),_.e=f,pt(_,l?a+Ht(_)+1:a)}})();function fk(e,t){var n,r,i,a,l,u,f=0,d=0,h=e.constructor,m=h.precision;if(Ht(e)>16)throw Error(Bx+Ht(e));if(!e.s)return new h(tr);for(At=!1,u=m,l=new h(.03125);e.abs().gte(.1);)e=e.times(l),d+=5;for(r=Math.log(mo(2,d))/Math.LN10*2+5|0,u+=r,n=i=a=new h(tr),h.precision=u;;){if(i=pt(i.times(e),u),n=n.times(++f),l=a.plus(Pi(i,n,u)),Zr(l.d).slice(0,u)===Zr(a.d).slice(0,u)){for(;d--;)a=pt(a.times(a),u);return h.precision=m,t==null?(At=!0,pt(a,m)):a}a=l}}function Ht(e){for(var t=e.e*wt,n=e.d[0];n>=10;n/=10)t++;return t}function Uy(e,t,n){if(t>e.LN10.sd())throw At=!0,n&&(e.precision=n),Error(Sr+"LN10 precision limit exceeded");return pt(new e(e.LN10),t)}function Ta(e){for(var t="";e--;)t+="0";return t}function lc(e,t){var n,r,i,a,l,u,f,d,h,m=1,v=10,_=e,S=_.d,E=_.constructor,T=E.precision;if(_.s<1)throw Error(Sr+(_.s?"NaN":"-Infinity"));if(_.eq(tr))return new E(0);if(t==null?(At=!1,d=T):d=t,_.eq(10))return t==null&&(At=!0),Uy(E,d);if(d+=v,E.precision=d,n=Zr(S),r=n.charAt(0),a=Ht(_),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(e),n=Zr(_.d),r=n.charAt(0),m++;a=Ht(_),r>1?(_=new E("0."+n),a++):_=new E(r+"."+n.slice(1))}else return f=Uy(E,d+2,T).times(a+""),_=lc(new E(r+"."+n.slice(1)),d-v).plus(f),E.precision=T,t==null?(At=!0,pt(_,T)):_;for(u=l=_=Pi(_.minus(tr),_.plus(tr),d),h=pt(_.times(_),d),i=3;;){if(l=pt(l.times(h),d),f=u.plus(Pi(l,new E(i),d)),Zr(f.d).slice(0,d)===Zr(u.d).slice(0,d))return u=u.times(2),a!==0&&(u=u.plus(Uy(E,d+2,T).times(a+""))),u=Pi(u,new E(m),d),E.precision=T,t==null?(At=!0,pt(u,T)):u;u=f,i+=2}}function IN(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=_l(n/wt),e.d=[],r=(n+1)%wt,n<0&&(r+=wt),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=wt;r<i;)e.d.push(+t.slice(r,r+=wt));t=t.slice(r),r=wt-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),At&&(e.e>Sh||e.e<-Sh))throw Error(Bx+n)}else e.s=0,e.e=0,e.d=[0];return e}function pt(e,t,n){var r,i,a,l,u,f,d,h,m=e.d;for(l=1,a=m[0];a>=10;a/=10)l++;if(r=t-l,r<0)r+=wt,i=t,d=m[h=0];else{if(h=Math.ceil((r+1)/wt),a=m.length,h>=a)return e;for(d=a=m[h],l=1;a>=10;a/=10)l++;r%=wt,i=r-wt+l}if(n!==void 0&&(a=mo(10,l-i-1),u=d/a%10|0,f=t<0||m[h+1]!==void 0||d%a,f=n<4?(u||f)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?i>0?d/mo(10,l-i):0:m[h-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return f?(a=Ht(e),m.length=1,t=t-a-1,m[0]=mo(10,(wt-t%wt)%wt),e.e=_l(-t/wt)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(r==0?(m.length=h,a=1,h--):(m.length=h+1,a=mo(10,wt-r),m[h]=i>0?(d/mo(10,l-i)%mo(10,i)|0)*a:0),f)for(;;)if(h==0){(m[0]+=a)==an&&(m[0]=1,++e.e);break}else{if(m[h]+=a,m[h]!=an)break;m[h--]=0,a=1}for(r=m.length;m[--r]===0;)m.pop();if(At&&(e.e>Sh||e.e<-Sh))throw Error(Bx+Ht(e));return e}function hk(e,t){var n,r,i,a,l,u,f,d,h,m,v=e.constructor,_=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),At?pt(t,_):t;if(f=e.d,m=t.d,r=t.e,d=e.e,f=f.slice(),l=d-r,l){for(h=l<0,h?(n=f,l=-l,u=m.length):(n=m,r=d,u=f.length),i=Math.max(Math.ceil(_/wt),u)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=f.length,u=m.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(f[i]!=m[i]){h=f[i]<m[i];break}l=0}for(h&&(n=f,f=m,m=n,t.s=-t.s),u=f.length,i=m.length-u;i>0;--i)f[u++]=0;for(i=m.length;i>l;){if(f[--i]<m[i]){for(a=i;a&&f[--a]===0;)f[a]=an-1;--f[a],f[i]+=an}f[i]-=m[i]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(t.d=f,t.e=r,At?pt(t,_):t):new v(0)}function jo(e,t,n){var r,i=Ht(e),a=Zr(e.d),l=a.length;return t?(n&&(r=n-l)>0?a=a.charAt(0)+"."+a.slice(1)+Ta(r):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Ta(-i-1)+a,n&&(r=n-l)>0&&(a+=Ta(r))):i>=l?(a+=Ta(i+1-l),n&&(r=n-i-1)>0&&(a=a+"."+Ta(r))):((r=i+1)<l&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(a+="."),a+=Ta(r))),e.s<0?"-"+a:a}function PN(e,t){if(e.length>t)return e.length=t,!0}function pk(e){var t,n,r;function i(a){var l=this;if(!(l instanceof i))return new i(a);if(l.constructor=i,a instanceof i){l.s=a.s,l.e=a.e,l.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Co+a);if(a>0)l.s=1;else if(a<0)a=-a,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(a===~~a&&a<1e7){l.e=0,l.d=[a];return}return IN(l,a.toString())}else if(typeof a!="string")throw Error(Co+a);if(a.charCodeAt(0)===45?(a=a.slice(1),l.s=-1):l.s=1,SV.test(a))IN(l,a);else throw Error(Co+a)}if(i.prototype=we,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=pk,i.config=i.set=EV,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function EV(e){if(!e||typeof e!="object")throw Error(Sr+"Object expected");var t,n,r,i=["precision",1,xl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(_l(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Co+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Co+n+": "+r);return this}var qx=pk(wV);tr=new qx(1);const ot=qx;function mk(e){var t;return e===0?t=1:t=Math.floor(new ot(e).abs().log(10).toNumber())+1,t}function gk(e,t,n){for(var r=new ot(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var vk=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},yk=(e,t,n)=>{if(e.lte(0))return new ot(0);var r=mk(e.toNumber()),i=new ot(10).pow(r),a=e.div(i),l=r!==1?.05:.1,u=new ot(Math.ceil(a.div(l).toNumber())).add(n).mul(l),f=u.mul(i);return t?new ot(f.toNumber()):new ot(Math.ceil(f.toNumber()))},TV=(e,t,n)=>{var r=new ot(1),i=new ot(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new ot(10).pow(mk(e)-1),i=new ot(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new ot(Math.floor(e)))}else e===0?i=new ot(Math.floor((t-1)/2)):n||(i=new ot(Math.floor(e)));for(var l=Math.floor((t-1)/2),u=[],f=0;f<t;f++)u.push(i.add(new ot(f-l).mul(r)).toNumber());return u},bk=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new ot(0),tickMin:new ot(0),tickMax:new ot(0)};var l=yk(new ot(n).sub(t).div(r-1),i,a),u;t<=0&&n>=0?u=new ot(0):(u=new ot(t).add(n).div(2),u=u.sub(new ot(u).mod(l)));var f=Math.ceil(u.sub(t).div(l).toNumber()),d=Math.ceil(new ot(n).sub(u).div(l).toNumber()),h=f+d+1;return h>r?bk(t,n,r,i,a+1):(h<r&&(d=n>0?d+(r-h):d,f=n>0?f:f+(r-h)),{step:l,tickMin:u.sub(new ot(f).mul(l)),tickMax:u.add(new ot(d).mul(l))})},AV=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(i,2),[u,f]=vk([n,r]);if(u===-1/0||f===1/0){var d=f===1/0?[u,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),f];return n>r?d.reverse():d}if(u===f)return TV(u,i,a);var{step:h,tickMin:m,tickMax:v}=bk(u,f,l,a,0),_=gk(m,v.add(new ot(.1).mul(h)),h);return n>r?_.reverse():_},CV=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,u]=vk([r,i]);if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var f=Math.max(n,2),d=yk(new ot(u).sub(l).div(f-1),a,0),h=[...gk(new ot(l),new ot(u),d),u];return a===!1&&(h=h.map(m=>Math.round(m))),r>i?h.reverse():h},xk=e=>e.rootProps.maxBarSize,NV=e=>e.rootProps.barGap,_k=e=>e.rootProps.barCategoryGap,OV=e=>e.rootProps.barSize,Pc=e=>e.rootProps.stackOffset,wk=e=>e.rootProps.reverseStackOrder,Fx=e=>e.options.chartName,Gx=e=>e.rootProps.syncId,Sk=e=>e.rootProps.syncMethod,Hx=e=>e.options.eventEmitter,IV=e=>e.rootProps.baseValue,Gt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},uo={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Wr={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},Ap=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function Cp(e,t,n){if(n!=="auto")return n;if(e!=null)return ii(e,t)?"category":"number"}function RN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Eh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RN(Object(n),!0).forEach(function(r){PV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PV(e,t,n){return(t=RV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RV(e){var t=MV(e,"string");return typeof t=="symbol"?t:t+""}function MV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MN={allowDataOverflow:uo.allowDataOverflow,allowDecimals:uo.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:uo.angleAxisId,includeHidden:!1,name:void 0,reversed:uo.reversed,scale:uo.scale,tick:uo.tick,tickCount:void 0,ticks:void 0,type:uo.type,unit:void 0},DN={allowDataOverflow:Wr.allowDataOverflow,allowDecimals:Wr.allowDecimals,allowDuplicatedCategory:Wr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wr.radiusAxisId,includeHidden:Wr.includeHidden,name:void 0,reversed:Wr.reversed,scale:Wr.scale,tick:Wr.tick,tickCount:Wr.tickCount,ticks:void 0,type:Wr.type,unit:void 0},DV=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},Vx=X([DV,oD],(e,t)=>{var n;if(e!=null)return e;var r=(n=Cp(t,"angleAxis",MN.type))!==null&&n!==void 0?n:"category";return Eh(Eh({},MN),{},{type:r})}),kV=(e,t)=>e.polarAxis.radiusAxis[t],Kx=X([kV,oD],(e,t)=>{var n;if(e!=null)return e;var r=(n=Cp(t,"radiusAxis",DN.type))!==null&&n!==void 0?n:"category";return Eh(Eh({},DN),{},{type:r})}),Np=e=>e.polarOptions,Yx=X([qi,Fi,Jt],SD),Ek=X([Np,Yx],(e,t)=>{if(e!=null)return En(e.innerRadius,t,0)}),Tk=X([Np,Yx],(e,t)=>{if(e!=null)return En(e.outerRadius,t,t*.8)}),jV=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},Ak=X([Np],jV);X([Vx,Ak],Ap);var Ck=X([Yx,Ek,Tk],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});X([Kx,Ck],Ap);var Nk=X([We,Np,Ek,Tk,qi,Fi],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:l,cy:u,startAngle:f,endAngle:d}=t;return{cx:En(l,i,i/2),cy:En(u,a,a/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:d,clockWise:!1}}}),Ct=(e,t)=>t,Rc=(e,t,n)=>n;function Op(e){return e==null?void 0:e.id}function Ok(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,l=new Map;return e.forEach(u=>{var f,d=(f=u.data)!==null&&f!==void 0?f:r;if(!(d==null||d.length===0)){var h=Op(u);d.forEach((m,v)=>{var _=a==null||i?v:String(ft(m,a,null)),S=ft(m,u.dataKey,0),E;l.has(_)?E=l.get(_):E={},Object.assign(E,{[h]:S}),l.set(_,E)})}}),Array.from(l.values())}function Ip(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Pp=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Rp(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function LV(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var ln=e=>{var t=We(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},wl=e=>e.tooltip.settings.axisId;function UV(e){if(e in $u)return $u[e]();var t="scale".concat(vc(e));if(t in $u)return $u[t]()}function kN(e){var t=e.ticks,n=e.bandwidth,r=e.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>e.domain(),range:(function(a){function l(){return a.apply(this,arguments)}return l.toString=function(){return a.toString()},l})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(a){var l=i[0],u=i[1];return l<=u?a>=l&&a<=u:a>=u&&a<=l},bandwidth:n?()=>n.call(e):void 0,ticks:t?a=>t.call(e,a):void 0,map:(a,l)=>{var u=e(a);if(u!=null){if(e.bandwidth&&l!==null&&l!==void 0&&l.position){var f=e.bandwidth();switch(l.position){case"middle":u+=f/2;break;case"end":u+=f;break}}return u}}}}function jN(e,t,n){if(typeof e=="function")return kN(e.copy().domain(t).range(n));if(e!=null){var r=UV(e);if(r!=null)return r.domain(t).range(n),kN(r)}}var Ik=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!Ui(t)){for(var n,r,i=0;i<t.length;i++){var a=t[i];qe(a)&&((n===void 0||a<n)&&(n=a),(r===void 0||a>r)&&(r=a))}return n!==void 0&&r!==void 0?[n,r]:void 0}return t}default:return t}};function LN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Th(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LN(Object(n),!0).forEach(function(r){zV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zV(e,t,n){return(t=$V(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $V(e){var t=BV(e,"string");return typeof t=="symbol"?t:t+""}function BV(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eb=[0,"auto"],nn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Pk=(e,t)=>e.cartesianAxis.xAxis[t],Vi=(e,t)=>{var n=Pk(e,t);return n??nn},rn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:eb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:_c},Rk=(e,t)=>e.cartesianAxis.yAxis[t],Ki=(e,t)=>{var n=Rk(e,t);return n??rn},qV={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Wx=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??qV},Dt=(e,t,n)=>{switch(t){case"xAxis":return Vi(e,n);case"yAxis":return Ki(e,n);case"zAxis":return Wx(e,n);case"angleAxis":return Vx(e,n);case"radiusAxis":return Kx(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},FV=(e,t,n)=>{switch(t){case"xAxis":return Vi(e,n);case"yAxis":return Ki(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Sl=(e,t,n)=>{switch(t){case"xAxis":return Vi(e,n);case"yAxis":return Ki(e,n);case"angleAxis":return Vx(e,n);case"radiusAxis":return Kx(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Mk=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Jx(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var Mp=e=>e.graphicalItems.cartesianItems,GV=X([Ct,Rc],Jx),Xx=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Mc=X([Mp,Dt,GV],Xx,{memoizeOptions:{resultEqualityCheck:Rp}}),Dk=X([Mc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Ip)),kk=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),HV=X([Mc],kk),Zx=e=>e.map(t=>t.data).filter(Boolean).flat(1),VV=X([Mc],Zx,{memoizeOptions:{resultEqualityCheck:Rp}}),Qx=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},e_=X([VV,sk],Qx),t_=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:ft(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:ft(i,r)}))):e.map(r=>({value:r})),Dp=X([e_,Dt,Mc],t_);function jk(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function jf(e){if(ti(e)||e instanceof Date){var t=Number(e);if(qe(t))return t}}function UN(e){if(Array.isArray(e)){var t=[jf(e[0]),jf(e[1])];return Ui(t)?t:void 0}var n=jf(e);if(n!=null)return[n,n]}function zi(e){return e.map(jf).filter($n)}function KV(e,t,n){return!n||typeof t!="number"||zr(t)?[]:n.length?zi(n.flatMap(r=>{var i=ft(e,r.dataKey),a,l;if(Array.isArray(i)?[a,l]=i:a=l=i,!(!qe(a)||!qe(l)))return[t-a,t+l]})):[]}var Zt=e=>{var t=ln(e),n=wl(e);return Sl(e,t,n)},Dc=X([Zt],e=>e==null?void 0:e.dataKey),YV=X([Dk,sk,Zt],Ok),Lk=(e,t,n,r)=>{var i={},a=t.reduce((l,u)=>{if(u.stackId==null)return l;var f=l[u.stackId];return f==null&&(f=[]),f.push(u),l[u.stackId]=f,l},i);return Object.fromEntries(Object.entries(a).map(l=>{var[u,f]=l,d=r?[...f].reverse():f,h=d.map(Op);return[u,{stackedData:mq(e,h,n),graphicalItems:d}]}))},Ah=X([YV,Dk,Pc,wk],Lk),Uk=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var l=bq(e,i,a);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},WV=X([Dt],e=>e.allowDataOverflow),n_=e=>{var t;if(e==null||!("domain"in e))return eb;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=zi(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:eb},r_=X([Dt],n_),i_=X([r_,WV],uk),JV=X([Ah,Hi,Ct,i_],Uk,{memoizeOptions:{resultEqualityCheck:Pp}}),kp=e=>e.errorBars,XV=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>jk(n,r)),Ch=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),l=Math.min(...a),u=Math.max(...a);return[l,u]}},a_=(e,t,n,r,i)=>{var a,l;if(n.length>0&&e.forEach(u=>{n.forEach(f=>{var d,h,m=(d=r[f.id])===null||d===void 0?void 0:d.filter(C=>jk(i,C)),v=ft(u,(h=t.dataKey)!==null&&h!==void 0?h:f.dataKey),_=KV(u,v,m);if(_.length>=2){var S=Math.min(..._),E=Math.max(..._);(a==null||S<a)&&(a=S),(l==null||E>l)&&(l=E)}var T=UN(v);T!=null&&(a=a==null?T[0]:Math.min(a,T[0]),l=l==null?T[1]:Math.max(l,T[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(u=>{var f=UN(ft(u,t.dataKey));f!=null&&(a=a==null?f[0]:Math.min(a,f[0]),l=l==null?f[1]:Math.max(l,f[1]))}),qe(a)&&qe(l))return[a,l]},ZV=X([e_,Dt,HV,kp,Ct],a_,{memoizeOptions:{resultEqualityCheck:Pp}});function QV(e){var{value:t}=e;if(ti(t)||t instanceof Date)return t}var e8=(e,t,n)=>{var r=e.map(QV).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&nM(r))?CD(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},zk=e=>e.referenceElements.dots,El=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),t8=X([zk,Ct,Rc],El),$k=e=>e.referenceElements.areas,n8=X([$k,Ct,Rc],El),Bk=e=>e.referenceElements.lines,r8=X([Bk,Ct,Rc],El),qk=(e,t)=>{if(e!=null){var n=zi(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},i8=X(t8,Ct,qk),Fk=(e,t)=>{if(e!=null){var n=zi(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},a8=X([n8,Ct],Fk);function o8(e){var t;if(e.x!=null)return zi([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:zi(n)}function s8(e){var t;if(e.y!=null)return zi([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:zi(n)}var Gk=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?o8(r):s8(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},l8=X([r8,Ct],Gk),u8=X(i8,l8,a8,(e,t,n)=>Ch(e,n,t)),o_=(e,t,n,r,i,a,l,u)=>{if(n!=null)return n;var f=l==="vertical"&&u==="xAxis"||l==="horizontal"&&u==="yAxis",d=f?Ch(r,a,i):Ch(a,i);return _V(t,d,e.allowDataOverflow)},c8=X([Dt,r_,i_,JV,ZV,u8,We,Ct],o_,{memoizeOptions:{resultEqualityCheck:Pp}}),d8=[0,1],s_=(e,t,n,r,i,a,l)=>{if(!((e==null||n==null||n.length===0)&&l===void 0)){var{dataKey:u,type:f}=e,d=ii(t,a);if(d&&u==null){var h;return CD(0,(h=n==null?void 0:n.length)!==null&&h!==void 0?h:0)}return f==="category"?e8(r,e,d):i==="expand"?d8:l}},l_=X([Dt,We,e_,Dp,Pc,Ct,c8],s_);function f8(e){return e in $u}var Hk=(e,t,n)=>{if(e!=null){var{scale:r,type:i}=e;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!t)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var a="scale".concat(vc(r));return f8(a)?a:"point"}}},Fa=X([Dt,Mk,Fx],Hk);function u_(e,t,n,r){if(!(n==null||r==null))return typeof e.scale=="function"?jN(e.scale,n,r):jN(t,n,r)}var c_=(e,t,n)=>{var r=n_(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Ui(e))return AV(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ui(e))return CV(e,t.tickCount,t.allowDecimals)}},d_=X([l_,Sl,Fa],c_),f_=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Ui(t)&&Array.isArray(n)&&n.length>0){var i,a,l=t[0],u=(i=n[0])!==null&&i!==void 0?i:0,f=t[1],d=(a=n[n.length-1])!==null&&a!==void 0?a:0;return[Math.min(l,u),Math.max(f,d)]}return t},h8=X([Dt,l_,d_,Ct],f_),p8=X(Dp,Dt,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(zi(e.map(m=>m.value))).sort((m,v)=>m-v),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var l=a-i;if(l===0)return 1/0;for(var u=0;u<r.length-1;u++){var f=r[u],d=r[u+1];if(!(f==null||d==null)){var h=d-f;n=Math.min(n,h)}}return n/l}}),Vk=X(p8,We,_k,Jt,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!qe(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var l=En(n,e*a),u=e*a/2;return u-l-(u-l)/a*l}return 0}),m8=(e,t,n)=>{var r=Vi(e,t);return r==null||typeof r.padding!="string"?0:Vk(e,"xAxis",t,n,r.padding)},g8=(e,t,n)=>{var r=Ki(e,t);return r==null||typeof r.padding!="string"?0:Vk(e,"yAxis",t,n,r.padding)},v8=X(Vi,m8,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),y8=X(Ki,g8,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),b8=X([Jt,v8,pp,hp,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),x8=X([Jt,We,y8,pp,hp,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:l}=i;return a?[r.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),kc=(e,t,n,r)=>{var i;switch(t){case"xAxis":return b8(e,n,r);case"yAxis":return x8(e,n,r);case"zAxis":return(i=Wx(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return Ak(e);case"radiusAxis":return Ck(e,n);default:return}},Kk=X([Dt,kc],Ap),_8=X([Fa,h8],Ik),jp=X([Dt,Fa,_8,Kk],u_);X([Mc,kp,Ct],XV);function Yk(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Lp=(e,t)=>t,Up=(e,t,n)=>n,w8=X(dp,Lp,Up,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(Yk)),S8=X(fp,Lp,Up,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(Yk)),Wk=(e,t)=>({width:e.width,height:t.height}),E8=(e,t)=>{var n=typeof t.width=="number"?t.width:_c;return{width:n,height:e.height}},Jk=X(Jt,Vi,Wk),T8=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},A8=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},C8=X(Fi,Jt,w8,Lp,Up,(e,t,n,r,i)=>{var a={},l;return n.forEach(u=>{var f=Wk(t,u);l==null&&(l=T8(t,r,e));var d=r==="top"&&!i||r==="bottom"&&i;a[u.id]=l-Number(d)*f.height,l+=(d?-1:1)*f.height}),a}),N8=X(qi,Jt,S8,Lp,Up,(e,t,n,r,i)=>{var a={},l;return n.forEach(u=>{var f=E8(t,u);l==null&&(l=A8(t,r,e));var d=r==="left"&&!i||r==="right"&&i;a[u.id]=l-Number(d)*f.width,l+=(d?-1:1)*f.width}),a}),O8=(e,t)=>{var n=Vi(e,t);if(n!=null)return C8(e,n.orientation,n.mirror)},I8=X([Jt,Vi,O8,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),P8=(e,t)=>{var n=Ki(e,t);if(n!=null)return N8(e,n.orientation,n.mirror)},R8=X([Jt,Ki,P8,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),Xk=X(Jt,Ki,(e,t)=>{var n=typeof t.width=="number"?t.width:_c;return{width:n,height:e.height}}),zN=(e,t,n)=>{switch(t){case"xAxis":return Jk(e,n).width;case"yAxis":return Xk(e,n).height;default:return}},Zk=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:l}=n,u=ii(e,r),f=t.map(d=>d.value);if(l&&u&&a==="category"&&i&&nM(f))return f}},h_=X([We,Dp,Dt,Ct],Zk),Qk=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,l=ii(e,r);if(l&&(i==="number"||a!=="auto"))return t.map(u=>u.value)}},p_=X([We,Dp,Sl,Ct],Qk),$N=X([We,FV,Fa,jp,h_,p_,kc,d_,Ct],(e,t,n,r,i,a,l,u,f)=>{if(t!=null){var d=ii(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:a,duplicateDomain:i,isCategorical:d,niceTicks:u,range:l,realScaleType:n,scale:r}}}),M8=(e,t,n,r,i,a,l,u,f)=>{if(!(t==null||r==null)){var d=ii(e,f),{type:h,ticks:m,tickCount:v}=t,_=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,S=h==="category"&&r.bandwidth?r.bandwidth()/_:0;S=f==="angleAxis"&&a!=null&&a.length>=2?on(a[0]-a[1])*2*S:S;var E=m||i;return E?E.map((T,C)=>{var P=l?l.indexOf(T):T,I=r.map(P);return qe(I)?{index:C,coordinate:I+S,value:T,offset:S}:null}).filter($n):d&&u?u.map((T,C)=>{var P=r.map(T);return qe(P)?{coordinate:P+S,value:T,index:C,offset:S}:null}).filter($n):r.ticks?r.ticks(v).map((T,C)=>{var P=r.map(T);return qe(P)?{coordinate:P+S,value:T,index:C,offset:S}:null}).filter($n):r.domain().map((T,C)=>{var P=r.map(T);return qe(P)?{coordinate:P+S,value:l?l[T]:T,index:C,offset:S}:null}).filter($n)}},e2=X([We,Sl,Fa,jp,d_,kc,h_,p_,Ct],M8),D8=(e,t,n,r,i,a,l)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var u=ii(e,l),{tickCount:f}=t,d=0;return d=l==="angleAxis"&&(r==null?void 0:r.length)>=2?on(r[0]-r[1])*2*d:d,u&&a?a.map((h,m)=>{var v=n.map(h);return qe(v)?{coordinate:v+d,value:h,index:m,offset:d}:null}).filter($n):n.ticks?n.ticks(f).map((h,m)=>{var v=n.map(h);return qe(v)?{coordinate:v+d,value:h,index:m,offset:d}:null}).filter($n):n.domain().map((h,m)=>{var v=n.map(h);return qe(v)?{coordinate:v+d,value:i?i[h]:h,index:m,offset:d}:null}).filter($n)}},La=X([We,Sl,jp,kc,h_,p_,Ct],D8),Ua=X(Dt,jp,(e,t)=>{if(!(e==null||t==null))return Th(Th({},e),{},{scale:t})}),k8=X([Dt,Fa,l_,Kk],u_);X((e,t,n)=>Wx(e,n),k8,(e,t)=>{if(!(e==null||t==null))return Th(Th({},e),{},{scale:t})});var j8=X([We,dp,fp],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),t2=e=>e.options.defaultTooltipEventType,n2=e=>e.options.validateTooltipEventTypes;function r2(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function m_(e,t){var n=t2(e),r=n2(e);return r2(t,n,r)}function L8(e){return Ee(t=>m_(t,e))}var i2=(e,t)=>{var n,r=Number(t);if(!(zr(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},U8=e=>e.tooltip.settings,Na={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},z8={itemInteraction:{click:Na,hover:Na},axisInteraction:{click:Na,hover:Na},keyboardInteraction:Na,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},a2=Fn({name:"tooltip",initialState:z8,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Tt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=jr(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:Tt()},removeTooltipEntrySettings:{reducer(e,t){var n=jr(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:Tt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:$8,replaceTooltipEntrySettings:B8,removeTooltipEntrySettings:q8,setTooltipSettingsState:F8,setActiveMouseOverItemIndex:o2,mouseLeaveItem:G8,mouseLeaveChart:s2,setActiveClickItemIndex:H8,setMouseOverAxisIndex:l2,setMouseClickAxisIndex:V8,setSyncInteraction:tb,setKeyboardInteraction:nb}=a2.actions,K8=a2.reducer;function BN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BN(Object(n),!0).forEach(function(r){Y8(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y8(e,t,n){return(t=W8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W8(e){var t=J8(e,"string");return typeof t=="symbol"?t:t+""}function J8(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X8(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Z8(e){return e.index!=null}var u2=(e,t,n,r)=>{if(t==null)return Na;var i=X8(e,t,n);if(i==null)return Na;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(Z8(i)){if(a)return vf(vf({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return vf(vf({},Na),{},{coordinate:i.coordinate})};function Q8(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function eK(e,t){var n=Q8(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),l=Math.max(r,i);return n>=a&&n<=l}function tK(e,t,n){if(n==null||t==null)return!0;var r=ft(e,t);return r==null||!Ui(n)?!0:eK(r,n)}var g_=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!qe(a))return i;var l=0,u=1/0;t.length>0&&(u=t.length-1);var f=Math.max(l,Math.min(a,u)),d=t[f];return d==null||tK(d,n,r)?String(f):null},c2=(e,t,n,r,i,a,l)=>{if(a!=null){var u=l[0],f=u==null?void 0:u.getPosition(a);if(f!=null)return f;var d=i==null?void 0:i[Number(a)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:d.coordinate}}}},d2=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(l=>{var u;return((u=l.settings)===null||u===void 0?void 0:u.graphicalItemId)===i})},f2=e=>e.options.tooltipPayloadSearcher,Tl=e=>e.tooltip;function qN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function FN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qN(Object(n),!0).forEach(function(r){nK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nK(e,t,n){return(t=rK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rK(e){var t=iK(e,"string");return typeof t=="symbol"?t:t+""}function iK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aK(e,t){return e??t}var h2=(e,t,n,r,i,a,l)=>{if(!(t==null||a==null)){var{chartData:u,computedData:f,dataStartIndex:d,dataEndIndex:h}=n,m=[];return e.reduce((v,_)=>{var S,{dataDefinedOnItem:E,settings:T}=_,C=aK(E,u),P=Array.isArray(C)?WM(C,d,h):C,I=(S=T==null?void 0:T.dataKey)!==null&&S!==void 0?S:r,O=T==null?void 0:T.nameKey,R;if(r&&Array.isArray(P)&&!Array.isArray(P[0])&&l==="axis"?R=rM(P,r,i):R=a(P,t,f,O),Array.isArray(R))R.forEach(M=>{var z=FN(FN({},T),{},{name:M.name,unit:M.unit,color:void 0,fill:void 0});v.push(BC({tooltipEntrySettings:z,dataKey:M.dataKey,payload:M.payload,value:ft(M.payload,M.dataKey),name:M.name}))});else{var D;v.push(BC({tooltipEntrySettings:T,dataKey:I,payload:R,value:ft(R,I),name:(D=ft(R,O))!==null&&D!==void 0?D:T==null?void 0:T.name}))}return v},m)}},v_=X([Zt,Mk,Fx],Hk),oK=X([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),sK=X([ln,wl],Jx),Al=X([oK,Zt,sK],Xx,{memoizeOptions:{resultEqualityCheck:Rp}}),lK=X([Al],e=>e.filter(Ip)),uK=X([Al],Zx,{memoizeOptions:{resultEqualityCheck:Rp}}),Cl=X([uK,Hi],Qx),cK=X([lK,Hi,Zt],Ok),y_=X([Cl,Zt,Al],t_),p2=X([Zt],n_),dK=X([Zt],e=>e.allowDataOverflow),m2=X([p2,dK],uk),fK=X([Al],e=>e.filter(Ip)),hK=X([cK,fK,Pc,wk],Lk),pK=X([hK,Hi,ln,m2],Uk),mK=X([Al],kk),gK=X([Cl,Zt,mK,kp,ln],a_,{memoizeOptions:{resultEqualityCheck:Pp}}),vK=X([zk,ln,wl],El),yK=X([vK,ln],qk),bK=X([$k,ln,wl],El),xK=X([bK,ln],Fk),_K=X([Bk,ln,wl],El),wK=X([_K,ln],Gk),SK=X([yK,wK,xK],Ch),EK=X([Zt,p2,m2,pK,gK,SK,We,ln],o_),jc=X([Zt,We,Cl,y_,Pc,ln,EK],s_),TK=X([jc,Zt,v_],c_),AK=X([Zt,jc,TK,ln],f_),g2=e=>{var t=ln(e),n=wl(e),r=!1;return kc(e,t,n,r)},v2=X([Zt,g2],Ap),y2=X([Zt,v_,AK,v2],u_),CK=X([We,y_,Zt,ln],Zk),NK=X([We,y_,Zt,ln],Qk),OK=(e,t,n,r,i,a,l,u)=>{if(t){var{type:f}=t,d=ii(e,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=f==="category"&&r.bandwidth?r.bandwidth()/h:0;return m=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?on(i[0]-i[1])*2*m:m,d&&l?l.map((v,_)=>{var S=r.map(v);return qe(S)?{coordinate:S+m,value:v,index:_,offset:m}:null}).filter($n):r.domain().map((v,_)=>{var S=r.map(v);return qe(S)?{coordinate:S+m,value:a?a[v]:v,index:_,offset:m}:null}).filter($n)}}},Yi=X([We,Zt,v_,y2,g2,CK,NK,ln],OK),b_=X([t2,n2,U8],(e,t,n)=>r2(n.shared,e,t)),b2=e=>e.tooltip.settings.trigger,x_=e=>e.tooltip.settings.defaultIndex,Lc=X([Tl,b_,b2,x_],u2),za=X([Lc,Cl,Dc,jc],g_),x2=X([Yi,za],i2),__=X([Lc],e=>{if(e)return e.dataKey}),IK=X([Lc],e=>{if(e)return e.graphicalItemId}),_2=X([Tl,b_,b2,x_],d2),PK=X([qi,Fi,We,Jt,Yi,x_,_2],c2),RK=X([Lc,PK],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),MK=X([Lc],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),DK=X([_2,za,Hi,Dc,x2,f2,b_],h2),kK=X([DK],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function GN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function HN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GN(Object(n),!0).forEach(function(r){jK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jK(e,t,n){return(t=LK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LK(e){var t=UK(e,"string");return typeof t=="symbol"?t:t+""}function UK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zK=()=>Ee(Zt),$K=()=>{var e=zK(),t=Ee(Yi),n=Ee(y2);return ll(!e||!n?void 0:HN(HN({},e),{},{scale:n}),t)};function VN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Is(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VN(Object(n),!0).forEach(function(r){BK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BK(e,t,n){return(t=qK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qK(e){var t=FK(e,"string");return typeof t=="symbol"?t:t+""}function FK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GK=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},HK=(e,t,n,r)=>{var i=t.find(d=>d&&d.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:l}=r;return Is(Is(Is({},r),Ft(r.cx,r.cy,l,a)),{},{angle:a,radius:l})}var u=i.coordinate,{angle:f}=r;return Is(Is(Is({},r),Ft(r.cx,r.cy,u,f)),{},{angle:f,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function VK(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var w2=(e,t,n,r,i)=>{var a,l=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(l<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var u=0;u<l;u++){var f,d,h,m,v,_=u>0?(f=n[u-1])===null||f===void 0?void 0:f.coordinate:(d=n[l-1])===null||d===void 0?void 0:d.coordinate,S=(h=n[u])===null||h===void 0?void 0:h.coordinate,E=u>=l-1?(m=n[0])===null||m===void 0?void 0:m.coordinate:(v=n[u+1])===null||v===void 0?void 0:v.coordinate,T=void 0;if(!(_==null||S==null||E==null))if(on(S-_)!==on(E-S)){var C=[];if(on(E-S)===on(i[1]-i[0])){T=E;var P=S+i[1]-i[0];C[0]=Math.min(P,(P+_)/2),C[1]=Math.max(P,(P+_)/2)}else{T=_;var I=E+i[1]-i[0];C[0]=Math.min(S,(I+S)/2),C[1]=Math.max(S,(I+S)/2)}var O=[Math.min(S,(T+S)/2),Math.max(S,(T+S)/2)];if(e>O[0]&&e<=O[1]||e>=C[0]&&e<=C[1]){var R;return(R=n[u])===null||R===void 0?void 0:R.index}}else{var D=Math.min(_,E),M=Math.max(_,E);if(e>(D+S)/2&&e<=(M+S)/2){var z;return(z=n[u])===null||z===void 0?void 0:z.index}}}else if(t)for(var U=0;U<l;U++){var K=t[U];if(K!=null){var L=t[U+1],q=t[U-1];if(U===0&&L!=null&&e<=(K.coordinate+L.coordinate)/2||U===l-1&&q!=null&&e>(K.coordinate+q.coordinate)/2||U>0&&U<l-1&&q!=null&&L!=null&&e>(K.coordinate+q.coordinate)/2&&e<=(K.coordinate+L.coordinate)/2)return K.index}}return-1},S2=()=>Ee(Fx),w_=(e,t)=>t,E2=(e,t,n)=>n,S_=(e,t,n,r)=>r,KK=X(Yi,e=>tp(e,t=>t.coordinate)),E_=X([Tl,w_,E2,S_],u2),T_=X([E_,Cl,Dc,jc],g_),YK=(e,t,n)=>{if(t!=null){var r=Tl(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},T2=X([Tl,w_,E2,S_],d2),Nh=X([qi,Fi,We,Jt,Yi,S_,T2],c2),WK=X([E_,Nh],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),A2=X([Yi,T_],i2),JK=X([T2,T_,Hi,Dc,A2,f2,w_],h2),XK=X([E_,T_],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),ZK=(e,t,n,r,i,a,l)=>{if(!(!e||!n||!r||!i)&&VK(e,l)){var u=xq(e,t),f=w2(u,a,i,n,r),d=GK(t,i,f,e);return{activeIndex:String(f),activeCoordinate:d}}},QK=(e,t,n,r,i,a,l)=>{if(!(!e||!r||!i||!a||!n)){var u=LF(e,n);if(u){var f=_q(u,t),d=w2(f,l,a,r,i),h=HK(t,a,d,u);return{activeIndex:String(d),activeCoordinate:h}}}},e9=(e,t,n,r,i,a,l,u)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?ZK(e,t,r,i,a,l,u):QK(e,t,n,r,i,a,l)},t9=X(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),n9=X(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(Gt)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:LV}});function KN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function YN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KN(Object(n),!0).forEach(function(r){r9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function r9(e,t,n){return(t=i9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i9(e){var t=a9(e,"string");return typeof t=="symbol"?t:t+""}function a9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o9={},s9={zIndexMap:Object.values(Gt).reduce((e,t)=>YN(YN({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),o9)},l9=new Set(Object.values(Gt));function u9(e){return l9.has(e)}var C2=Fn({name:"zIndex",initialState:s9,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Tt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!u9(n)&&delete e.zIndexMap[n])},prepare:Tt()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Tt()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:Tt()}}}),{registerZIndexPortal:c9,unregisterZIndexPortal:d9,registerZIndexPortalElement:f9,unregisterZIndexPortalElement:h9}=C2.actions,p9=C2.reducer;function Gn(e){var{zIndex:t,children:n}=e,r=Zq(),i=r&&t!==void 0&&t!==0,a=Tn(),l=vt();A.useLayoutEffect(()=>i?(l(c9({zIndex:t})),()=>{l(d9({zIndex:t}))}):Uo,[l,t,i]);var u=Ee(f=>t9(f,t,a));return i?u?Vb.createPortal(n,u):null:n}function rb(){return rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rb.apply(null,arguments)}function WN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WN(Object(n),!0).forEach(function(r){m9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function m9(e,t,n){return(t=g9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g9(e){var t=v9(e,"string");return typeof t=="symbol"?t:t+""}function v9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y9(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return A.isValidElement(t)?A.cloneElement(t,r):A.createElement(n,r)}function b9(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:l,layout:u,cursor:f,tooltipEventType:d,chartName:h}=e,m=n,v=r,_=i;if(!f||!m||h!=="ScatterChart"&&d!=="axis")return null;var S,E,T;if(h==="ScatterChart")S=m,E=X6,T=Gt.cursorLine;else if(h==="BarChart")S=Z6(u,m,a,l),E=wD,T=Gt.cursorRectangle;else if(u==="radial"&&aM(m)){var{cx:C,cy:P,radius:I,startAngle:O,endAngle:R}=ED(m);S={cx:C,cy:P,startAngle:O,endAngle:R,innerRadius:I,outerRadius:I},E=AD,T=Gt.cursorLine}else S={points:BF(u,m,a)},E=tl,T=Gt.cursorLine;var D=typeof f=="object"&&"className"in f?f.className:void 0,M=yf(yf(yf(yf({stroke:"#ccc",pointerEvents:"none"},a),S),Oo(f)),{},{payload:v,payloadIndex:_,className:Qe("recharts-tooltip-cursor",D)});return A.createElement(Gn,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:T},A.createElement(y9,{cursor:f,cursorComp:E,cursorProps:M}))}function x9(e){var t=$K(),n=aD(),r=zo(),i=S2();return t==null||n==null||r==null||i==null?null:A.createElement(b9,rb({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var N2=A.createContext(null),_9=()=>A.useContext(N2),zy={exports:{}},JN;function w9(){return JN||(JN=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,d,h){this.fn=f,this.context=d,this.once=h||!1}function a(f,d,h,m,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var _=new i(h,m||f,v),S=n?n+d:d;return f._events[S]?f._events[S].fn?f._events[S]=[f._events[S],_]:f._events[S].push(_):(f._events[S]=_,f._eventsCount++),f}function l(f,d){--f._eventsCount===0?f._events=new r:delete f._events[d]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)t.call(h,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},u.prototype.listeners=function(d){var h=n?n+d:d,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,_=m.length,S=new Array(_);v<_;v++)S[v]=m[v].fn;return S},u.prototype.listenerCount=function(d){var h=n?n+d:d,m=this._events[h];return m?m.fn?1:m.length:0},u.prototype.emit=function(d,h,m,v,_,S){var E=n?n+d:d;if(!this._events[E])return!1;var T=this._events[E],C=arguments.length,P,I;if(T.fn){switch(T.once&&this.removeListener(d,T.fn,void 0,!0),C){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,h),!0;case 3:return T.fn.call(T.context,h,m),!0;case 4:return T.fn.call(T.context,h,m,v),!0;case 5:return T.fn.call(T.context,h,m,v,_),!0;case 6:return T.fn.call(T.context,h,m,v,_,S),!0}for(I=1,P=new Array(C-1);I<C;I++)P[I-1]=arguments[I];T.fn.apply(T.context,P)}else{var O=T.length,R;for(I=0;I<O;I++)switch(T[I].once&&this.removeListener(d,T[I].fn,void 0,!0),C){case 1:T[I].fn.call(T[I].context);break;case 2:T[I].fn.call(T[I].context,h);break;case 3:T[I].fn.call(T[I].context,h,m);break;case 4:T[I].fn.call(T[I].context,h,m,v);break;default:if(!P)for(R=1,P=new Array(C-1);R<C;R++)P[R-1]=arguments[R];T[I].fn.apply(T[I].context,P)}}return!0},u.prototype.on=function(d,h,m){return a(this,d,h,m,!1)},u.prototype.once=function(d,h,m){return a(this,d,h,m,!0)},u.prototype.removeListener=function(d,h,m,v){var _=n?n+d:d;if(!this._events[_])return this;if(!h)return l(this,_),this;var S=this._events[_];if(S.fn)S.fn===h&&(!v||S.once)&&(!m||S.context===m)&&l(this,_);else{for(var E=0,T=[],C=S.length;E<C;E++)(S[E].fn!==h||v&&!S[E].once||m&&S[E].context!==m)&&T.push(S[E]);T.length?this._events[_]=T.length===1?T[0]:T:l(this,_)}return this},u.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&l(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(zy)),zy.exports}var S9=w9();const E9=Br(S9);var uc=new E9,ib="recharts.syncEvent.tooltip",XN="recharts.syncEvent.brush",A_=(e,t)=>{if(t&&Array.isArray(e)){var n=Number.parseInt(t,10);if(!zr(n))return e[n]}},T9={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},O2=Fn({name:"options",initialState:T9,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),A9=O2.reducer,{createEventEmitter:C9}=O2.actions;function N9(e){return e.tooltip.syncInteraction}var O9={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},I2=Fn({name:"chartData",initialState:O9,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:ZN,setDataStartEndIndexes:I9,setComputedData:Sce}=I2.actions,P9=I2.reducer,R9=["x","y"];function QN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ps(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QN(Object(n),!0).forEach(function(r){M9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QN(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function M9(e,t,n){return(t=D9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D9(e){var t=k9(e,"string");return typeof t=="symbol"?t:t+""}function k9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j9(e,t){if(e==null)return{};var n,r,i=L9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function L9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function U9(){var e=Ee(Gx),t=Ee(Hx),n=vt(),r=Ee(Sk),i=Ee(Yi),a=zo(),l=mp(),u=Ee(f=>f.rootProps.className);A.useEffect(()=>{if(e==null)return Uo;var f=(d,h,m)=>{if(t!==m&&e===d){if(r==="index"){var v;if(l&&h!==null&&h!==void 0&&(v=h.payload)!==null&&v!==void 0&&v.coordinate&&h.payload.sourceViewBox){var _=h.payload.coordinate,{x:S,y:E}=_,T=j9(_,R9),{x:C,y:P,width:I,height:O}=h.payload.sourceViewBox,R=Ps(Ps({},T),{},{x:l.x+(I?(S-C)/I:0)*l.width,y:l.y+(O?(E-P)/O:0)*l.height});n(Ps(Ps({},h),{},{payload:Ps(Ps({},h.payload),{},{coordinate:R})}))}else n(h);return}if(i!=null){var D;if(typeof r=="function"){var M={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},z=r(i,M);D=i[z]}else r==="value"&&(D=i.find(j=>String(j.value)===h.payload.label));var{coordinate:U}=h.payload;if(D==null||h.payload.active===!1||U==null||l==null){n(tb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:K,y:L}=U,q=Math.min(K,l.x+l.width),Z=Math.min(L,l.y+l.height),ae={x:a==="horizontal"?D.coordinate:q,y:a==="horizontal"?Z:D.coordinate},se=tb({active:h.payload.active,coordinate:ae,dataKey:h.payload.dataKey,index:String(D.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(se)}}};return uc.on(ib,f),()=>{uc.off(ib,f)}},[u,n,t,e,r,i,a,l])}function z9(){var e=Ee(Gx),t=Ee(Hx),n=vt();A.useEffect(()=>{if(e==null)return Uo;var r=(i,a,l)=>{t!==l&&e===i&&n(I9(a))};return uc.on(XN,r),()=>{uc.off(XN,r)}},[n,t,e])}function $9(){var e=vt();A.useEffect(()=>{e(C9())},[e]),U9(),z9()}function B9(e,t,n,r,i,a){var l=Ee(_=>YK(_,e,t)),u=Ee(Hx),f=Ee(Gx),d=Ee(Sk),h=Ee(N9),m=h==null?void 0:h.active,v=mp();A.useEffect(()=>{if(!m&&f!=null&&u!=null){var _=tb({active:a,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:v,graphicalItemId:void 0});uc.emit(ib,f,_,u)}},[m,n,l,i,r,u,f,d,a,v])}function eO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eO(Object(n),!0).forEach(function(r){q9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function q9(e,t,n){return(t=F9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F9(e){var t=G9(e,"string");return typeof t=="symbol"?t:t+""}function G9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H9(e){return e.dataKey}function V9(e,t){return A.isValidElement(e)?A.cloneElement(e,t):typeof e=="function"?A.createElement(e,t):A.createElement(I6,t)}var nO=[],K9={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ra(e){var t,n,r=Vt(e,K9),{active:i,allowEscapeViewBox:a,animationDuration:l,animationEasing:u,content:f,filterNull:d,isAnimationActive:h,offset:m,payloadUniqBy:v,position:_,reverseDirection:S,useTranslate3d:E,wrapperStyle:T,cursor:C,shared:P,trigger:I,defaultIndex:O,portal:R,axisId:D}=r,M=vt(),z=typeof O=="number"?String(O):O;A.useEffect(()=>{M(F8({shared:P,trigger:I,axisId:D,active:i,defaultIndex:z}))},[M,P,I,D,i,z]);var U=mp(),K=vD(),L=L8(P),{activeIndex:q,isActive:Z}=(t=Ee(_e=>XK(_e,L,I,z)))!==null&&t!==void 0?t:{},ae=Ee(_e=>JK(_e,L,I,z)),se=Ee(_e=>A2(_e,L,I,z)),j=Ee(_e=>WK(_e,L,I,z)),G=ae,W=_9(),re=(n=i??Z)!==null&&n!==void 0?n:!1,[he,$]=bM([G,re]),J=L==="axis"?se:void 0;B9(L,I,j,J,q,re);var ue=R??W;if(ue==null||U==null||L==null)return null;var pe=G??nO;re||(pe=nO),d&&pe.length&&(pe=pM(pe.filter(_e=>_e.value!=null&&(_e.hide!==!0||r.includeHidden)),v,H9));var Ce=pe.length>0,xe=A.createElement(L6,{allowEscapeViewBox:a,animationDuration:l,animationEasing:u,isAnimationActive:h,active:re,coordinate:j,hasPayload:Ce,offset:m,position:_,reverseDirection:S,useTranslate3d:E,viewBox:U,wrapperStyle:T,lastBoundingBox:he,innerRef:$,hasPortalFromProps:!!R},V9(f,tO(tO({},r),{},{payload:pe,label:J,active:re,activeIndex:q,coordinate:j,accessibilityLayer:K})));return A.createElement(A.Fragment,null,Vb.createPortal(xe,ue),re&&A.createElement(x9,{cursor:C,tooltipEventType:L,coordinate:j,payload:pe,index:q}))}var Ri=e=>null;Ri.displayName="Cell";function Y9(e,t,n){return(t=W9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function W9(e){var t=J9(e,"string");return typeof t=="symbol"?t:t+""}function J9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class X9{constructor(t){Y9(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function rO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Z9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rO(Object(n),!0).forEach(function(r){Q9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Q9(e,t,n){return(t=e7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e7(e){var t=t7(e,"string");return typeof t=="symbol"?t:t+""}function t7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n7={cacheSize:2e3,enableCache:!0},P2=Z9({},n7),iO=new X9(P2.cacheSize),r7={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},aO="recharts_measurement_span";function i7(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",l=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(l,"|").concat(u)}var oO=(e,t)=>{try{var n=document.getElementById(aO);n||(n=document.createElement("span"),n.setAttribute("id",aO),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,r7,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Gu=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ec.isSsr)return{width:0,height:0};if(!P2.enableCache)return oO(t,n);var r=i7(t,n),i=iO.get(r);if(i)return i;var a=oO(t,n);return iO.set(r,a),a},R2;function a7(e,t,n){return(t=o7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o7(e){var t=s7(e,"string");return typeof t=="symbol"?t:t+""}function s7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,l7=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,u7=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,c7={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},d7=["cm","mm","pt","pc","in","Q","px"];function f7(e){return d7.includes(e)}var Ws="NaN";function h7(e,t){return e*c7[t]}class bn{static parse(t){var n,[,r,i]=(n=u7.exec(t))!==null&&n!==void 0?n:[];return r==null?bn.NaN:new bn(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,zr(t)&&(this.unit=""),n!==""&&!l7.test(n)&&(this.num=NaN,this.unit=""),f7(n)&&(this.num=h7(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new bn(NaN,""):new bn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new bn(NaN,""):new bn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new bn(NaN,""):new bn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new bn(NaN,""):new bn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return zr(this.num)}}R2=bn;a7(bn,"NaN",new R2(NaN,""));function M2(e){if(e==null||e.includes(Ws))return Ws;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=sO.exec(t))!==null&&n!==void 0?n:[],l=bn.parse(r??""),u=bn.parse(a??""),f=i==="*"?l.multiply(u):l.divide(u);if(f.isNaN())return Ws;t=t.replace(sO,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,[,h,m,v]=(d=lO.exec(t))!==null&&d!==void 0?d:[],_=bn.parse(h??""),S=bn.parse(v??""),E=m==="+"?_.add(S):_.subtract(S);if(E.isNaN())return Ws;t=t.replace(lO,E.toString())}return t}var uO=/\(([^()]*)\)/;function p7(e){for(var t=e,n;(n=uO.exec(t))!=null;){var[,r]=n;t=t.replace(uO,M2(r))}return t}function m7(e){var t=e.replace(/\s+/g,"");return t=p7(t),t=M2(t),t}function g7(e){try{return m7(e)}catch{return Ws}}function $y(e){var t=g7(e.slice(5,-1));return t===Ws?"":t}var v7=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],y7=["dx","dy","angle","className","breakAll"];function ab(){return ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ab.apply(null,arguments)}function cO(e,t){if(e==null)return{};var n,r,i=b7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function b7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var D2=/[ \f\n\r\t\v\u2028\u2029]+/,k2=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Mt(t)||(n?i=t.toString().split(""):i=t.toString().split(D2));var a=i.map(u=>({word:u,width:Gu(u,r).width})),l=n?0:Gu("",r).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}};function x7(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var j2=(e,t,n,r)=>e.reduce((i,a)=>{var{word:l,width:u}=a,f=i[i.length-1];if(f&&u!=null&&(t==null||r||f.width+u+n<Number(t)))f.words.push(l),f.width+=u+n;else{var d={words:[l],width:u};i.push(d)}return i},[]),L2=e=>e.reduce((t,n)=>t.width>n.width?t:n),_7="",dO=(e,t,n,r,i,a,l,u)=>{var f=e.slice(0,t),d=k2({breakAll:n,style:r,children:f+_7});if(!d)return[!1,[]];var h=j2(d.wordsWithComputedWidth,a,l,u),m=h.length>i||L2(h).width>Number(a);return[m,h]},w7=(e,t,n,r,i)=>{var{maxLines:a,children:l,style:u,breakAll:f}=e,d=be(a),h=String(l),m=j2(t,r,n,i);if(!d||i)return m;var v=m.length>a||L2(m).width>Number(r);if(!v)return m;for(var _=0,S=h.length-1,E=0,T;_<=S&&E<=h.length-1;){var C=Math.floor((_+S)/2),P=C-1,[I,O]=dO(h,P,f,u,a,r,n,i),[R]=dO(h,C,f,u,a,r,n,i);if(!I&&!R&&(_=C+1),I&&R&&(S=C-1),!I&&R){T=O;break}E++}return T||m},fO=e=>{var t=Mt(e)?[]:e.toString().split(D2);return[{words:t,width:void 0}]},S7=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:l}=e;if((t||n)&&!Ec.isSsr){var u,f,d=k2({breakAll:a,children:r,style:i});if(d){var{wordsWithComputedWidth:h,spaceWidth:m}=d;u=h,f=m}else return fO(r);return w7({breakAll:a,children:r,maxLines:l,style:i},u,f,t,!!n)}return fO(r)},U2="#808080",E7={angle:0,breakAll:!1,capHeight:"0.71em",fill:U2,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},zp=A.forwardRef((e,t)=>{var n=Vt(e,E7),{x:r,y:i,lineHeight:a,capHeight:l,fill:u,scaleToFit:f,textAnchor:d,verticalAnchor:h}=n,m=cO(n,v7),v=A.useMemo(()=>S7({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:f,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,f,m.style,m.width]),{dx:_,dy:S,angle:E,className:T,breakAll:C}=m,P=cO(m,y7);if(!ti(r)||!ti(i)||v.length===0)return null;var I=Number(r)+(be(_)?_:0),O=Number(i)+(be(S)?S:0);if(!qe(I)||!qe(O))return null;var R;switch(h){case"start":R=$y("calc(".concat(l,")"));break;case"middle":R=$y("calc(".concat((v.length-1)/2," * -").concat(a," + (").concat(l," / 2))"));break;default:R=$y("calc(".concat(v.length-1," * -").concat(a,")"));break}var D=[],M=v[0];if(f&&M!=null){var z=M.width,{width:U}=m;D.push("scale(".concat(be(U)&&be(z)?U/z:1,")"))}return E&&D.push("rotate(".concat(E,", ").concat(I,", ").concat(O,")")),D.length&&(P.transform=D.join(" ")),A.createElement("text",ab({},In(P),{ref:t,x:I,y:O,className:Qe("recharts-text",T),textAnchor:d,fill:u.includes("url")?U2:u}),v.map((K,L)=>{var q=K.words.join(C?"":" ");return A.createElement("tspan",{x:I,dy:L===0?R:a,key:"".concat(q,"-").concat(L)},q)}))});zp.displayName="Text";function hO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hO(Object(n),!0).forEach(function(r){T7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function T7(e,t,n){return(t=A7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A7(e){var t=C7(e,"string");return typeof t=="symbol"?t:t+""}function C7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N7=e=>{var{viewBox:t,position:n,offset:r=0,parentViewBox:i}=e,{x:a,y:l,height:u,upperWidth:f,lowerWidth:d}=fx(t),h=a,m=a+(f-d)/2,v=(h+m)/2,_=(f+d)/2,S=h+f/2,E=u>=0?1:-1,T=E*r,C=E>0?"end":"start",P=E>0?"start":"end",I=f>=0?1:-1,O=I*r,R=I>0?"end":"start",D=I>0?"start":"end",M=i;if(n==="top"){var z={x:h+f/2,y:l-T,horizontalAnchor:"middle",verticalAnchor:C};return M&&(z.height=Math.max(l-M.y,0),z.width=f),z}if(n==="bottom"){var U={x:m+d/2,y:l+u+T,horizontalAnchor:"middle",verticalAnchor:P};return M&&(U.height=Math.max(M.y+M.height-(l+u),0),U.width=d),U}if(n==="left"){var K={x:v-O,y:l+u/2,horizontalAnchor:R,verticalAnchor:"middle"};return M&&(K.width=Math.max(K.x-M.x,0),K.height=u),K}if(n==="right"){var L={x:v+_+O,y:l+u/2,horizontalAnchor:D,verticalAnchor:"middle"};return M&&(L.width=Math.max(M.x+M.width-L.x,0),L.height=u),L}var q=M?{width:_,height:u}:{};return n==="insideLeft"?Jr({x:v+O,y:l+u/2,horizontalAnchor:D,verticalAnchor:"middle"},q):n==="insideRight"?Jr({x:v+_-O,y:l+u/2,horizontalAnchor:R,verticalAnchor:"middle"},q):n==="insideTop"?Jr({x:h+f/2,y:l+T,horizontalAnchor:"middle",verticalAnchor:P},q):n==="insideBottom"?Jr({x:m+d/2,y:l+u-T,horizontalAnchor:"middle",verticalAnchor:C},q):n==="insideTopLeft"?Jr({x:h+O,y:l+T,horizontalAnchor:D,verticalAnchor:P},q):n==="insideTopRight"?Jr({x:h+f-O,y:l+T,horizontalAnchor:R,verticalAnchor:P},q):n==="insideBottomLeft"?Jr({x:m+O,y:l+u-T,horizontalAnchor:D,verticalAnchor:C},q):n==="insideBottomRight"?Jr({x:m+d-O,y:l+u-T,horizontalAnchor:R,verticalAnchor:C},q):n&&typeof n=="object"&&(be(n.x)||Ro(n.x))&&(be(n.y)||Ro(n.y))?Jr({x:a+En(n.x,_),y:l+En(n.y,u),horizontalAnchor:"end",verticalAnchor:"end"},q):Jr({x:S,y:l+u/2,horizontalAnchor:"middle",verticalAnchor:"middle"},q)},O7=["labelRef"],I7=["content"];function pO(e,t){if(e==null)return{};var n,r,i=P7(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function P7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function mO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mO(Object(n),!0).forEach(function(r){R7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function R7(e,t,n){return(t=M7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M7(e){var t=D7(e,"string");return typeof t=="symbol"?t:t+""}function D7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ni(){return Ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ni.apply(null,arguments)}var z2=A.createContext(null),k7=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:l,children:u}=e,f=A.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:l}),[t,n,r,i,a,l]);return A.createElement(z2.Provider,{value:f},u)},$2=()=>{var e=A.useContext(z2),t=mp();return e||(t?fx(t):void 0)},j7=A.createContext(null),L7=()=>{var e=A.useContext(j7),t=Ee(Nk);return e||t},U7=e=>{var{value:t,formatter:n}=e,r=Mt(e.children)?t:e.children;return typeof n=="function"?n(r):r},C_=e=>e!=null&&typeof e=="function",z7=(e,t)=>{var n=on(t-e),r=Math.min(Math.abs(t-e),360);return n*r},$7=(e,t,n,r,i)=>{var{offset:a,className:l}=e,{cx:u,cy:f,innerRadius:d,outerRadius:h,startAngle:m,endAngle:v,clockWise:_}=i,S=(d+h)/2,E=z7(m,v),T=E>=0?1:-1,C,P;switch(t){case"insideStart":C=m+T*a,P=_;break;case"insideEnd":C=v-T*a,P=!_;break;case"end":C=v+T*a,P=_;break;default:throw new Error("Unsupported position ".concat(t))}P=E<=0?P:!P;var I=Ft(u,f,S,C),O=Ft(u,f,S,C+(P?1:-1)*359),R="M".concat(I.x,",").concat(I.y,`
    A`).concat(S,",").concat(S,",0,1,").concat(P?0:1,`,
    `).concat(O.x,",").concat(O.y),D=Mt(e.id)?Ju("recharts-radial-line-"):e.id;return A.createElement("text",Ni({},r,{dominantBaseline:"central",className:Qe("recharts-radial-bar-label",l)}),A.createElement("defs",null,A.createElement("path",{id:D,d:R})),A.createElement("textPath",{xlinkHref:"#".concat(D)},n))},B7=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:l,startAngle:u,endAngle:f}=e,d=(u+f)/2;if(n==="outside"){var{x:h,y:m}=Ft(r,i,l+t,d);return{x:h,y:m,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var v=(a+l)/2,{x:_,y:S}=Ft(r,i,v,d);return{x:_,y:S,textAnchor:"middle",verticalAnchor:"middle"}},Lf=e=>e!=null&&"cx"in e&&be(e.cx),q7={angle:0,offset:5,zIndex:Gt.label,position:"middle",textBreakAll:!1};function F7(e){if(!Lf(e))return e;var{cx:t,cy:n,outerRadius:r}=e,i=r*2;return{x:t-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function Aa(e){var t=Vt(e,q7),{viewBox:n,parentViewBox:r,position:i,value:a,children:l,content:u,className:f="",textBreakAll:d,labelRef:h}=t,m=L7(),v=$2(),_=i==="center"?v:m??v,S,E,T;n==null?S=_:Lf(n)?S=n:S=fx(n);var C=F7(S);if(!S||Mt(a)&&Mt(l)&&!A.isValidElement(u)&&typeof u!="function")return null;var P=Bu(Bu({},t),{},{viewBox:S});if(A.isValidElement(u)){var{labelRef:I}=P,O=pO(P,O7);return A.cloneElement(u,O)}if(typeof u=="function"){var{content:R}=P,D=pO(P,I7);if(E=A.createElement(u,D),A.isValidElement(E))return E}else E=U7(t);var M=In(t);if(Lf(S)){if(i==="insideStart"||i==="insideEnd"||i==="end")return $7(t,i,E,M,S);T=B7(S,t.offset,t.position)}else{if(!C)return null;var z=N7({viewBox:C,position:i,offset:t.offset,parentViewBox:Lf(r)?void 0:r});T=Bu(Bu({x:z.x,y:z.y,textAnchor:z.horizontalAnchor,verticalAnchor:z.verticalAnchor},z.width!==void 0?{width:z.width}:{}),z.height!==void 0?{height:z.height}:{})}return A.createElement(Gn,{zIndex:t.zIndex},A.createElement(zp,Ni({ref:h,className:Qe("recharts-label",f)},M,T,{textAnchor:x7(M.textAnchor)?M.textAnchor:T.textAnchor,breakAll:d}),E))}Aa.displayName="Label";var G7=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?A.createElement(Aa,Ni({key:"label-implicit"},r)):ti(e)?A.createElement(Aa,Ni({key:"label-implicit",value:e},r)):A.isValidElement(e)?e.type===Aa?A.cloneElement(e,Bu({key:"label-implicit"},r)):A.createElement(Aa,Ni({key:"label-implicit",content:e},r)):C_(e)?A.createElement(Aa,Ni({key:"label-implicit",content:e},r)):e&&typeof e=="object"?A.createElement(Aa,Ni({},e,{key:"label-implicit"},r)):null};function H7(e){var{label:t,labelRef:n}=e,r=$2();return G7(t,r,n)||null}var By={},qy={},gO;function V7(){return gO||(gO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(qy)),qy}var Fy={},vO;function K7(){return vO||(vO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(Fy)),Fy}var yO;function Y7(){return yO||(yO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V7(),n=K7(),r=tx();function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(By)),By}var Gy,bO;function W7(){return bO||(bO=1,Gy=Y7().last),Gy}var J7=W7();const X7=Br(J7);var Z7=["valueAccessor"],Q7=["dataKey","clockWise","id","textBreakAll","zIndex"];function Oh(){return Oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oh.apply(null,arguments)}function xO(e,t){if(e==null)return{};var n,r,i=eY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function eY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var tY=e=>Array.isArray(e.value)?X7(e.value):e.value,B2=A.createContext(void 0),q2=B2.Provider,F2=A.createContext(void 0),nY=F2.Provider;function rY(){return A.useContext(B2)}function iY(){return A.useContext(F2)}function Uf(e){var{valueAccessor:t=tY}=e,n=xO(e,Z7),{dataKey:r,clockWise:i,id:a,textBreakAll:l,zIndex:u}=n,f=xO(n,Q7),d=rY(),h=iY(),m=d||h;return!m||!m.length?null:A.createElement(Gn,{zIndex:u??Gt.label},A.createElement(Lt,{className:"recharts-label-list"},m.map((v,_)=>{var S,E=Mt(r)?t(v,_):ft(v.payload,r),T=Mt(a)?{}:{id:"".concat(a,"-").concat(_)};return A.createElement(Aa,Oh({key:"label-".concat(_)},In(v),f,T,{fill:(S=n.fill)!==null&&S!==void 0?S:v.fill,parentViewBox:v.parentViewBox,value:E,textBreakAll:l,viewBox:v.viewBox,index:_,zIndex:0}))})))}Uf.displayName="LabelList";function N_(e){var{label:t}=e;return t?t===!0?A.createElement(Uf,{key:"labelList-implicit"}):A.isValidElement(t)||C_(t)?A.createElement(Uf,{key:"labelList-implicit",content:t}):typeof t=="object"?A.createElement(Uf,Oh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function ob(){return ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ob.apply(null,arguments)}var G2=e=>{var{cx:t,cy:n,r,className:i}=e,a=Qe("recharts-dot",i);return be(t)&&be(n)&&be(r)?A.createElement("circle",ob({},qn(e),ex(e),{className:a,cx:t,cy:n,r})):null},H2=e=>e.graphicalItems.polarItems,aY=X([Ct,Rc],Jx),$p=X([H2,Dt,aY],Xx),oY=X([$p],Zx),Bp=X([oY,Tp],Qx),sY=X([Bp,Dt,$p],t_);X([Bp,Dt,$p],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var a,l=ft(r,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:ft(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var _O=()=>{},lY=X([Bp,Dt,$p,kp,Ct],a_),uY=X([Dt,r_,i_,_O,lY,_O,We,Ct],o_),V2=X([Dt,We,Bp,sY,Pc,Ct,uY],s_),cY=X([V2,Sl,Fa],c_),dY=X([Dt,V2,cY,Ct],f_);X([Fa,dY],Ik);var fY={radiusAxis:{},angleAxis:{}},K2=Fn({name:"polarAxis",initialState:fY,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Ece,removeRadiusAxis:Tce,addAngleAxis:Ace,removeAngleAxis:Cce}=K2.actions,hY=K2.reducer;function Y2(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}function wO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function SO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wO(Object(n),!0).forEach(function(r){pY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pY(e,t,n){return(t=mY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mY(e){var t=gY(e,"string");return typeof t=="symbol"?t:t+""}function gY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vY=(e,t)=>t,O_=X([H2,vY],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),yY=[],I_=(e,t,n)=>(n==null?void 0:n.length)===0?yY:n,W2=X([Tp,O_,I_],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>SO(SO({},t.presentationProps),a.props))),i!=null)return i}}),bY=X([W2,O_,I_],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var a,l=ft(r,t.nameKey,t.name),u;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?u=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=t.fill,{value:yl(l,t.dataKey),color:u,payload:r,type:t.legendType}})}),xY=X([W2,O_,I_,Jt],(e,t,n,r)=>{if(!(t==null||e==null))return _W({offset:r,pieSettings:t,displayedData:e,cells:n})}),Hy={exports:{}},dt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EO;function _Y(){if(EO)return dt;EO=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),_=Symbol.for("react.client.reference");function S(E){if(typeof E=="object"&&E!==null){var T=E.$$typeof;switch(T){case e:switch(E=E.type,E){case n:case i:case r:case f:case d:case v:return E;default:switch(E=E&&E.$$typeof,E){case l:case u:case m:case h:return E;case a:return E;default:return T}}case t:return T}}}return dt.ContextConsumer=a,dt.ContextProvider=l,dt.Element=e,dt.ForwardRef=u,dt.Fragment=n,dt.Lazy=m,dt.Memo=h,dt.Portal=t,dt.Profiler=i,dt.StrictMode=r,dt.Suspense=f,dt.SuspenseList=d,dt.isContextConsumer=function(E){return S(E)===a},dt.isContextProvider=function(E){return S(E)===l},dt.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===e},dt.isForwardRef=function(E){return S(E)===u},dt.isFragment=function(E){return S(E)===n},dt.isLazy=function(E){return S(E)===m},dt.isMemo=function(E){return S(E)===h},dt.isPortal=function(E){return S(E)===t},dt.isProfiler=function(E){return S(E)===i},dt.isStrictMode=function(E){return S(E)===r},dt.isSuspense=function(E){return S(E)===f},dt.isSuspenseList=function(E){return S(E)===d},dt.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===f||E===d||typeof E=="object"&&E!==null&&(E.$$typeof===m||E.$$typeof===h||E.$$typeof===l||E.$$typeof===a||E.$$typeof===u||E.$$typeof===_||E.getModuleId!==void 0)},dt.typeOf=S,dt}var TO;function wY(){return TO||(TO=1,Hy.exports=_Y()),Hy.exports}var SY=wY(),AO=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",CO=null,Vy=null,J2=e=>{if(e===CO&&Array.isArray(Vy))return Vy;var t=[];return A.Children.forEach(e,n=>{Mt(n)||(SY.isFragment(n)?t=t.concat(J2(n.props.children)):t.push(n))}),Vy=t,CO=e,t};function P_(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>AO(i)):r=[AO(t)],J2(e).forEach(i=>{var a=Po(i,"type.displayName")||Po(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var X2=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Ky={},NO;function EY(){return NO||(NO=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(Ky)),Ky}var Yy,OO;function TY(){return OO||(OO=1,Yy=EY().isPlainObject),Yy}var AY=TY();const CY=Br(AY);var IO,PO,RO,MO,DO;function kO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kO(Object(n),!0).forEach(function(r){NY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NY(e,t,n){return(t=OY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OY(e){var t=IY(e,"string");return typeof t=="symbol"?t:t+""}function IY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ih(){return Ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ih.apply(null,arguments)}function Du(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var LO=(e,t,n,r,i)=>{var a=n-r,l;return l=Pt(IO||(IO=Du(["M ",",",""])),e,t),l+=Pt(PO||(PO=Du(["L ",",",""])),e+n,t),l+=Pt(RO||(RO=Du(["L ",",",""])),e+n-a/2,t+i),l+=Pt(MO||(MO=Du(["L ",",",""])),e+n-a/2-r,t+i),l+=Pt(DO||(DO=Du(["L ",","," Z"])),e,t),l},PY={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},RY=e=>{var t=Vt(e,PY),{x:n,y:r,upperWidth:i,lowerWidth:a,height:l,className:u}=t,{animationEasing:f,animationDuration:d,animationBegin:h,isUpdateAnimationActive:m}=t,v=A.useRef(null),[_,S]=A.useState(-1),E=A.useRef(i),T=A.useRef(a),C=A.useRef(l),P=A.useRef(n),I=A.useRef(r),O=Ac(e,"trapezoid-");if(A.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var ae=v.current.getTotalLength();ae&&S(ae)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||l!==+l||i===0&&a===0||l===0)return null;var R=Qe("recharts-trapezoid",u);if(!m)return A.createElement("g",null,A.createElement("path",Ih({},In(t),{className:R,d:LO(n,r,i,a,l)})));var D=E.current,M=T.current,z=C.current,U=P.current,K=I.current,L="0px ".concat(_===-1?1:_,"px"),q="".concat(_,"px 0px"),Z=yD(["strokeDasharray"],d,f);return A.createElement(Tc,{animationId:O,key:O,canBegin:_>0,duration:d,easing:f,isActive:m,begin:h},ae=>{var se=St(D,i,ae),j=St(M,a,ae),G=St(z,l,ae),W=St(U,n,ae),re=St(K,r,ae);v.current&&(E.current=se,T.current=j,C.current=G,P.current=W,I.current=re);var he=ae>0?{transition:Z,strokeDasharray:q}:{strokeDasharray:L};return A.createElement("path",Ih({},In(t),{className:R,d:LO(W,re,se,j,G),ref:v,style:jO(jO({},he),t.style)}))})},MY=["option","shapeType","activeClassName"];function DY(e,t){if(e==null)return{};var n,r,i=kY(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function UO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ph(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UO(Object(n),!0).forEach(function(r){jY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jY(e,t,n){return(t=LY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LY(e){var t=UY(e,"string");return typeof t=="symbol"?t:t+""}function UY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zY(e,t){return Ph(Ph({},t),e)}function $Y(e,t){return e==="symbols"}function zO(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return A.createElement(wD,n);case"trapezoid":return A.createElement(RY,n);case"sector":return A.createElement(AD,n);case"symbols":if($Y(t))return A.createElement(Qb,n);break;case"curve":return A.createElement(tl,n);default:return null}}function BY(e){return A.isValidElement(e)?e.props:e}function Z2(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,i=DY(e,MY),a;if(A.isValidElement(t))a=A.cloneElement(t,Ph(Ph({},i),BY(t)));else if(typeof t=="function")a=t(i,i.index);else if(CY(t)&&typeof t!="boolean"){var l=zY(t,i);a=A.createElement(zO,{shapeType:n,elementProps:l})}else{var u=i;a=A.createElement(zO,{shapeType:n,elementProps:u})}return i.isActive?A.createElement(Lt,{className:r},a):a}var R_=(e,t,n)=>{var r=vt();return(i,a)=>l=>{e==null||e(i,a,l),r(o2({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},M_=e=>{var t=vt();return(n,r)=>i=>{e==null||e(n,r,i),t(G8())}},D_=(e,t,n)=>{var r=vt();return(i,a)=>l=>{e==null||e(i,a,l),r(H8({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function k_(e){var{tooltipEntrySettings:t}=e,n=vt(),r=Tn(),i=A.useRef(null);return A.useLayoutEffect(()=>{r||(i.current===null?n($8(t)):i.current!==t&&n(B8({prev:i.current,next:t})),i.current=t)},[t,n,r]),A.useLayoutEffect(()=>()=>{i.current&&(n(q8(i.current)),i.current=null)},[n]),null}function Q2(e){var{legendPayload:t}=e,n=vt(),r=Tn(),i=A.useRef(null);return A.useLayoutEffect(()=>{r||(i.current===null?n(pD(t)):i.current!==t&&n(mD({prev:i.current,next:t})),i.current=t)},[n,r,t]),A.useLayoutEffect(()=>()=>{i.current&&(n(gD(i.current)),i.current=null)},[n]),null}function qY(e){var{legendPayload:t}=e,n=vt(),r=Ee(We),i=A.useRef(null);return A.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(pD(t)):i.current!==t&&n(mD({prev:i.current,next:t})),i.current=t)},[n,r,t]),A.useLayoutEffect(()=>()=>{i.current&&(n(gD(i.current)),i.current=null)},[n]),null}var Wy,FY=()=>{var[e]=A.useState(()=>Ju("uid-"));return e},GY=(Wy=Cz.useId)!==null&&Wy!==void 0?Wy:FY;function HY(e,t){var n=GY();return t||(e?"".concat(e,"-").concat(n):n)}var VY=A.createContext(void 0),j_=e=>{var{id:t,type:n,children:r}=e,i=HY("recharts-".concat(n),t);return A.createElement(VY.Provider,{value:i},r(i))},KY={cartesianItems:[],polarItems:[]},ej=Fn({name:"graphicalItems",initialState:KY,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Tt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=jr(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:Tt()},removeCartesianGraphicalItem:{reducer(e,t){var n=jr(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:Tt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Tt()},removePolarGraphicalItem:{reducer(e,t){var n=jr(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:Tt()}}}),{addCartesianGraphicalItem:YY,replaceCartesianGraphicalItem:WY,removeCartesianGraphicalItem:JY,addPolarGraphicalItem:XY,removePolarGraphicalItem:ZY}=ej.actions,QY=ej.reducer,eW=e=>{var t=vt(),n=A.useRef(null);return A.useLayoutEffect(()=>{n.current===null?t(YY(e)):n.current!==e&&t(WY({prev:n.current,next:e})),n.current=e},[t,e]),A.useLayoutEffect(()=>()=>{n.current&&(t(JY(n.current)),n.current=null)},[t]),null},tj=A.memo(eW);function tW(e){var t=vt();return A.useLayoutEffect(()=>(t(XY(e)),()=>{t(ZY(e))}),[t,e]),null}var nW=["key"],rW=["onMouseEnter","onClick","onMouseLeave"],iW=["id"],aW=["id"];function $O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$O(Object(n),!0).forEach(function(r){oW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$O(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oW(e,t,n){return(t=sW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sW(e){var t=lW(e,"string");return typeof t=="symbol"?t:t+""}function lW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $a(){return $a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$a.apply(null,arguments)}function qp(e,t){if(e==null)return{};var n,r,i=uW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function uW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function cW(e){var t=A.useMemo(()=>P_(e.children,Ri),[e.children]),n=Ee(r=>bY(r,e.id,t));return n==null?null:A.createElement(qY,{legendPayload:n})}var dW=A.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:l,name:u,hide:f,tooltipType:d,id:h}=e,m={dataDefinedOnItem:r.map(v=>v.tooltipPayload),getPosition:v=>{var _;return(_=r[Number(v)])===null||_===void 0?void 0:_.tooltipPosition},settings:{stroke:i,strokeWidth:a,fill:l,dataKey:t,nameKey:n,name:yl(u,t),hide:f,type:d,color:l,unit:"",graphicalItemId:h}};return A.createElement(k_,{tooltipEntrySettings:m})}),fW=(e,t)=>e>t?"start":e<t?"end":"middle",hW=(e,t,n)=>En(typeof t=="function"?t(e):t,n,n*.8),pW=(e,t,n)=>{var{top:r,left:i,width:a,height:l}=t,u=SD(a,l),f=i+En(e.cx,a,a/2),d=r+En(e.cy,l,l/2),h=En(e.innerRadius,u,0),m=hW(n,e.outerRadius,u),v=e.maxRadius||Math.sqrt(a*a+l*l)/2;return{cx:f,cy:d,innerRadius:h,outerRadius:m,maxRadius:v}},mW=(e,t)=>{var n=on(t-e),r=Math.min(Math.abs(t-e),360);return n*r},gW=(e,t)=>{if(A.isValidElement(e))return A.cloneElement(e,t);if(typeof e=="function")return e(t);var n=Qe("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,i=qp(t,nW);return A.createElement(tl,$a({},i,{type:"linear",className:n}))},vW=(e,t,n)=>{if(A.isValidElement(e))return A.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),A.isValidElement(r)))return r;var i=Qe("recharts-pie-label-text",Y2(e));return A.createElement(zp,$a({},t,{alignmentBaseline:"middle",className:i}),r)};function yW(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:a,dataKey:l}=n;if(!r||!i||!t)return null;var u=qn(n),f=Oo(i),d=Oo(a),h=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,m=t.map((v,_)=>{var S=(v.startAngle+v.endAngle)/2,E=Ft(v.cx,v.cy,v.outerRadius+h,S),T=Rt(Rt(Rt(Rt({},u),v),{},{stroke:"none"},f),{},{index:_,textAnchor:fW(E.x,v.cx)},E),C=Rt(Rt(Rt(Rt({},u),v),{},{fill:"none",stroke:v.fill},d),{},{index:_,points:[Ft(v.cx,v.cy,v.outerRadius,S),E],key:"line"});return A.createElement(Gn,{zIndex:Gt.label,key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(_)},A.createElement(Lt,null,a&&gW(a,C),vW(i,T,ft(v,l))))});return A.createElement(Lt,{className:"recharts-pie-labels"},m)}function bW(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?A.createElement(N_,{label:i}):A.createElement(yW,{sectors:t,props:n,showLabels:r})}function xW(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:a,id:l}=e,u=Ee(za),f=Ee(__),d=Ee(IK),{onMouseEnter:h,onClick:m,onMouseLeave:v}=i,_=qp(i,rW),S=R_(h,i.dataKey,l),E=M_(v),T=D_(m,i.dataKey,l);return t==null||t.length===0?null:A.createElement(A.Fragment,null,t.map((C,P)=>{if((C==null?void 0:C.startAngle)===0&&(C==null?void 0:C.endAngle)===0&&t.length!==1)return null;var I=d==null||d===l,O=String(P)===u&&(f==null||i.dataKey===f)&&I,R=u?r:null,D=n&&O?n:R,M=Rt(Rt({},C),{},{stroke:C.stroke,tabIndex:-1,[eD]:P,[tD]:l});return A.createElement(Lt,$a({key:"sector-".concat(C==null?void 0:C.startAngle,"-").concat(C==null?void 0:C.endAngle,"-").concat(C.midAngle,"-").concat(P),tabIndex:-1,className:"recharts-pie-sector"},yc(_,C,P),{onMouseEnter:S(C,P),onMouseLeave:E(C,P),onClick:T(C,P)}),A.createElement(Z2,$a({option:a??D,index:P,shapeType:"sector",isActive:O},M)))}))}function _W(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:a}=e,{cornerRadius:l,startAngle:u,endAngle:f,dataKey:d,nameKey:h,tooltipType:m}=n,v=Math.abs(n.minAngle),_=mW(u,f),S=Math.abs(_),E=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,T=r.filter(D=>ft(D,d,0)!==0).length,C=(S>=360?T:T-1)*E,P=S-T*v-C,I=r.reduce((D,M)=>{var z=ft(M,d,0);return D+(be(z)?z:0)},0),O;if(I>0){var R;O=r.map((D,M)=>{var z=ft(D,d,0),U=ft(D,h,M),K=pW(n,a,D),L=(be(z)?z:0)/I,q,Z=Rt(Rt({},D),i&&i[M]&&i[M].props);M?q=R.endAngle+on(_)*E*(z!==0?1:0):q=u;var ae=q+on(_)*((z!==0?v:0)+L*P),se=(q+ae)/2,j=(K.innerRadius+K.outerRadius)/2,G=[{name:U,value:z,payload:Z,dataKey:d,type:m,graphicalItemId:n.id}],W=Ft(K.cx,K.cy,j,se);return R=Rt(Rt(Rt(Rt({},n.presentationProps),{},{percent:L,cornerRadius:typeof l=="string"?parseFloat(l):l,name:U,tooltipPayload:G,midAngle:se,middleRadius:j,tooltipPosition:W},Z),K),{},{value:z,dataKey:d,startAngle:q,endAngle:ae,payload:Z,paddingAngle:on(_)*E}),R})}return O}function wW(e){var{showLabels:t,sectors:n,children:r}=e,i=A.useMemo(()=>!t||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,t]);return A.createElement(nY,{value:t?i:void 0},r)}function SW(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:i,isAnimationActive:a,animationBegin:l,animationDuration:u,animationEasing:f,activeShape:d,inactiveShape:h,onAnimationStart:m,onAnimationEnd:v}=t,_=Ac(t,"recharts-pie-"),S=n.current,[E,T]=A.useState(!1),C=A.useCallback(()=>{typeof v=="function"&&v(),T(!1)},[v]),P=A.useCallback(()=>{typeof m=="function"&&m(),T(!0)},[m]);return A.createElement(wW,{showLabels:!E,sectors:i},A.createElement(Tc,{animationId:_,begin:l,duration:u,isActive:a,easing:f,onAnimationStart:P,onAnimationEnd:C,key:_},I=>{var O,R=[],D=i&&i[0],M=(O=D==null?void 0:D.startAngle)!==null&&O!==void 0?O:0;return i==null||i.forEach((z,U)=>{var K=S&&S[U],L=U>0?Po(z,"paddingAngle",0):0;if(K){var q=St(K.endAngle-K.startAngle,z.endAngle-z.startAngle,I),Z=Rt(Rt({},z),{},{startAngle:M+L,endAngle:M+q+L});R.push(Z),M=Z.endAngle}else{var{endAngle:ae,startAngle:se}=z,j=St(0,ae-se,I),G=Rt(Rt({},z),{},{startAngle:M+L,endAngle:M+j+L});R.push(G),M=G.endAngle}}),n.current=R,A.createElement(Lt,null,A.createElement(xW,{sectors:R,activeShape:d,inactiveShape:h,allOtherPieProps:t,shape:t.shape,id:r}))}),A.createElement(bW,{showLabels:!E,sectors:i,props:t}),t.children)}var EW={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Gt.area};function TW(e){var{id:t}=e,n=qp(e,iW),{hide:r,className:i,rootTabIndex:a}=e,l=A.useMemo(()=>P_(e.children,Ri),[e.children]),u=Ee(h=>xY(h,t,l)),f=A.useRef(null),d=Qe("recharts-pie",i);return r||u==null?(f.current=null,A.createElement(Lt,{tabIndex:a,className:d})):A.createElement(Gn,{zIndex:e.zIndex},A.createElement(dW,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:u,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),A.createElement(Lt,{tabIndex:a,className:d},A.createElement(SW,{props:Rt(Rt({},n),{},{sectors:u}),previousSectorsRef:f,id:t})))}function rl(e){var t=Vt(e,EW),{id:n}=t,r=qp(t,aW),i=qn(r);return A.createElement(j_,{id:n,type:"pie"},a=>A.createElement(A.Fragment,null,A.createElement(tW,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),A.createElement(cW,$a({},r,{id:a})),A.createElement(TW,$a({},r,{id:a}))))}rl.displayName="Pie";var AW=["points"];function BO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Jy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BO(Object(n),!0).forEach(function(r){CW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CW(e,t,n){return(t=NW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NW(e){var t=OW(e,"string");return typeof t=="symbol"?t:t+""}function OW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rh(){return Rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rh.apply(null,arguments)}function IW(e,t){if(e==null)return{};var n,r,i=PW(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function PW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function RW(e){var{option:t,dotProps:n,className:r}=e;if(A.isValidElement(t))return A.cloneElement(t,n);if(typeof t=="function")return t(n);var i=Qe(r,typeof t!="boolean"?t.className:""),a=n??{},{points:l}=a,u=IW(a,AW);return A.createElement(G2,Rh({},u,{className:i}))}function MW(e,t){return e==null?!1:t?!0:e.length===1}function DW(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:l,needClip:u,clipPathId:f,zIndex:d=Gt.scatter}=e;if(!MW(t,n))return null;var h=X2(n),m=J$(n),v=t.map((S,E)=>{var T,C,P=Jy(Jy(Jy({r:3},l),m),{},{index:E,cx:(T=S.x)!==null&&T!==void 0?T:void 0,cy:(C=S.y)!==null&&C!==void 0?C:void 0,dataKey:a,value:S.value,payload:S.payload,points:t});return A.createElement(RW,{key:"dot-".concat(E),option:n,dotProps:P,className:i})}),_={};return u&&f!=null&&(_.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(f,")")),A.createElement(Gn,{zIndex:d},A.createElement(Lt,Rh({className:r},_),v))}function qO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function FO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qO(Object(n),!0).forEach(function(r){kW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kW(e,t,n){return(t=jW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jW(e){var t=LW(e,"string");return typeof t=="symbol"?t:t+""}function LW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nj=0,UW={xAxis:{},yAxis:{},zAxis:{}},rj=Fn({name:"cartesianAxis",initialState:UW,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Tt()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:Tt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Tt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Tt()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:Tt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Tt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Tt()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:Tt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Tt()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a,l=i.widthHistory||[];if(l.length===3&&l[0]===l[2]&&r===l[1]&&r!==i.width&&Math.abs(r-((a=l[0])!==null&&a!==void 0?a:0))<=1)return;var u=[...l,r].slice(-3);e.yAxis[n]=FO(FO({},i),{},{width:r,widthHistory:u})}}}}),{addXAxis:zW,replaceXAxis:$W,removeXAxis:BW,addYAxis:qW,replaceYAxis:FW,removeYAxis:GW,addZAxis:Nce,replaceZAxis:Oce,removeZAxis:Ice,updateYAxisWidth:HW}=rj.actions,VW=rj.reducer,KW=X([Jt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),YW=X([KW,qi,Fi],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),L_=()=>Ee(YW),WW=()=>Ee(kK);function GO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GO(Object(n),!0).forEach(function(r){JW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function JW(e,t,n){return(t=XW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XW(e){var t=ZW(e,"string");return typeof t=="symbol"?t:t+""}function ZW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QW=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:l}=e;if(i===!1||t.x==null||t.y==null)return null;var u={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},f=Xy(Xy(Xy({},u),Oo(i)),ex(i)),d;return A.isValidElement(i)?d=A.cloneElement(i,f):typeof i=="function"?d=i(f):d=A.createElement(G2,f),A.createElement(Lt,{className:"recharts-active-dot",clipPath:l},d)};function HO(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:l=Gt.activeDot}=e,u=Ee(za),f=WW();if(t==null||f==null)return null;var d=t.find(h=>f.includes(h.payload));return Mt(d)?null:A.createElement(Gn,{zIndex:l},A.createElement(QW,{point:d,childIndex:Number(u),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var VO=(e,t,n)=>{var r=n??e;if(!Mt(r))return En(r,t,0)},eJ=(e,t,n)=>{var r={},i=e.filter(Ip),a=e.filter(d=>d.stackId==null),l=i.reduce((d,h)=>{var m=d[h.stackId];return m==null&&(m=[]),m.push(h),d[h.stackId]=m,d},r),u=Object.entries(l).map(d=>{var h,[m,v]=d,_=v.map(E=>E.dataKey),S=VO(t,n,(h=v[0])===null||h===void 0?void 0:h.barSize);return{stackId:m,dataKeys:_,barSize:S}}),f=a.map(d=>{var h=[d.dataKey].filter(v=>v!=null),m=VO(t,n,d.barSize);return{stackId:void 0,dataKeys:h,barSize:m}});return[...u,...f]};function KO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KO(Object(n),!0).forEach(function(r){tJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tJ(e,t,n){return(t=nJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nJ(e){var t=rJ(e,"string");return typeof t=="symbol"?t:t+""}function rJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iJ(e,t,n,r,i){var a,l=r.length;if(!(l<1)){var u=En(e,n,0,!0),f,d=[];if(qe((a=r[0])===null||a===void 0?void 0:a.barSize)){var h=!1,m=n/l,v=r.reduce((P,I)=>P+(I.barSize||0),0);v+=(l-1)*u,v>=n&&(v-=(l-1)*u,u=0),v>=n&&m>0&&(h=!0,m*=.9,v=l*m);var _=(n-v)/2>>0,S={offset:_-u,size:0};f=r.reduce((P,I)=>{var O,R={stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:S.offset+S.size+u,size:h?m:(O=I.barSize)!==null&&O!==void 0?O:0}},D=[...P,R];return S=R.position,D},d)}else{var E=En(t,n,0,!0);n-2*E-(l-1)*u<=0&&(u=0);var T=(n-2*E-(l-1)*u)/l;T>1&&(T>>=0);var C=qe(i)?Math.min(T,i):T;f=r.reduce((P,I,O)=>[...P,{stackId:I.stackId,dataKeys:I.dataKeys,position:{offset:E+(T+u)*O+(T-C)/2,size:C}}],d)}return f}}var aJ=(e,t,n,r,i,a,l)=>{var u=Mt(l)?t:l,f=iJ(n,r,i!==a?i:a,e,u);return i!==a&&f!=null&&(f=f.map(d=>bf(bf({},d),{},{position:bf(bf({},d.position),{},{offset:d.position.offset-i/2})}))),f},oJ=(e,t)=>{var n=Op(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var i=e[r];if(i){var{stackedData:a}=i;if(a)return a.find(l=>l.key===n)}}}},sJ=(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}};function lJ(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&qe(e.zIndex)?e.zIndex:t}var ij=e=>{var{chartData:t}=e,n=vt(),r=Tn();return A.useEffect(()=>r?()=>{}:(n(ZN(t)),()=>{n(ZN(void 0))}),[t,n,r]),null},YO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},aj=Fn({name:"brush",initialState:YO,reducers:{setBrushSettings(e,t){return t.payload==null?YO:t.payload}}}),{setBrushSettings:Pce}=aj.actions,uJ=aj.reducer;function cJ(e){return(e%180+180)%180}var dJ=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=cJ(i),l=a*Math.PI/180,u=Math.atan(r/n),f=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(f)},fJ={dots:[],areas:[],lines:[]},oj=Fn({name:"referenceElements",initialState:fJ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=jr(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=jr(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=jr(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Rce,removeDot:Mce,addArea:Dce,removeArea:kce,addLine:jce,removeLine:Lce}=oj.actions,hJ=oj.reducer,pJ=A.createContext(void 0),mJ=e=>{var{children:t}=e,[n]=A.useState("".concat(Ju("recharts"),"-clip")),r=L_();if(r==null)return null;var{x:i,y:a,width:l,height:u}=r;return A.createElement(pJ.Provider,{value:n},A.createElement("defs",null,A.createElement("clipPath",{id:n},A.createElement("rect",{x:i,y:a,height:u,width:l}))),t)};function sj(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function gJ(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return dJ(r,n)}function vJ(e,t,n){var r=n==="width",{x:i,y:a,width:l,height:u}=e;return t===1?{start:r?i:a,end:r?i+l:a+u}:{start:r?i+l:a+u,end:r?i:a}}function cc(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function yJ(e,t){return sj(e,t+1)}function bJ(e,t,n,r,i){for(var a=(r||[]).slice(),{start:l,end:u}=t,f=0,d=1,h=l,m=function(){var S=r==null?void 0:r[f];if(S===void 0)return{v:sj(r,d)};var E=f,T,C=()=>(T===void 0&&(T=n(S,E)),T),P=S.coordinate,I=f===0||cc(e,P,C,h,u);I||(f=0,h=l,d+=1),I&&(h=P+e*(C()/2+i),f+=d)},v;d<=a.length;)if(v=m(),v)return v.v;return[]}function xJ(e,t,n,r,i){var a=(r||[]).slice(),l=a.length;if(l===0)return[];for(var{start:u,end:f}=t,d=1;d<=l;d++){for(var h=(l-1)%d,m=u,v=!0,_=function(){var O=r[E];if(O==null)return 0;var R=E,D,M=()=>(D===void 0&&(D=n(O,R)),D),z=O.coordinate,U=E===h||cc(e,z,M,m,f);if(!U)return v=!1,1;U&&(m=z+e*(M()/2+i))},S,E=h;E<l&&(S=_(),!(S!==0&&S===1));E+=d);if(v){for(var T=[],C=h;C<l;C+=d){var P=r[C];P!=null&&T.push(P)}return T}}return[]}function WO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WO(Object(n),!0).forEach(function(r){_J(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _J(e,t,n){return(t=wJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wJ(e){var t=SJ(e,"string");return typeof t=="symbol"?t:t+""}function SJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EJ(e,t,n,r,i){for(var a=(r||[]).slice(),l=a.length,{start:u}=t,{end:f}=t,d=function(v){var _=a[v];if(_==null)return 1;var S=_,E,T=()=>(E===void 0&&(E=n(_,v)),E);if(v===l-1){var C=e*(S.coordinate+e*T()/2-f);a[v]=S=_n(_n({},S),{},{tickCoord:C>0?S.coordinate-C*e:S.coordinate})}else a[v]=S=_n(_n({},S),{},{tickCoord:S.coordinate});if(S.tickCoord!=null){var P=cc(e,S.tickCoord,T,u,f);P&&(f=S.tickCoord-e*(T()/2+i),a[v]=_n(_n({},S),{},{isShow:!0}))}},h=l-1;h>=0;h--)d(h);return a}function TJ(e,t,n,r,i,a){var l=(r||[]).slice(),u=l.length,{start:f,end:d}=t;if(a){var h=r[u-1];if(h!=null){var m=n(h,u-1),v=e*(h.coordinate+e*m/2-d);if(l[u-1]=h=_n(_n({},h),{},{tickCoord:v>0?h.coordinate-v*e:h.coordinate}),h.tickCoord!=null){var _=cc(e,h.tickCoord,()=>m,f,d);_&&(d=h.tickCoord-e*(m/2+i),l[u-1]=_n(_n({},h),{},{isShow:!0}))}}}for(var S=a?u-1:u,E=function(P){var I=l[P];if(I==null)return 1;var O=I,R,D=()=>(R===void 0&&(R=n(I,P)),R);if(P===0){var M=e*(O.coordinate-e*D()/2-f);l[P]=O=_n(_n({},O),{},{tickCoord:M<0?O.coordinate-M*e:O.coordinate})}else l[P]=O=_n(_n({},O),{},{tickCoord:O.coordinate});if(O.tickCoord!=null){var z=cc(e,O.tickCoord,D,f,d);z&&(f=O.tickCoord+e*(D()/2+i),l[P]=_n(_n({},O),{},{isShow:!0}))}},T=0;T<S;T++)E(T);return l}function U_(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:l,orientation:u,interval:f,tickFormatter:d,unit:h,angle:m}=e;if(!i||!i.length||!r)return[];if(be(f)||Ec.isSsr){var v;return(v=yJ(i,be(f)?f:0))!==null&&v!==void 0?v:[]}var _=[],S=u==="top"||u==="bottom"?"width":"height",E=h&&S==="width"?Gu(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},T=(R,D)=>{var M=typeof d=="function"?d(R.value,D):R.value;return S==="width"?gJ(Gu(M,{fontSize:t,letterSpacing:n}),E,m):Gu(M,{fontSize:t,letterSpacing:n})[S]},C=i[0],P=i[1],I=i.length>=2&&C!=null&&P!=null?on(P.coordinate-C.coordinate):1,O=vJ(a,I,S);return f==="equidistantPreserveStart"?bJ(I,O,T,i,l):f==="equidistantPreserveEnd"?xJ(I,O,T,i,l):(f==="preserveStart"||f==="preserveStartEnd"?_=TJ(I,O,T,i,l,f==="preserveStartEnd"):_=EJ(I,O,T,i,l),_.filter(R=>R.isShow))}var AJ=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,l=0;if(t){Array.from(t).forEach(h=>{if(h){var m=h.getBoundingClientRect();m.width>l&&(l=m.width)}});var u=n?n.getBoundingClientRect().width:0,f=i+a,d=l+f+u+(n?r:0);return Math.round(d)}return 0},CJ=["axisLine","width","height","className","hide","ticks","axisType"];function NJ(e,t){if(e==null)return{};var n,r,i=OJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function OJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Lo(){return Lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lo.apply(null,arguments)}function JO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JO(Object(n),!0).forEach(function(r){IJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IJ(e,t,n){return(t=PJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PJ(e){var t=RJ(e,"string");return typeof t=="symbol"?t:t+""}function RJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mi={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Gt.axis};function MJ(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:l,axisLine:u,otherSvgProps:f}=e;if(!u)return null;var d=It(It(It({},f),qn(u)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!l||a==="bottom"&&l);d=It(It({},d),{},{x1:t,y1:n+h*i,x2:t+r,y2:n+h*i})}else{var m=+(a==="left"&&!l||a==="right"&&l);d=It(It({},d),{},{x1:t+m*r,y1:n,x2:t+m*r,y2:n+i})}return A.createElement("line",Lo({},d,{className:Qe("recharts-cartesian-axis-line",Po(u,"className"))}))}function DJ(e,t,n,r,i,a,l,u,f){var d,h,m,v,_,S,E=u?-1:1,T=e.tickSize||l,C=be(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":d=h=e.coordinate,v=n+ +!u*i,m=v-E*T,S=m-E*f,_=C;break;case"left":m=v=e.coordinate,h=t+ +!u*r,d=h-E*T,_=d-E*f,S=C;break;case"right":m=v=e.coordinate,h=t+ +u*r,d=h+E*T,_=d+E*f,S=C;break;default:d=h=e.coordinate,v=n+ +u*i,m=v+E*T,S=m+E*f,_=C;break}return{line:{x1:d,y1:m,x2:h,y2:v},tick:{x:_,y:S}}}function kJ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function jJ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function LJ(e){var{option:t,tickProps:n,value:r}=e,i,a=Qe(n.className,"recharts-cartesian-axis-tick-value");if(A.isValidElement(t))i=A.cloneElement(t,It(It({},n),{},{className:a}));else if(typeof t=="function")i=t(It(It({},n),{},{className:a}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=Qe(l,Y2(t))),i=A.createElement(zp,Lo({},n,{className:l}),r)}return i}var UJ=A.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:l,unit:u,padding:f,tickTextProps:d,orientation:h,mirror:m,x:v,y:_,width:S,height:E,tickSize:T,tickMargin:C,fontSize:P,letterSpacing:I,getTicksConfig:O,events:R,axisType:D}=e,M=U_(It(It({},O),{},{ticks:n}),P,I),z=kJ(h,m),U=jJ(h,m),K=qn(O),L=Oo(r),q={};typeof i=="object"&&(q=i);var Z=It(It({},K),{},{fill:"none"},q),ae=M.map(G=>It({entry:G},DJ(G,v,_,S,E,h,T,m,C))),se=ae.map(G=>{var{entry:W,line:re}=G;return A.createElement(Lt,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(W.value,"-").concat(W.coordinate,"-").concat(W.tickCoord)},i&&A.createElement("line",Lo({},Z,re,{className:Qe("recharts-cartesian-axis-tick-line",Po(i,"className"))})))}),j=ae.map((G,W)=>{var re,he,{entry:$,tick:J}=G,ue=It(It(It(It({verticalAnchor:U},K),{},{textAnchor:z,stroke:"none",fill:a},J),{},{index:W,payload:$,visibleTicksCount:M.length,tickFormatter:l,padding:f},d),{},{angle:(re=(he=d==null?void 0:d.angle)!==null&&he!==void 0?he:K.angle)!==null&&re!==void 0?re:0}),pe=It(It({},ue),L);return A.createElement(Lt,Lo({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},yc(R,$,W)),r&&A.createElement(LJ,{option:r,tickProps:pe,value:"".concat(typeof l=="function"?l($.value,W):$.value).concat(u||"")}))});return A.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(D,"-ticks")},j.length>0&&A.createElement(Gn,{zIndex:Gt.label},A.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(D,"-tick-labels"),ref:t},j)),se.length>0&&A.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(D,"-tick-lines")},se))}),zJ=A.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:l,ticks:u,axisType:f}=e,d=NJ(e,CJ),[h,m]=A.useState(""),[v,_]=A.useState(""),S=A.useRef(null);A.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var T;return AJ({ticks:S.current,label:(T=e.labelRef)===null||T===void 0?void 0:T.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var E=A.useCallback(T=>{if(T){var C=T.getElementsByClassName("recharts-cartesian-axis-tick-value");S.current=C;var P=C[0];if(P){var I=window.getComputedStyle(P),O=I.fontSize,R=I.letterSpacing;(O!==h||R!==v)&&(m(O),_(R))}}},[h,v]);return l||r!=null&&r<=0||i!=null&&i<=0?null:A.createElement(Gn,{zIndex:e.zIndex},A.createElement(Lt,{className:Qe("recharts-cartesian-axis",a)},A.createElement(MJ,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:qn(e)}),A.createElement(UJ,{ref:E,axisType:f,events:d,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:v,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:u,unit:e.unit,width:e.width,x:e.x,y:e.y}),A.createElement(k7,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},A.createElement(H7,{label:e.label,labelRef:e.labelRef}),e.children)))}),z_=A.forwardRef((e,t)=>{var n=Vt(e,Mi);return A.createElement(zJ,Lo({},n,{ref:t}))});z_.displayName="CartesianAxis";var $J=["x1","y1","x2","y2","key"],BJ=["offset"],qJ=["xAxisId","yAxisId"],FJ=["xAxisId","yAxisId"];function XO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XO(Object(n),!0).forEach(function(r){GJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XO(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GJ(e,t,n){return(t=HJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HJ(e){var t=VJ(e,"string");return typeof t=="symbol"?t:t+""}function VJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function So(){return So=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},So.apply(null,arguments)}function Mh(e,t){if(e==null)return{};var n,r,i=KJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function KJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var YJ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:l,ry:u}=e;return A.createElement("rect",{x:r,y:i,ry:u,width:a,height:l,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function lj(e){var{option:t,lineItemProps:n}=e,r;if(A.isValidElement(t))r=A.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:l,x2:u,y2:f,key:d}=n,h=Mh(n,$J),m=(i=qn(h))!==null&&i!==void 0?i:{},{offset:v}=m,_=Mh(m,BJ);r=A.createElement("line",So({},_,{x1:a,y1:l,x2:u,y2:f,fill:"none",key:d}))}return r}function WJ(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=e,u=Mh(e,qJ),f=i.map((d,h)=>{var m=wn(wn({},u),{},{x1:t,y1:d,x2:t+n,y2:d,key:"line-".concat(h),index:h});return A.createElement(lj,{key:"line-".concat(h),option:r,lineItemProps:m})});return A.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function JJ(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=e,u=Mh(e,FJ),f=i.map((d,h)=>{var m=wn(wn({},u),{},{x1:d,y1:t,x2:d,y2:t+n,key:"line-".concat(h),index:h});return A.createElement(lj,{option:r,lineItemProps:m,key:"line-".concat(h)})});return A.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function XJ(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:l,horizontalPoints:u,horizontal:f=!0}=e;if(!f||!t||!t.length||u==null)return null;var d=u.map(m=>Math.round(m+i-i)).sort((m,v)=>m-v);i!==d[0]&&d.unshift(0);var h=d.map((m,v)=>{var _=d[v+1],S=_==null,E=S?i+l-m:_-m;if(E<=0)return null;var T=v%t.length;return A.createElement("rect",{key:"react-".concat(v),y:m,x:r,height:E,width:a,stroke:"none",fill:t[T],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function ZJ(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:l,height:u,verticalPoints:f}=e;if(!t||!n||!n.length)return null;var d=f.map(m=>Math.round(m+i-i)).sort((m,v)=>m-v);i!==d[0]&&d.unshift(0);var h=d.map((m,v)=>{var _=d[v+1],S=_==null,E=S?i+l-m:_-m;if(E<=0)return null;var T=v%n.length;return A.createElement("rect",{key:"react-".concat(v),x:m,y:a,width:E,height:u,stroke:"none",fill:n[T],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var QJ=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return JM(U_(wn(wn(wn({},Mi),n),{},{ticks:XM(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},eX=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return JM(U_(wn(wn(wn({},Mi),n),{},{ticks:XM(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},tX={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Gt.grid};function Dh(e){var t=hx(),n=px(),r=aD(),i=wn(wn({},Vt(e,tX)),{},{x:be(e.x)?e.x:r.left,y:be(e.y)?e.y:r.top,width:be(e.width)?e.width:r.width,height:be(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:l,x:u,y:f,width:d,height:h,syncWithTicks:m,horizontalValues:v,verticalValues:_}=i,S=Tn(),E=Ee(U=>$N(U,"xAxis",a,S)),T=Ee(U=>$N(U,"yAxis",l,S));if(!ni(d)||!ni(h)||!be(u)||!be(f))return null;var C=i.verticalCoordinatesGenerator||QJ,P=i.horizontalCoordinatesGenerator||eX,{horizontalPoints:I,verticalPoints:O}=i;if((!I||!I.length)&&typeof P=="function"){var R=v&&v.length,D=P({yAxis:T?wn(wn({},T),{},{ticks:R?v:T.ticks}):void 0,width:t??d,height:n??h,offset:r},R?!0:m);ih(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(I=D)}if((!O||!O.length)&&typeof C=="function"){var M=_&&_.length,z=C({xAxis:E?wn(wn({},E),{},{ticks:M?_:E.ticks}):void 0,width:t??d,height:n??h,offset:r},M?!0:m);ih(Array.isArray(z),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof z,"]")),Array.isArray(z)&&(O=z)}return A.createElement(Gn,{zIndex:i.zIndex},A.createElement("g",{className:"recharts-cartesian-grid"},A.createElement(YJ,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),A.createElement(XJ,So({},i,{horizontalPoints:I})),A.createElement(ZJ,So({},i,{verticalPoints:O})),A.createElement(WJ,So({},i,{offset:r,horizontalPoints:I,xAxis:E,yAxis:T})),A.createElement(JJ,So({},i,{offset:r,verticalPoints:O,xAxis:E,yAxis:T}))))}Dh.displayName="CartesianGrid";var nX={},uj=Fn({name:"errorBars",initialState:nX,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Uce,replaceErrorBar:zce,removeErrorBar:$ce}=uj.actions,rX=uj.reducer,iX=["children"];function aX(e,t){if(e==null)return{};var n,r,i=oX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var sX={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},lX=A.createContext(sX);function uX(e){var{children:t}=e,n=aX(e,iX);return A.createElement(lX.Provider,{value:n},t)}function $_(e,t){var n,r,i=Ee(d=>Vi(d,e)),a=Ee(d=>Ki(d,t)),l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:nn.allowDataOverflow,u=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:rn.allowDataOverflow,f=l||u;return{needClip:f,needClipX:l,needClipY:u}}function cj(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=L_(),{needClipX:a,needClipY:l,needClip:u}=$_(t,n);if(!u||!i)return null;var{x:f,y:d,width:h,height:m}=i;return A.createElement("clipPath",{id:"clipPath-".concat(r)},A.createElement("rect",{x:a?f:f-h/2,y:l?d:d-m/2,width:a?h:h*2,height:l?m:m*2}))}function cX(e){var t=Oo(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,l=Number(i),u=Number(a);return(Number.isNaN(l)||l<0)&&(l=n),(Number.isNaN(u)||u<0)&&(u=r),{r:l,strokeWidth:u}}return{r:n,strokeWidth:r}}var Zy={exports:{}},Qy={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZO;function dX(){if(ZO)return Qy;ZO=1;var e=gl();function t(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,a=e.useEffect,l=e.useMemo,u=e.useDebugValue;return Qy.useSyncExternalStoreWithSelector=function(f,d,h,m,v){var _=i(null);if(_.current===null){var S={hasValue:!1,value:null};_.current=S}else S=_.current;_=l(function(){function T(R){if(!C){if(C=!0,P=R,R=m(R),v!==void 0&&S.hasValue){var D=S.value;if(v(D,R))return I=D}return I=R}if(D=I,n(P,R))return D;var M=m(R);return v!==void 0&&v(D,M)?(P=R,D):(P=R,I=M)}var C=!1,P,I,O=h===void 0?null:h;return[function(){return T(d())},O===null?void 0:function(){return T(O())}]},[d,h,m,v]);var E=r(f,_[0],_[1]);return a(function(){S.hasValue=!0,S.value=E},[E]),u(E),E},Qy}var QO;function fX(){return QO||(QO=1,Zy.exports=dX()),Zy.exports}fX();function hX(e){e()}function pX(){let e=null,t=null;return{clear(){e=null,t=null},notify(){hX(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var eI={notify(){},get:()=>[]};function mX(e,t){let n,r=eI,i=0,a=!1;function l(E){h();const T=r.subscribe(E);let C=!1;return()=>{C||(C=!0,T(),m())}}function u(){r.notify()}function f(){S.onStateChange&&S.onStateChange()}function d(){return a}function h(){i++,n||(n=e.subscribe(f),r=pX())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=eI)}function v(){a||(a=!0,h())}function _(){a&&(a=!1,m())}const S={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:d,trySubscribe:v,tryUnsubscribe:_,getListeners:()=>r};return S}var gX=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vX=gX(),yX=()=>typeof navigator<"u"&&navigator.product==="ReactNative",bX=yX(),xX=()=>vX||bX?A.useLayoutEffect:A.useEffect,_X=xX();function tI(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function wX(e,t){if(tI(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!tI(e[n[i]],t[n[i]]))return!1;return!0}var e0=Symbol.for("react-redux-context"),t0=typeof globalThis<"u"?globalThis:{};function SX(){if(!A.createContext)return{};const e=t0[e0]??(t0[e0]=new Map);let t=e.get(A.createContext);return t||(t=A.createContext(null),e.set(A.createContext,t)),t}var EX=SX();function TX(e){const{children:t,context:n,serverState:r,store:i}=e,a=A.useMemo(()=>{const f=mX(i);return{store:i,subscription:f,getServerState:r?()=>r:void 0}},[i,r]),l=A.useMemo(()=>i.getState(),[i]);_X(()=>{const{subscription:f}=a;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),l!==i.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[a,l]);const u=n||EX;return A.createElement(u.Provider,{value:a},t)}var AX=TX,CX=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function NX(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Fp(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(CX.has(r)){if(e[r]==null&&t[r]==null)continue;if(!wX(e[r],t[r]))return!1}else if(!NX(e[r],t[r]))return!1;return!0}function ai(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:nj}function oi(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(i=>i.id===t))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:nj}var dj=(e,t,n)=>Ua(e,"xAxis",ai(e,t),n),fj=(e,t,n)=>La(e,"xAxis",ai(e,t),n),hj=(e,t,n)=>Ua(e,"yAxis",oi(e,t),n),pj=(e,t,n)=>La(e,"yAxis",oi(e,t),n),OX=X([We,dj,hj,fj,pj],(e,t,n,r,i)=>ii(e,"xAxis")?ll(t,r,!1):ll(n,i,!1)),IX=(e,t)=>t,mj=X([Mp,IX],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),gj=e=>{var t=We(e),n=ii(t,"xAxis");return n?"yAxis":"xAxis"},PX=(e,t)=>{var n=gj(e);return n==="yAxis"?oi(e,t):ai(e,t)},RX=(e,t,n)=>Ah(e,gj(e),PX(e,t),n),MX=X([mj,RX],(e,t)=>{var n;if(!(e==null||t==null)){var{stackId:r}=e,i=Op(e);if(!(r==null||i==null)){var a=(n=t[r])===null||n===void 0?void 0:n.stackedData,l=a==null?void 0:a.find(u=>u.key===i);if(l!=null)return l.map(u=>[u[0],u[1]])}}}),DX=X([We,dj,hj,fj,pj,MX,lk,OX,mj,IV],(e,t,n,r,i,a,l,u,f,d)=>{var{chartData:h,dataStartIndex:m,dataEndIndex:v}=l;if(!(f==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||u==null)){var{data:_}=f,S;if(_&&_.length>0?S=_:S=h==null?void 0:h.slice(m,v+1),S!=null)return QX({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:m,areaSettings:f,stackedData:a,displayedData:S,chartBaseValue:d,bandSize:u})}}),kX=["id"],jX=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function No(){return No=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},No.apply(null,arguments)}function vj(e,t){if(e==null)return{};var n,r,i=LX(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function LX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function nI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Js(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nI(Object(n),!0).forEach(function(r){UX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UX(e,t,n){return(t=zX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zX(e){var t=$X(e,"string");return typeof t=="symbol"?t:t+""}function $X(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kh(e,t){return e&&e!=="none"?e:t}var BX=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:a,hide:l}=e;return[{inactive:l,dataKey:t,type:a,color:kh(r,i),value:yl(n,t),payload:e}]},qX=A.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:l,hide:u,unit:f,tooltipType:d,id:h}=e,m={dataDefinedOnItem:n,getPosition:Uo,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:yl(l,t),hide:u,type:d,color:kh(r,a),unit:f,graphicalItemId:h}};return A.createElement(k_,{tooltipEntrySettings:m})});function FX(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:a,dataKey:l}=r,u=qn(r);return A.createElement(DW,{points:n,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:l,baseProps:u,needClip:i,clipPathId:t})}function GX(e){var{showLabels:t,children:n,points:r}=e,i=r.map(a=>{var l,u,f={x:(l=a.x)!==null&&l!==void 0?l:0,y:(u=a.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Js(Js({},f),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:f,fill:void 0})});return A.createElement(q2,{value:t?i:void 0},n)}function rI(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:a}=e,{layout:l,type:u,stroke:f,connectNulls:d,isRange:h}=a,{id:m}=a,v=vj(a,kX),_=qn(v),S=In(v);return A.createElement(A.Fragment,null,(t==null?void 0:t.length)>1&&A.createElement(Lt,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},A.createElement(tl,No({},S,{id:m,points:t,connectNulls:d,type:u,baseLine:n,layout:l,stroke:"none",className:"recharts-area-area"})),f!=="none"&&A.createElement(tl,No({},_,{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:t})),f!=="none"&&h&&A.createElement(tl,No({},_,{className:"recharts-area-curve",layout:l,type:u,connectNulls:d,fill:"none",points:n}))),A.createElement(FX,{points:t,props:v,clipPathId:i}))}function HX(e){var t,n,{alpha:r,baseLine:i,points:a,strokeWidth:l}=e,u=(t=a[0])===null||t===void 0?void 0:t.y,f=(n=a[a.length-1])===null||n===void 0?void 0:n.y;if(!qe(u)||!qe(f))return null;var d=r*Math.abs(u-f),h=Math.max(...a.map(m=>m.x||0));return be(i)?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(...i.map(m=>m.x||0),h)),be(h)?A.createElement("rect",{x:0,y:u<f?u:u-d,width:h+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}function VX(e){var t,n,{alpha:r,baseLine:i,points:a,strokeWidth:l}=e,u=(t=a[0])===null||t===void 0?void 0:t.x,f=(n=a[a.length-1])===null||n===void 0?void 0:n.x;if(!qe(u)||!qe(f))return null;var d=r*Math.abs(u-f),h=Math.max(...a.map(m=>m.y||0));return be(i)?h=Math.max(i,h):i&&Array.isArray(i)&&i.length&&(h=Math.max(...i.map(m=>m.y||0),h)),be(h)?A.createElement("rect",{x:u<f?u:u-d,y:0,width:d,height:Math.floor(h+(l?parseInt("".concat(l),10):1))}):null}function KX(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:a}=e;return n==="vertical"?A.createElement(HX,{alpha:t,points:r,baseLine:i,strokeWidth:a}):A.createElement(VX,{alpha:t,points:r,baseLine:i,strokeWidth:a})}function YX(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a}=e,{points:l,baseLine:u,isAnimationActive:f,animationBegin:d,animationDuration:h,animationEasing:m,onAnimationStart:v,onAnimationEnd:_}=r,S=A.useMemo(()=>({points:l,baseLine:u}),[l,u]),E=Ac(S,"recharts-area-"),T=mx(),[C,P]=A.useState(!1),I=!C,O=A.useCallback(()=>{typeof _=="function"&&_(),P(!1)},[_]),R=A.useCallback(()=>{typeof v=="function"&&v(),P(!0)},[v]);if(T==null)return null;var D=i.current,M=a.current;return A.createElement(GX,{showLabels:I,points:l},r.children,A.createElement(Tc,{animationId:E,begin:d,duration:h,isActive:f,easing:m,onAnimationEnd:O,onAnimationStart:R,key:E},z=>{if(D){var U=D.length/l.length,K=z===1?l:l.map((q,Z)=>{var ae=Math.floor(Z*U);if(D[ae]){var se=D[ae];return Js(Js({},q),{},{x:St(se.x,q.x,z),y:St(se.y,q.y,z)})}return q}),L;return be(u)?L=St(M,u,z):Mt(u)||zr(u)?L=St(M,0,z):L=u.map((q,Z)=>{var ae=Math.floor(Z*U);if(Array.isArray(M)&&M[ae]){var se=M[ae];return Js(Js({},q),{},{x:St(se.x,q.x,z),y:St(se.y,q.y,z)})}return q}),z>0&&(i.current=K,a.current=L),A.createElement(rI,{points:K,baseLine:L,needClip:t,clipPathId:n,props:r})}return z>0&&(i.current=l,a.current=u),A.createElement(Lt,null,f&&A.createElement("defs",null,A.createElement("clipPath",{id:"animationClipPath-".concat(n)},A.createElement(KX,{alpha:z,points:l,baseLine:u,layout:T,strokeWidth:r.strokeWidth}))),A.createElement(Lt,{clipPath:"url(#animationClipPath-".concat(n,")")},A.createElement(rI,{points:l,baseLine:u,needClip:t,clipPathId:n,props:r})))}),A.createElement(N_,{label:r.label}))}function WX(e){var{needClip:t,clipPathId:n,props:r}=e,i=A.useRef(null),a=A.useRef();return A.createElement(YX,{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:a})}class JX extends A.PureComponent{render(){var{hide:t,dot:n,points:r,className:i,top:a,left:l,needClip:u,xAxisId:f,yAxisId:d,width:h,height:m,id:v,baseLine:_,zIndex:S}=this.props;if(t)return null;var E=Qe("recharts-area",i),T=v,{r:C,strokeWidth:P}=cX(n),I=X2(n),O=C*2+P,R=u?"url(#clipPath-".concat(I?"":"dots-").concat(T,")"):void 0;return A.createElement(Gn,{zIndex:S},A.createElement(Lt,{className:E},u&&A.createElement("defs",null,A.createElement(cj,{clipPathId:T,xAxisId:f,yAxisId:d}),!I&&A.createElement("clipPath",{id:"clipPath-dots-".concat(T)},A.createElement("rect",{x:l-O/2,y:a-O/2,width:h+O,height:m+O}))),A.createElement(WX,{needClip:u,clipPathId:T,props:this.props})),A.createElement(HO,{points:r,mainColor:kh(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:R}),this.props.isRange&&Array.isArray(_)&&A.createElement(HO,{points:_,mainColor:kh(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:R}))}}var yj={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Gt.area};function XX(e){var t,n=Vt(e,yj),{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:l,connectNulls:u,dot:f,fill:d,fillOpacity:h,hide:m,isAnimationActive:v,legendType:_,stroke:S,xAxisId:E,yAxisId:T}=n,C=vj(n,jX),P=zo(),I=S2(),{needClip:O}=$_(E,T),R=Tn(),{points:D,isRange:M,baseLine:z}=(t=Ee(ae=>DX(ae,e.id,R)))!==null&&t!==void 0?t:{},U=L_();if(P!=="horizontal"&&P!=="vertical"||U==null||I!=="AreaChart"&&I!=="ComposedChart")return null;var{height:K,width:L,x:q,y:Z}=U;return!D||!D.length?null:A.createElement(JX,No({},C,{activeDot:r,animationBegin:i,animationDuration:a,animationEasing:l,baseLine:z,connectNulls:u,dot:f,fill:d,fillOpacity:h,height:K,hide:m,layout:P,isAnimationActive:v==="auto"?!Ec.isSsr:v,isRange:M,legendType:_,needClip:O,points:D,stroke:S,width:L,left:q,top:Z,xAxisId:E,yAxisId:T}))}var ZX=(e,t,n,r,i)=>{var a=n??t;if(be(a))return a;var l=e==="horizontal"?i:r,u=l.scale.domain();if(l.type==="number"){var f=Math.max(u[0],u[1]),d=Math.min(u[0],u[1]);return a==="dataMin"?d:a==="dataMax"||f<0?f:Math.max(Math.min(u[0],u[1]),0)}return a==="dataMin"?u[0]:a==="dataMax"?u[1]:u[0]};function QX(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:a,chartBaseValue:l,xAxis:u,yAxis:f,displayedData:d,dataStartIndex:h,xAxisTicks:m,yAxisTicks:v,bandSize:_}=e,S=i&&i.length,E=ZX(a,l,n,u,f),T=a==="horizontal",C=!1,P=d.map((O,R)=>{var D,M,z,U;if(S)U=i[h+R];else{var K=ft(O,r);Array.isArray(K)?(U=K,C=!0):U=[E,K]}var L=(D=(M=U)===null||M===void 0?void 0:M[1])!==null&&D!==void 0?D:null,q=L==null||S&&!t&&ft(O,r)==null;if(T){var Z;return{x:LC({axis:u,ticks:m,bandSize:_,entry:O,index:R}),y:q?null:(Z=f.scale.map(L))!==null&&Z!==void 0?Z:null,value:U,payload:O}}return{x:q?null:(z=u.scale.map(L))!==null&&z!==void 0?z:null,y:LC({axis:f,ticks:v,bandSize:_,entry:O,index:R}),value:U,payload:O}}),I;return S||C?I=P.map(O=>{var R,D=Array.isArray(O.value)?O.value[0]:null;if(T){var M;return{x:O.x,y:D!=null&&O.y!=null&&(M=f.scale.map(D))!==null&&M!==void 0?M:null,payload:O.payload}}return{x:D!=null&&(R=u.scale.map(D))!==null&&R!==void 0?R:null,y:O.y,payload:O.payload}}):I=T?f.scale.map(E):u.scale.map(E),{points:P,baseLine:I??0,isRange:C}}function eZ(e){var t=Vt(e,yj),n=Tn();return A.createElement(j_,{id:t.id,type:"area"},r=>A.createElement(A.Fragment,null,A.createElement(Q2,{legendPayload:BX(t)}),A.createElement(qX,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),A.createElement(tj,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:ZM(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),A.createElement(XX,No({},t,{id:r}))))}var sb=A.memo(eZ,Fp);sb.displayName="Area";var tZ="Invariant failed";function nZ(e,t){throw new Error(tZ)}function lb(){return lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lb.apply(null,arguments)}function jh(e){return A.createElement(Z2,lb({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var rZ=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(be(t))return t;var a=be(r)||Mt(r);return a?t(r,i):(a||nZ(),n)}},iZ=(e,t,n)=>n,aZ=(e,t)=>t,Uc=X([Mp,aZ],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),oZ=X([Uc],e=>e==null?void 0:e.maxBarSize),sZ=(e,t,n,r)=>r,lZ=X([We,Mp,ai,oi,iZ],(e,t,n,r,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===n:a.yAxisId===r).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),uZ=(e,t,n)=>{var r=We(e),i=ai(e,t),a=oi(e,t);if(!(i==null||a==null))return r==="horizontal"?Ah(e,"yAxis",a,n):Ah(e,"xAxis",i,n)},cZ=(e,t)=>{var n=We(e),r=ai(e,t),i=oi(e,t);if(!(r==null||i==null))return n==="horizontal"?zN(e,"xAxis",r):zN(e,"yAxis",i)},dZ=X([lZ,OV,cZ],eJ),fZ=(e,t,n)=>{var r,i,a=Uc(e,t);if(a==null)return 0;var l=ai(e,t),u=oi(e,t);if(l==null||u==null)return 0;var f=We(e),d=xk(e),{maxBarSize:h}=a,m=Mt(h)?d:h,v,_;return f==="horizontal"?(v=Ua(e,"xAxis",l,n),_=La(e,"xAxis",l,n)):(v=Ua(e,"yAxis",u,n),_=La(e,"yAxis",u,n)),(r=(i=ll(v,_,!0))!==null&&i!==void 0?i:m)!==null&&r!==void 0?r:0},bj=(e,t,n)=>{var r=We(e),i=ai(e,t),a=oi(e,t);if(!(i==null||a==null)){var l,u;return r==="horizontal"?(l=Ua(e,"xAxis",i,n),u=La(e,"xAxis",i,n)):(l=Ua(e,"yAxis",a,n),u=La(e,"yAxis",a,n)),ll(l,u)}},hZ=X([dZ,xk,NV,_k,fZ,bj,oZ],aJ),pZ=(e,t,n)=>{var r=ai(e,t);if(r!=null)return Ua(e,"xAxis",r,n)},mZ=(e,t,n)=>{var r=oi(e,t);if(r!=null)return Ua(e,"yAxis",r,n)},gZ=(e,t,n)=>{var r=ai(e,t);if(r!=null)return La(e,"xAxis",r,n)},vZ=(e,t,n)=>{var r=oi(e,t);if(r!=null)return La(e,"yAxis",r,n)},yZ=X([hZ,Uc],sJ),bZ=X([uZ,Uc],oJ),xZ=X([Jt,cx,pZ,mZ,gZ,vZ,yZ,We,lk,bj,bZ,Uc,sZ],(e,t,n,r,i,a,l,u,f,d,h,m,v)=>{var{chartData:_,dataStartIndex:S,dataEndIndex:E}=f;if(!(m==null||l==null||t==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||i==null||a==null||d==null)){var{data:T}=m,C;if(T!=null&&T.length>0?C=T:C=_==null?void 0:_.slice(S,E+1),C!=null)return YZ({layout:u,barSettings:m,pos:l,parentViewBox:t,bandSize:d,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,stackedData:h,displayedData:C,offset:e,cells:v,dataStartIndex:S})}}),_Z=["index"];function ub(){return ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ub.apply(null,arguments)}function wZ(e,t){if(e==null)return{};var n,r,i=SZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function SZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var xj=A.createContext(void 0),EZ=e=>{var t=A.useContext(xj);if(t!=null)return t.stackId;if(e!=null)return ZM(e)},TZ=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),AZ=e=>{var t=A.useContext(xj);if(t!=null){var{stackId:n}=t;return"url(#".concat(TZ(n,e),")")}},_j=e=>{var{index:t}=e,n=wZ(e,_Z),r=AZ(t);return A.createElement(Lt,ub({className:"recharts-bar-stack-layer",clipPath:r},n))},CZ=["onMouseEnter","onMouseLeave","onClick"],NZ=["value","background","tooltipPosition"],OZ=["id"],IZ=["onMouseEnter","onClick","onMouseLeave"];function $i(){return $i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$i.apply(null,arguments)}function iI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iI(Object(n),!0).forEach(function(r){PZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PZ(e,t,n){return(t=RZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RZ(e){var t=MZ(e,"string");return typeof t=="symbol"?t:t+""}function MZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lh(e,t){if(e==null)return{};var n,r,i=DZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function DZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var kZ=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:yl(n,t),payload:e}]},jZ=A.memo(e=>{var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:a,hide:l,unit:u,tooltipType:f,id:d}=e,h={dataDefinedOnItem:void 0,getPosition:Uo,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:yl(a,t),hide:l,type:f,color:i,unit:u,graphicalItemId:d}};return A.createElement(k_,{tooltipEntrySettings:h})});function LZ(e){var t=Ee(za),{data:n,dataKey:r,background:i,allOtherBarProps:a}=e,{onMouseEnter:l,onMouseLeave:u,onClick:f}=a,d=Lh(a,CZ),h=R_(l,r,a.id),m=M_(u),v=D_(f,r,a.id);if(!i||n==null)return null;var _=Oo(i);return A.createElement(Gn,{zIndex:lJ(i,Gt.barBackground)},n.map((S,E)=>{var{value:T,background:C,tooltipPosition:P}=S,I=Lh(S,NZ);if(!C)return null;var O=h(S,E),R=m(S,E),D=v(S,E),M=Nn(Nn(Nn(Nn(Nn({option:i,isActive:String(E)===t},I),{},{fill:"#eee"},C),_),yc(d,S,E)),{},{onMouseEnter:O,onMouseLeave:R,onClick:D,dataKey:r,index:E,className:"recharts-bar-background-rectangle"});return A.createElement(jh,$i({key:"background-bar-".concat(E)},M))}))}function UZ(e){var{showLabels:t,children:n,rects:r}=e,i=r==null?void 0:r.map(a=>{var l={x:a.x,y:a.y,width:a.width,lowerWidth:a.width,upperWidth:a.width,height:a.height};return Nn(Nn({},l),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:l,fill:a.fill})});return A.createElement(q2,{value:t?i:void 0},n)}function zZ(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:a,dataKey:l}=e,u=Ee(za),f=Ee(__),d=n&&String(a)===u&&(f==null||l===f),h=d?n:t;return d?A.createElement(Gn,{zIndex:Gt.activeBar},A.createElement(_j,{index:a},A.createElement(jh,$i({},r,{name:String(r.name)},i,{isActive:d,option:h,index:a,dataKey:l})))):A.createElement(jh,$i({},r,{name:String(r.name)},i,{isActive:d,option:h,index:a,dataKey:l}))}function $Z(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:a}=e;return A.createElement(jh,$i({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:i,dataKey:a}))}function BZ(e){var t,{data:n,props:r}=e,i=(t=qn(r))!==null&&t!==void 0?t:{},{id:a}=i,l=Lh(i,OZ),{shape:u,dataKey:f,activeBar:d}=r,{onMouseEnter:h,onClick:m,onMouseLeave:v}=r,_=Lh(r,IZ),S=R_(h,f,a),E=M_(v),T=D_(m,f,a);return n?A.createElement(A.Fragment,null,n.map((C,P)=>A.createElement(_j,$i({index:P,key:"rectangle-".concat(C==null?void 0:C.x,"-").concat(C==null?void 0:C.y,"-").concat(C==null?void 0:C.value,"-").concat(P),className:"recharts-bar-rectangle"},yc(_,C,P),{onMouseEnter:S(C,P),onMouseLeave:E(C,P),onClick:T(C,P)}),d?A.createElement(zZ,{shape:u,activeBar:d,baseProps:l,entry:C,index:P,dataKey:f}):A.createElement($Z,{shape:u,baseProps:l,entry:C,index:P,dataKey:f})))):null}function qZ(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:a,animationBegin:l,animationDuration:u,animationEasing:f,onAnimationEnd:d,onAnimationStart:h}=t,m=n.current,v=Ac(t,"recharts-bar-"),[_,S]=A.useState(!1),E=!_,T=A.useCallback(()=>{typeof d=="function"&&d(),S(!1)},[d]),C=A.useCallback(()=>{typeof h=="function"&&h(),S(!0)},[h]);return A.createElement(UZ,{showLabels:E,rects:r},A.createElement(Tc,{animationId:v,begin:l,duration:u,isActive:a,easing:f,onAnimationEnd:T,onAnimationStart:C,key:v},P=>{var I=P===1?r:r==null?void 0:r.map((O,R)=>{var D=m&&m[R];if(D)return Nn(Nn({},O),{},{x:St(D.x,O.x,P),y:St(D.y,O.y,P),width:St(D.width,O.width,P),height:St(D.height,O.height,P)});if(i==="horizontal"){var M=St(0,O.height,P),z=St(O.stackedBarStart,O.y,P);return Nn(Nn({},O),{},{y:z,height:M})}var U=St(0,O.width,P),K=St(O.stackedBarStart,O.x,P);return Nn(Nn({},O),{},{width:U,x:K})});return P>0&&(n.current=I??null),I==null?null:A.createElement(Lt,null,A.createElement(BZ,{props:t,data:I}))}),A.createElement(N_,{label:t.label}),t.children)}function FZ(e){var t=A.useRef(null);return A.createElement(qZ,{previousRectanglesRef:t,props:e})}var wj=0,GZ=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:ft(e,t)}};class HZ extends A.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:a,yAxisId:l,needClip:u,background:f,id:d}=this.props;if(t||n==null)return null;var h=Qe("recharts-bar",i),m=d;return A.createElement(Lt,{className:h,id:d},u&&A.createElement("defs",null,A.createElement(cj,{clipPathId:m,xAxisId:a,yAxisId:l})),A.createElement(Lt,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(m,")"):void 0},A.createElement(LZ,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),A.createElement(FZ,this.props)))}}var VZ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:wj,xAxisId:0,yAxisId:0,zIndex:Gt.bar};function KZ(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:l,animationBegin:u,animationDuration:f,animationEasing:d,isAnimationActive:h}=e,{needClip:m}=$_(t,n),v=zo(),_=Tn(),S=P_(e.children,Ri),E=Ee(P=>xZ(P,e.id,_,S));if(v!=="vertical"&&v!=="horizontal")return null;var T,C=E==null?void 0:E[0];return C==null||C.height==null||C.width==null?T=0:T=v==="vertical"?C.height/2:C.width/2,A.createElement(uX,{xAxisId:t,yAxisId:n,data:E,dataPointFormatter:GZ,errorBarOffset:T},A.createElement(HZ,$i({},e,{layout:v,needClip:m,data:E,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:a,activeBar:l,animationBegin:u,animationDuration:f,animationEasing:d,isAnimationActive:h})))}function YZ(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:a,xAxis:l,yAxis:u,xAxisTicks:f,yAxisTicks:d,stackedData:h,displayedData:m,offset:v,cells:_,parentViewBox:S,dataStartIndex:E}=e,T=t==="horizontal"?u:l,C=h?T.scale.domain():null,P=gq({numericAxis:T}),I=T.scale.map(P);return m.map((O,R)=>{var D,M,z,U,K,L;if(h){var q=h[R+E];if(q==null)return null;D=dq(q,C)}else D=ft(O,n),Array.isArray(D)||(D=[P,D]);var Z=rZ(r,wj)(D[1],R);if(t==="horizontal"){var ae,se=u.scale.map(D[0]),j=u.scale.map(D[1]);if(se==null||j==null)return null;M=UC({axis:l,ticks:f,bandSize:a,offset:i.offset,entry:O,index:R}),z=(ae=j??se)!==null&&ae!==void 0?ae:void 0,U=i.size;var G=se-j;if(K=zr(G)?0:G,L={x:M,y:v.top,width:U,height:v.height},Math.abs(Z)>0&&Math.abs(K)<Math.abs(Z)){var W=on(K||Z)*(Math.abs(Z)-Math.abs(K));z-=W,K+=W}}else{var re=l.scale.map(D[0]),he=l.scale.map(D[1]);if(re==null||he==null)return null;if(M=re,z=UC({axis:u,ticks:d,bandSize:a,offset:i.offset,entry:O,index:R}),U=he-re,K=i.size,L={x:v.left,y:z,width:v.width,height:K},Math.abs(Z)>0&&Math.abs(U)<Math.abs(Z)){var $=on(U||Z)*(Math.abs(Z)-Math.abs(U));U+=$}}if(M==null||z==null||U==null||K==null)return null;var J=Nn(Nn({},O),{},{stackedBarStart:I,x:M,y:z,width:U,height:K,value:h?D:D[1],payload:O,background:L,tooltipPosition:{x:M+U/2,y:z+K/2},parentViewBox:S},_&&_[R]&&_[R].props);return J}).filter(Boolean)}function WZ(e){var t=Vt(e,VZ),n=EZ(t.stackId),r=Tn();return A.createElement(j_,{id:t.id,type:"bar"},i=>A.createElement(A.Fragment,null,A.createElement(Q2,{legendPayload:kZ(t)}),A.createElement(jZ,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:i}),A.createElement(tj,{type:"bar",id:i,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:n,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),A.createElement(Gn,{zIndex:t.zIndex},A.createElement(KZ,$i({},t,{id:i})))))}var Uh=A.memo(WZ,Fp);Uh.displayName="Bar";var JZ=["domain","range"],XZ=["domain","range"];function aI(e,t){if(e==null)return{};var n,r,i=ZZ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ZZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function oI(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function Sj(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=aI(e,JZ),{domain:a,range:l}=t,u=aI(t,XZ);return!oI(n,a)||!oI(r,l)?!1:Fp(i,u)}var QZ=["type"],eQ=["dangerouslySetInnerHTML","ticks","scale"],tQ=["id","scale"];function cb(){return cb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cb.apply(null,arguments)}function sI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sI(Object(n),!0).forEach(function(r){nQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nQ(e,t,n){return(t=rQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rQ(e){var t=iQ(e,"string");return typeof t=="symbol"?t:t+""}function iQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function db(e,t){if(e==null)return{};var n,r,i=aQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function aQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function oQ(e){var t=vt(),n=A.useRef(null),r=mx(),{type:i}=e,a=db(e,QZ),l=Cp(r,"xAxis",i),u=A.useMemo(()=>{if(l!=null)return lI(lI({},a),{},{type:l})},[a,l]);return A.useLayoutEffect(()=>{u!=null&&(n.current===null?t(zW(u)):n.current!==u&&t($W({prev:n.current,next:u})),n.current=u)},[u,t]),A.useLayoutEffect(()=>()=>{n.current&&(t(BW(n.current)),n.current=null)},[t]),null}var sQ=e=>{var{xAxisId:t,className:n}=e,r=Ee(cx),i=Tn(),a="xAxis",l=Ee(C=>e2(C,a,t,i)),u=Ee(C=>Jk(C,t)),f=Ee(C=>I8(C,t)),d=Ee(C=>Pk(C,t));if(u==null||f==null||d==null)return null;var{dangerouslySetInnerHTML:h,ticks:m,scale:v}=e,_=db(e,eQ),{id:S,scale:E}=d,T=db(d,tQ);return A.createElement(z_,cb({},_,T,{x:f.x,y:f.y,width:u.width,height:u.height,className:Qe("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:l,axisType:a}))},lQ={allowDataOverflow:nn.allowDataOverflow,allowDecimals:nn.allowDecimals,allowDuplicatedCategory:nn.allowDuplicatedCategory,angle:nn.angle,axisLine:Mi.axisLine,height:nn.height,hide:!1,includeHidden:nn.includeHidden,interval:nn.interval,label:!1,minTickGap:nn.minTickGap,mirror:nn.mirror,orientation:nn.orientation,padding:nn.padding,reversed:nn.reversed,scale:nn.scale,tick:nn.tick,tickCount:nn.tickCount,tickLine:Mi.tickLine,tickSize:Mi.tickSize,type:nn.type,xAxisId:0},uQ=e=>{var t=Vt(e,lQ);return A.createElement(A.Fragment,null,A.createElement(oQ,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),A.createElement(sQ,t))},zh=A.memo(uQ,Sj);zh.displayName="XAxis";var cQ=["type"],dQ=["dangerouslySetInnerHTML","ticks","scale"],fQ=["id","scale"];function fb(){return fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fb.apply(null,arguments)}function uI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uI(Object(n),!0).forEach(function(r){hQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hQ(e,t,n){return(t=pQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pQ(e){var t=mQ(e,"string");return typeof t=="symbol"?t:t+""}function mQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hb(e,t){if(e==null)return{};var n,r,i=gQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function vQ(e){var t=vt(),n=A.useRef(null),r=mx(),{type:i}=e,a=hb(e,cQ),l=Cp(r,"yAxis",i),u=A.useMemo(()=>{if(l!=null)return cI(cI({},a),{},{type:l})},[l,a]);return A.useLayoutEffect(()=>{u!=null&&(n.current===null?t(qW(u)):n.current!==u&&t(FW({prev:n.current,next:u})),n.current=u)},[u,t]),A.useLayoutEffect(()=>()=>{n.current&&(t(GW(n.current)),n.current=null)},[t]),null}function yQ(e){var{yAxisId:t,className:n,width:r,label:i}=e,a=A.useRef(null),l=A.useRef(null),u=Ee(cx),f=Tn(),d=vt(),h="yAxis",m=Ee(D=>Xk(D,t)),v=Ee(D=>R8(D,t)),_=Ee(D=>e2(D,h,t,f)),S=Ee(D=>Rk(D,t));if(A.useLayoutEffect(()=>{if(!(r!=="auto"||!m||C_(i)||A.isValidElement(i)||S==null)){var D=a.current;if(D){var M=D.getCalculatedWidth();Math.round(m.width)!==Math.round(M)&&d(HW({id:t,width:M}))}}},[_,m,d,i,t,r,S]),m==null||v==null||S==null)return null;var{dangerouslySetInnerHTML:E,ticks:T,scale:C}=e,P=hb(e,dQ),{id:I,scale:O}=S,R=hb(S,fQ);return A.createElement(z_,fb({},P,R,{ref:a,labelRef:l,x:v.x,y:v.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:m.width,height:m.height,className:Qe("recharts-".concat(h," ").concat(h),n),viewBox:u,ticks:_,axisType:h}))}var bQ={allowDataOverflow:rn.allowDataOverflow,allowDecimals:rn.allowDecimals,allowDuplicatedCategory:rn.allowDuplicatedCategory,angle:rn.angle,axisLine:Mi.axisLine,hide:!1,includeHidden:rn.includeHidden,interval:rn.interval,label:!1,minTickGap:rn.minTickGap,mirror:rn.mirror,orientation:rn.orientation,padding:rn.padding,reversed:rn.reversed,scale:rn.scale,tick:rn.tick,tickCount:rn.tickCount,tickLine:Mi.tickLine,tickSize:Mi.tickSize,type:rn.type,width:rn.width,yAxisId:0},xQ=e=>{var t=Vt(e,bQ);return A.createElement(A.Fragment,null,A.createElement(vQ,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),A.createElement(yQ,t))},$h=A.memo(xQ,Sj);$h.displayName="YAxis";var _Q=(e,t)=>t,B_=X([_Q,We,Nk,ln,v2,Yi,KK,Jt],e9),q_=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},Ej=wr("mouseClick"),Tj=xc();Tj.startListening({actionCreator:Ej,effect:(e,t)=>{var n=e.payload,r=B_(t.getState(),q_(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(V8({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var pb=wr("mouseMove"),Aj=xc(),xf=null;Aj.startListening({actionCreator:pb,effect:(e,t)=>{var n=e.payload;xf!==null&&cancelAnimationFrame(xf);var r=q_(n);xf=requestAnimationFrame(()=>{var i=t.getState(),a=m_(i,i.tooltip.settings.shared);if(a==="axis"){var l=B_(i,r);(l==null?void 0:l.activeIndex)!=null?t.dispatch(l2({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(s2())}xf=null})}});function wQ(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var dI={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Cj=Fn({name:"rootProps",initialState:dI,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:dI.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),SQ=Cj.reducer,{updateOptions:EQ}=Cj.actions,TQ=null,AQ={updatePolarOptions:(e,t)=>t.payload},Nj=Fn({name:"polarOptions",initialState:TQ,reducers:AQ}),{updatePolarOptions:CQ}=Nj.actions,NQ=Nj.reducer,Oj=wr("keyDown"),Ij=wr("focus"),F_=xc();F_.startListening({actionCreator:Oj,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var l=g_(i,Cl(n),Dc(n),jc(n)),u=l==null?-1:Number(l);if(!(!Number.isFinite(u)||u<0)){var f=Yi(n);if(a==="Enter"){var d=Nh(n,"axis","hover",String(i.index));t.dispatch(nb({active:!i.active,activeIndex:i.index,activeCoordinate:d}));return}var h=j8(n),m=h==="left-to-right"?1:-1,v=a==="ArrowRight"?1:-1,_=u+v*m;if(!(f==null||_>=f.length||_<0)){var S=Nh(n,"axis","hover",String(_));t.dispatch(nb({active:!0,activeIndex:_.toString(),activeCoordinate:S}))}}}}}});F_.startListening({actionCreator:Ij,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",l=Nh(n,"axis","hover",String(a));t.dispatch(nb({active:!0,activeIndex:a,activeCoordinate:l}))}}}});var yr=wr("externalEvent"),Pj=xc(),n0=new Map;Pj.startListening({actionCreator:yr,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=n0.get(i);a!==void 0&&cancelAnimationFrame(a);var l=requestAnimationFrame(()=>{try{var u=t.getState(),f={activeCoordinate:RK(u),activeDataKey:__(u),activeIndex:za(u),activeLabel:x2(u),activeTooltipIndex:za(u),isTooltipActive:MK(u)};n(f,r)}finally{n0.delete(i)}});n0.set(i,l)}}});var OQ=X([Tl],e=>e.tooltipItemPayloads),IQ=X([OQ,(e,t)=>t,(e,t,n)=>n],(e,t,n)=>{if(t!=null){var r=e.find(a=>a.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(t)}}}),Rj=wr("touchMove"),Mj=xc();Mj.startListening({actionCreator:Rj,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=m_(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var l=B_(r,q_({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));(l==null?void 0:l.activeIndex)!=null&&t.dispatch(l2({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(i==="item"){var u,f=n.touches[0];if(document.elementFromPoint==null||f==null)return;var d=document.elementFromPoint(f.clientX,f.clientY);if(!d||!d.getAttribute)return;var h=d.getAttribute(eD),m=(u=d.getAttribute(tD))!==null&&u!==void 0?u:void 0,v=Al(r).find(E=>E.id===m);if(h==null||v==null||m==null)return;var{dataKey:_}=v,S=IQ(r,h,m);t.dispatch(o2({activeDataKey:_,activeIndex:h,activeCoordinate:S,activeGraphicalItemId:m}))}}}});var PQ=_M({brush:uJ,cartesianAxis:VW,chartData:P9,errorBars:rX,graphicalItems:QY,layout:oq,legend:f6,options:A9,polarAxis:hY,polarOptions:NQ,referenceElements:hJ,rootProps:SQ,tooltip:K8,zIndex:p9}),RQ=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return P5({reducer:PQ,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([Tj.middleware,Aj.middleware,F_.middleware,Pj.middleware,Mj.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(jM({type:"raf"}))},devTools:{serialize:{replacer:wQ},name:"recharts-".concat(n)}})};function Dj(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Tn(),a=A.useRef(null);if(i)return n;a.current==null&&(a.current=RQ(t,r));var l=rx;return A.createElement(AX,{context:l,store:a.current},n)}function MQ(e){var{layout:t,margin:n}=e,r=vt(),i=Tn();return A.useEffect(()=>{i||(r(rq(t)),r(nq(n)))},[r,i,t,n]),null}var kj=A.memo(MQ,Fp);function jj(e){var t=vt();return A.useEffect(()=>{t(EQ(e))},[t,e]),null}function fI(e){var{zIndex:t,isPanorama:n}=e,r=A.useRef(null),i=vt();return A.useLayoutEffect(()=>(r.current&&i(f9({zIndex:t,element:r.current,isPanorama:n})),()=>{i(h9({zIndex:t,isPanorama:n}))}),[i,t,n]),A.createElement("g",{tabIndex:-1,ref:r})}function hI(e){var{children:t,isPanorama:n}=e,r=Ee(n9);if(!r||r.length===0)return t;var i=r.filter(l=>l<0),a=r.filter(l=>l>0);return A.createElement(A.Fragment,null,i.map(l=>A.createElement(fI,{key:l,zIndex:l,isPanorama:n})),t,a.map(l=>A.createElement(fI,{key:l,zIndex:l,isPanorama:n})))}var DQ=["children"];function kQ(e,t){if(e==null)return{};var n,r,i=jQ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function jQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Bh(){return Bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bh.apply(null,arguments)}var LQ={width:"100%",height:"100%",display:"block"},UQ=A.forwardRef((e,t)=>{var n=hx(),r=px(),i=vD();if(!ni(n)||!ni(r))return null;var{children:a,otherAttributes:l,title:u,desc:f}=e,d,h;return l!=null&&(typeof l.tabIndex=="number"?d=l.tabIndex:d=i?0:void 0,typeof l.role=="string"?h=l.role:h=i?"application":void 0),A.createElement(Hb,Bh({},l,{title:u,desc:f,role:h,tabIndex:d,width:n,height:r,style:LQ,ref:t}),a)}),zQ=e=>{var{children:t}=e,n=Ee(pp);if(!n)return null;var{width:r,height:i,y:a,x:l}=n;return A.createElement(Hb,{width:r,height:i,x:l,y:a},t)},pI=A.forwardRef((e,t)=>{var{children:n}=e,r=kQ(e,DQ),i=Tn();return i?A.createElement(zQ,null,A.createElement(hI,{isPanorama:!0},n)):A.createElement(UQ,Bh({ref:t},r),A.createElement(hI,{isPanorama:!1},n))});function $Q(){var e=vt(),[t,n]=A.useState(null),r=Ee(wq);return A.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;qe(a)&&a!==r&&e(aq(a))}},[t,e,r]),n}function mI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function BQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mI(Object(n),!0).forEach(function(r){qQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qQ(e,t,n){return(t=FQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FQ(e){var t=GQ(e,"string");return typeof t=="symbol"?t:t+""}function GQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ka(){return ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ka.apply(null,arguments)}var HQ=()=>($9(),null);function qh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var VQ=A.forwardRef((e,t)=>{var n,r,i=A.useRef(null),[a,l]=A.useState({containerWidth:qh((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:qh((r=e.style)===null||r===void 0?void 0:r.height)}),u=A.useCallback((d,h)=>{l(m=>{var v=Math.round(d),_=Math.round(h);return m.containerWidth===v&&m.containerHeight===_?m:{containerWidth:v,containerHeight:_}})},[]),f=A.useCallback(d=>{if(typeof t=="function"&&t(d),d!=null&&typeof ResizeObserver<"u"){var{width:h,height:m}=d.getBoundingClientRect();u(h,m);var v=S=>{var E=S[0];if(E!=null){var{width:T,height:C}=E.contentRect;u(T,C)}},_=new ResizeObserver(v);_.observe(d),i.current=_}},[t,u]);return A.useEffect(()=>()=>{var d=i.current;d!=null&&d.disconnect()},[u]),A.createElement(A.Fragment,null,A.createElement(wc,{width:a.containerWidth,height:a.containerHeight}),A.createElement("div",ka({ref:f},e)))}),KQ=A.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=A.useState({containerWidth:qh(n),containerHeight:qh(r)}),l=A.useCallback((f,d)=>{a(h=>{var m=Math.round(f),v=Math.round(d);return h.containerWidth===m&&h.containerHeight===v?h:{containerWidth:m,containerHeight:v}})},[]),u=A.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:d,height:h}=f.getBoundingClientRect();l(d,h)}},[t,l]);return A.createElement(A.Fragment,null,A.createElement(wc,{width:i.containerWidth,height:i.containerHeight}),A.createElement("div",ka({ref:u},e)))}),YQ=A.forwardRef((e,t)=>{var{width:n,height:r}=e;return A.createElement(A.Fragment,null,A.createElement(wc,{width:n,height:r}),A.createElement("div",ka({ref:t},e)))}),WQ=A.forwardRef((e,t)=>{var{width:n,height:r}=e;return typeof n=="string"||typeof r=="string"?A.createElement(KQ,ka({},e,{ref:t})):typeof n=="number"&&typeof r=="number"?A.createElement(YQ,ka({},e,{width:n,height:r,ref:t})):A.createElement(A.Fragment,null,A.createElement(wc,{width:n,height:r}),A.createElement("div",ka({ref:t},e)))});function JQ(e){return e?VQ:WQ}var XQ=A.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:l,onDoubleClick:u,onMouseDown:f,onMouseEnter:d,onMouseLeave:h,onMouseMove:m,onMouseUp:v,onTouchEnd:_,onTouchMove:S,onTouchStart:E,style:T,width:C,responsive:P,dispatchTouchEvents:I=!0}=e,O=A.useRef(null),R=vt(),[D,M]=A.useState(null),[z,U]=A.useState(null),K=$Q(),L=dx(),q=(L==null?void 0:L.width)>0?L.width:C,Z=(L==null?void 0:L.height)>0?L.height:i,ae=A.useCallback(B=>{K(B),typeof t=="function"&&t(B),M(B),U(B),B!=null&&(O.current=B)},[K,t,M,U]),se=A.useCallback(B=>{R(Ej(B)),R(yr({handler:a,reactEvent:B}))},[R,a]),j=A.useCallback(B=>{R(pb(B)),R(yr({handler:d,reactEvent:B}))},[R,d]),G=A.useCallback(B=>{R(s2()),R(yr({handler:h,reactEvent:B}))},[R,h]),W=A.useCallback(B=>{R(pb(B)),R(yr({handler:m,reactEvent:B}))},[R,m]),re=A.useCallback(()=>{R(Ij())},[R]),he=A.useCallback(B=>{R(Oj(B.key))},[R]),$=A.useCallback(B=>{R(yr({handler:l,reactEvent:B}))},[R,l]),J=A.useCallback(B=>{R(yr({handler:u,reactEvent:B}))},[R,u]),ue=A.useCallback(B=>{R(yr({handler:f,reactEvent:B}))},[R,f]),pe=A.useCallback(B=>{R(yr({handler:v,reactEvent:B}))},[R,v]),Ce=A.useCallback(B=>{R(yr({handler:E,reactEvent:B}))},[R,E]),xe=A.useCallback(B=>{I&&R(Rj(B)),R(yr({handler:S,reactEvent:B}))},[R,I,S]),_e=A.useCallback(B=>{R(yr({handler:_,reactEvent:B}))},[R,_]),te=JQ(P);return A.createElement(N2.Provider,{value:D},A.createElement(UR.Provider,{value:z},A.createElement(te,{width:q??(T==null?void 0:T.width),height:Z??(T==null?void 0:T.height),className:Qe("recharts-wrapper",r),style:BQ({position:"relative",cursor:"default",width:q,height:Z},T),onClick:se,onContextMenu:$,onDoubleClick:J,onFocus:re,onKeyDown:he,onMouseDown:ue,onMouseEnter:j,onMouseLeave:G,onMouseMove:W,onMouseUp:pe,onTouchEnd:_e,onTouchMove:xe,onTouchStart:Ce,ref:ae},A.createElement(HQ,null),n)))}),ZQ=["width","height","responsive","children","className","style","compact","title","desc"];function QQ(e,t){if(e==null)return{};var n,r,i=eee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function eee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Lj=A.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:l,style:u,compact:f,title:d,desc:h}=e,m=QQ(e,ZQ),v=qn(m);return f?A.createElement(A.Fragment,null,A.createElement(wc,{width:n,height:r}),A.createElement(pI,{otherAttributes:v,title:d,desc:h},a)):A.createElement(XQ,{className:l,style:u,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},A.createElement(pI,{otherAttributes:v,title:d,desc:h,ref:t},A.createElement(mJ,null,a)))});function mb(){return mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mb.apply(null,arguments)}var tee={top:5,right:5,bottom:5,left:5},nee={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:tee,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Uj=A.forwardRef(function(t,n){var r,i=Vt(t.categoricalChartProps,nee),{chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:d}=t,h={chartName:a,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return A.createElement(Dj,{preloadedState:{options:h},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:a},A.createElement(ij,{chartData:d.data}),A.createElement(kj,{layout:i.layout,margin:i.margin}),A.createElement(jj,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),A.createElement(Lj,mb({},i,{ref:n})))}),ree=["axis","item"],zj=A.forwardRef((e,t)=>A.createElement(Uj,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ree,tooltipPayloadSearcher:A_,categoricalChartProps:e,ref:t}));function iee(e){var t=vt();return A.useEffect(()=>{t(CQ(e))},[t,e]),null}var aee=["layout"];function gb(){return gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gb.apply(null,arguments)}function oee(e,t){if(e==null)return{};var n,r,i=see(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function see(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var lee={top:5,right:5,bottom:5,left:5},$j={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:lee,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},uee=A.forwardRef(function(t,n){var r,i=Vt(t.categoricalChartProps,$j),{layout:a}=i,l=oee(i,aee),{chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:d,tooltipPayloadSearcher:h}=t,m={chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,eventEmitter:void 0};return A.createElement(Dj,{preloadedState:{options:m},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:u},A.createElement(ij,{chartData:i.data}),A.createElement(kj,{layout:a,margin:i.margin}),A.createElement(jj,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),A.createElement(iee,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),A.createElement(Lj,gb({},l,{ref:n})))});function gI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function vI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gI(Object(n),!0).forEach(function(r){cee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cee(e,t,n){return(t=dee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dee(e){var t=fee(e,"string");return typeof t=="symbol"?t:t+""}function fee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hee=["item"],pee=vI(vI({},$j),{},{layout:"centric",startAngle:0,endAngle:360}),Hu=A.forwardRef((e,t)=>{var n=Vt(e,pee);return A.createElement(uee,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:hee,tooltipPayloadSearcher:A_,categoricalChartProps:n,ref:t})}),mee=["axis"],gee=A.forwardRef((e,t)=>A.createElement(Uj,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:mee,tooltipPayloadSearcher:A_,categoricalChartProps:e,ref:t}));const yI=({transactions:e,investments:t,bills:n,forecasts:r,categories:i})=>{const[a,l]=A.useState("all"),[u,f]=A.useState(""),[d,h]=A.useState(""),m=I=>{if(a==="all")return!0;const O=new Date(I),R=new Date,D=new Date(R.getFullYear(),R.getMonth(),R.getDate());switch(a){case"today":return O>=D;case"7days":{const M=new Date(D);return M.setDate(M.getDate()-7),O>=M}case"30days":{const M=new Date(D);return M.setDate(M.getDate()-30),O>=M}case"thisMonth":{const M=new Date(R.getFullYear(),R.getMonth(),1);return O>=M}case"lastMonth":{const M=new Date(R.getFullYear(),R.getMonth()-1,1),z=new Date(R.getFullYear(),R.getMonth(),0,23,59,59);return O>=M&&O<=z}case"custom":{if(!u||!d)return!0;const M=new Date(u),z=new Date(d);return z.setHours(23,59,59),O>=M&&O<=z}default:return!0}},v=A.useMemo(()=>e.filter(I=>m(I.date)),[e,a,u,d]),_=A.useMemo(()=>t.filter(I=>m(I.date_lancamento)),[t,a,u,d]),S=A.useMemo(()=>n.filter(I=>m(I.data)),[n,a,u,d]),E=A.useMemo(()=>{const I=v.filter(U=>U.type==="INCOME").reduce((U,K)=>U+K.amount,0),O=v.filter(U=>U.type==="EXPENSE").reduce((U,K)=>U+K.amount,0),R=I-O,D=S.filter(U=>U.entrada>0).reduce((U,K)=>U+K.entrada,0),M=S.filter(U=>U.saida>0).reduce((U,K)=>U+K.saida,0),z=_.reduce((U,K)=>K.type==="INCOME"?U+K.amount:U-K.amount,0);return{totalIncome:I,totalExpense:O,balance:R,contasReceber:D,contasPagar:M,investmentBalance:z,transactionCount:v.length}},[v,S,_]),T=A.useMemo(()=>{const I={};return v.forEach(O=>{if(O.date){const R=new Date(O.date),D=`${R.getFullYear()}-${String(R.getMonth()+1).padStart(2,"0")}`;I[D]||(I[D]={income:0,expense:0,date:R}),O.type==="INCOME"?I[D].income+=O.amount:I[D].expense+=O.amount}}),Object.entries(I).sort(([O],[R])=>O.localeCompare(R)).slice(-6).map(([O,R])=>({month:R.date.toLocaleDateString("pt-BR",{month:"short"}).replace(".",""),Entradas:R.income,Sadas:R.expense}))},[v]),C=A.useMemo(()=>{const I={};return v.filter(O=>(O.type==="EXPENSE"||O.type!=="INCOME"&&O.amount<0)&&O.tags&&Array.isArray(O.tags)&&O.tags.length>0).forEach(O=>{var R;(R=O.tags)==null||R.forEach(D=>{const M=D.trim();M&&(I[M]=(I[M]||0)+Math.abs(O.amount))})}),Object.entries(I).map(([O,R])=>({name:O,value:R})).sort((O,R)=>R.value-O.value).slice(0,10)},[e]),P=A.useMemo(()=>{const I={},O={};v.forEach(M=>{const z=i.find(K=>String(K.id)===String(M.categoryId)),U=(z==null?void 0:z.name)||"Sem Categoria";M.type==="INCOME"?I[U]=(I[U]||0)+M.amount:O[U]=(O[U]||0)+M.amount});const R=Object.entries(I).map(([M,z])=>{const U=i.find(K=>K.name===M);return{name:M,value:z,color:(U==null?void 0:U.color)||"#10b981"}}).sort((M,z)=>z.value-M.value),D=Object.entries(O).map(([M,z])=>{const U=i.find(K=>K.name===M);return{name:M,value:z,color:(U==null?void 0:U.color)||"#ef4444"}}).sort((M,z)=>z.value-M.value);return{incomeData:R,expenseData:D}},[v,i]);return b.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[b.jsx("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-200 shadow-xl shadow-slate-100/50",children:b.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-8",children:[b.jsxs("div",{className:"space-y-1",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"p-2.5 bg-indigo-600 rounded-2xl text-white shadow-lg shadow-indigo-200",children:b.jsx(Xz,{size:20})}),b.jsx("h2",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"Painel Executivo"})]}),b.jsx("p",{className:"text-slate-500 text-sm font-semibold pl-[3.25rem]",children:"Inteligncia financeira em tempo real"})]}),b.jsxs("div",{className:"flex flex-col gap-4",children:[b.jsxs("div",{className:"flex flex-wrap items-center gap-2 bg-slate-50 p-2 rounded-2xl border border-slate-100",children:[b.jsx(ku,{active:a==="all",label:"Histrico",icon:b.jsx(E$,{size:14}),onClick:()=>l("all")}),b.jsx(ku,{active:a==="thisMonth",label:"Este Ms",icon:b.jsx(Yz,{size:14}),onClick:()=>l("thisMonth")}),b.jsx(ku,{active:a==="30days",label:"30 Dias",icon:b.jsx(s$,{size:14}),onClick:()=>l("30days")}),b.jsx(ku,{active:a==="lastMonth",label:"Anterior",icon:b.jsx(h0,{size:14}),onClick:()=>l("lastMonth")}),b.jsx(ku,{active:a==="custom",label:"Personalizado",icon:b.jsx(y$,{size:14}),onClick:()=>l("custom")})]}),a==="custom"&&b.jsx("div",{className:"flex items-center gap-3 bg-indigo-50/50 p-2.5 rounded-2xl border border-indigo-100/50 animate-in slide-in-from-top-2 duration-300",children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsxs("div",{className:"flex flex-col",children:[b.jsx("span",{className:"text-[9px] font-black text-indigo-400 uppercase tracking-widest mb-1 ml-1",children:"Incio"}),b.jsx("input",{type:"date",value:u,onChange:I=>f(I.target.value),className:"bg-white border border-indigo-100 text-slate-700 text-[11px] font-black rounded-xl px-3 py-2 shadow-sm focus:ring-2 focus:ring-indigo-500 outline-none transition-all"})]}),b.jsx("div",{className:"mt-4 text-indigo-200 text-xl font-light",children:"-"}),b.jsxs("div",{className:"flex flex-col",children:[b.jsx("span",{className:"text-[9px] font-black text-indigo-400 uppercase tracking-widest mb-1 ml-1",children:"Fim"}),b.jsx("input",{type:"date",value:d,onChange:I=>h(I.target.value),className:"bg-white border border-indigo-100 text-slate-700 text-[11px] font-black rounded-xl px-3 py-2 shadow-sm focus:ring-2 focus:ring-indigo-500 outline-none transition-all"})]})]})})]})]})}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[b.jsx(Rs,{title:"Saldo Atual",value:E.balance,icon:b.jsx(DR,{size:24}),iconBg:"bg-blue-100",iconColor:"text-blue-600",trend:"+12%",trendPositive:!0}),b.jsx(Rs,{title:"Entradas (Ms)",value:E.totalIncome,icon:b.jsx(RR,{size:24}),iconBg:"bg-emerald-100",iconColor:"text-emerald-600",trend:"+5%",trendPositive:!0}),b.jsx(Rs,{title:"Sadas (Ms)",value:E.totalExpense,icon:b.jsx(bv,{size:24}),iconBg:"bg-rose-100",iconColor:"text-rose-600",trend:"+2%",trendPositive:!1}),b.jsx(Rs,{title:"Contas a Receber",value:E.contasReceber,icon:b.jsx(Ci,{size:24}),iconBg:"bg-cyan-100",iconColor:"text-cyan-600",label:"Valores pendentes"}),b.jsx(Rs,{title:"Contas a Pagar",value:E.contasPagar,icon:b.jsx(u$,{size:24}),iconBg:"bg-orange-100",iconColor:"text-orange-600",label:"Compromissos do ms"}),b.jsx(Rs,{title:"Investimentos",value:E.investmentBalance,icon:b.jsx(Ci,{size:24}),iconBg:"bg-indigo-100",iconColor:"text-indigo-600",label:"Saldo total aplicado"})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[b.jsxs("div",{className:"lg:col-span-2 bg-white p-8 rounded-3xl shadow-sm border border-slate-200",children:[b.jsx("div",{className:"mb-6 flex items-center justify-between",children:b.jsxs("div",{children:[b.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Fluxo de Caixa"}),b.jsx("p",{className:"text-sm text-slate-500",children:"Histrico dos ltimos 6 meses"})]})}),b.jsx(Pa,{width:"100%",height:320,children:b.jsxs(gee,{data:T,children:[b.jsxs("defs",{children:[b.jsxs("linearGradient",{id:"colorEntradas",x1:"0",y1:"0",x2:"0",y2:"1",children:[b.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.25}),b.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:.05})]}),b.jsxs("linearGradient",{id:"colorSaidas",x1:"0",y1:"0",x2:"0",y2:"1",children:[b.jsx("stop",{offset:"5%",stopColor:"#ef4444",stopOpacity:.25}),b.jsx("stop",{offset:"95%",stopColor:"#ef4444",stopOpacity:.05})]})]}),b.jsx(Dh,{strokeDasharray:"3 3",stroke:"#f1f5f9",vertical:!1}),b.jsx(zh,{dataKey:"month",stroke:"#94a3b8",style:{fontSize:"11px",fontWeight:"600"},tickLine:!1,axisLine:!1,dy:10}),b.jsx($h,{stroke:"#94a3b8",style:{fontSize:"11px",fontWeight:"600"},tickLine:!1,axisLine:!1,tickFormatter:I=>`R$${(I/1e3).toFixed(0)}k`}),b.jsx(Ra,{formatter:I=>`R$ ${I.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 25px -5px rgba(0,0,0,0.1), 0 8px 10px -6px rgba(0,0,0,0.1)",fontSize:"13px",padding:"12px"}}),b.jsx(sb,{type:"monotone",dataKey:"Entradas",stroke:"#10b981",strokeWidth:3,fill:"url(#colorEntradas)",animationDuration:1e3}),b.jsx(sb,{type:"monotone",dataKey:"Sadas",stroke:"#ef4444",strokeWidth:3,fill:"url(#colorSaidas)",animationDuration:1e3})]})})]}),b.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-sm border border-slate-200",children:[b.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-6",children:"ltimas Atividades"}),b.jsx("div",{className:"space-y-4 max-h-[340px] overflow-y-auto pr-2 custom-scrollbar",children:v.length>0?v.sort((I,O)=>new Date(O.date).getTime()-new Date(I.date).getTime()).slice(0,10).map(I=>b.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-2xl hover:bg-slate-50 transition-colors border border-transparent hover:border-slate-100",children:[b.jsx("div",{className:`p-3 rounded-xl ${I.type==="INCOME"?"bg-emerald-50 text-emerald-600":"bg-rose-50 text-rose-600"}`,children:I.type==="INCOME"?b.jsx(p0,{size:20}):b.jsx(bv,{size:20})}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("p",{className:"font-bold text-slate-800 text-sm truncate",children:I.description}),b.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[b.jsx(h0,{size:12,className:"text-slate-400"}),b.jsx("p",{className:"text-[11px] font-medium text-slate-500 uppercase",children:(()=>{const R=I.date.split("T")[0].split(" ")[0].split("-");return R.length===3?`${R[2]}/${R[1]}`:I.date})()})]})]}),b.jsx("div",{className:"text-right",children:b.jsxs("p",{className:`font-black text-sm ${I.type==="INCOME"?"text-emerald-600":"text-rose-600"}`,children:[I.type==="INCOME"?"+":"-"," R$ ",I.amount.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})]})})]},I.id)):b.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-slate-400",children:[b.jsx(vl,{size:40,className:"mb-3 opacity-20"}),b.jsx("p",{className:"font-medium",children:"Nenhuma transao no perodo"})]})})]})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-sm border border-slate-200",children:[b.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[b.jsx("div",{className:"p-3 bg-emerald-50 rounded-2xl text-emerald-600",children:b.jsx(p0,{size:24})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-xl font-black text-slate-800",children:"Origem de Entradas"}),b.jsx("p",{className:"text-sm text-slate-500",children:"Distribuio por categoria"})]})]}),b.jsx("div",{className:"h-[300px] w-full",children:P.incomeData.length>0?b.jsx(Pa,{width:"100%",height:"100%",children:b.jsxs(Hu,{children:[b.jsx(rl,{data:P.incomeData,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",animationDuration:1500,children:P.incomeData.map((I,O)=>b.jsx(Ri,{fill:I.color},`cell-income-${O}`))}),b.jsx(Ra,{content:({active:I,payload:O})=>{if(I&&O&&O.length){const R=O[0].payload;return b.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-xl border border-slate-100",children:[b.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:R.name}),b.jsxs("p",{className:"text-sm font-black text-emerald-600",children:["R$ ",R.value.toLocaleString("pt-BR")]})]})}return null}}),b.jsx(dl,{verticalAlign:"bottom",height:36})]})}):b.jsx("div",{className:"flex items-center justify-center h-full text-slate-400 font-medium italic",children:"Nenhuma entrada no perodo"})})]}),b.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-sm border border-slate-200",children:[b.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[b.jsx("div",{className:"p-3 bg-rose-50 rounded-2xl text-rose-600",children:b.jsx(bv,{size:24})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-xl font-black text-slate-800",children:"Destino de Sadas"}),b.jsx("p",{className:"text-sm text-slate-500",children:"Distribuio por categoria"})]})]}),b.jsx("div",{className:"h-[300px] w-full",children:P.expenseData.length>0?b.jsx(Pa,{width:"100%",height:"100%",children:b.jsxs(Hu,{children:[b.jsx(rl,{data:P.expenseData,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",animationDuration:1500,children:P.expenseData.map((I,O)=>b.jsx(Ri,{fill:I.color},`cell-expense-${O}`))}),b.jsx(Ra,{content:({active:I,payload:O})=>{if(I&&O&&O.length){const R=O[0].payload;return b.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-xl border border-slate-100",children:[b.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:R.name}),b.jsxs("p",{className:"text-sm font-black text-rose-600",children:["R$ ",R.value.toLocaleString("pt-BR")]})]})}return null}}),b.jsx(dl,{verticalAlign:"bottom",height:36})]})}):b.jsx("div",{className:"flex items-center justify-center h-full text-slate-400 font-medium italic",children:"Nenhuma sada no perodo"})})]})]}),b.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-sm border border-slate-200",children:[b.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{className:"p-3 bg-indigo-50 rounded-2xl text-indigo-600 shadow-sm",children:b.jsx(m0,{size:24})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-xl font-black text-slate-800",children:"Gastos por Etiquetas"}),b.jsx("p",{className:"text-sm text-slate-500",children:"Anlise automtica de despesas por tag"})]})]}),C.length>0&&b.jsxs("div",{className:"text-right",children:[b.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Total Categorizado"}),b.jsxs("p",{className:"text-xl font-black text-indigo-600",children:["R$ ",C.reduce((I,O)=>I+O.value,0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),b.jsx("div",{className:"h-[350px] w-full",children:C.length>0?b.jsx(Pa,{width:"100%",height:"100%",children:b.jsxs(zj,{data:C,layout:"vertical",margin:{top:5,right:120,left:20,bottom:5},barSize:24,children:[b.jsx("defs",{children:b.jsxs("linearGradient",{id:"tagGradient",x1:"0",y1:"0",x2:"1",y2:"0",children:[b.jsx("stop",{offset:"0%",stopColor:"#818cf8"}),b.jsx("stop",{offset:"100%",stopColor:"#4f46e5"})]})}),b.jsx(Dh,{strokeDasharray:"3 3",horizontal:!1,vertical:!1,stroke:"#f1f5f9"}),b.jsx(zh,{type:"number",hide:!0}),b.jsx($h,{dataKey:"name",type:"category",width:120,style:{fontSize:"12px",fontWeight:"900",fill:"#475569"},axisLine:!1,tickLine:!1}),b.jsx(Ra,{cursor:{fill:"#f8fafc",radius:12},content:({active:I,payload:O})=>{if(I&&O&&O.length){const R=O[0].payload;return b.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-2xl border border-slate-100 animate-in fade-in zoom-in duration-200",children:[b.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:R.name}),b.jsxs("p",{className:"text-sm font-black text-indigo-600",children:["R$ ",R.value.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})}return null}}),b.jsx(Uh,{dataKey:"value",fill:"url(#tagGradient)",radius:[0,8,8,0],animationDuration:1500,label:{position:"right",formatter:I=>`R$ ${I>=1e3?(I/1e3).toFixed(1)+"k":I.toFixed(0)}`,fill:"#64748b",fontSize:11,fontWeight:900,dx:10}})]})}):b.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400 bg-slate-50/50 rounded-3xl border-2 border-dashed border-slate-200",children:[b.jsx("div",{className:"p-6 bg-white rounded-full shadow-sm mb-4",children:b.jsx(m0,{size:56,className:"opacity-20 text-indigo-600"})}),b.jsx("p",{className:"text-xl font-black text-slate-800",children:"Nenhuma tag detectada"}),b.jsx("p",{className:"text-sm max-w-xs text-center mt-2 leading-relaxed text-slate-500",children:"Adicione etiquetas em suas despesas no Fluxo de Caixa para ativar este painel informativo."})]})})]})]})},Rs=({title:e,value:t,icon:n,iconBg:r,iconColor:i,trend:a,trendPositive:l,label:u})=>b.jsxs("div",{className:"bg-white p-5 rounded-2xl border border-slate-200 shadow-sm hover:shadow-md transition-all",children:[b.jsxs("div",{className:"flex items-start justify-between mb-3",children:[b.jsx("div",{className:`p-2.5 rounded-xl ${r}`,children:b.jsx("div",{className:i,children:n})}),a&&b.jsx("span",{className:`text-xs font-semibold px-2 py-1 rounded-md ${l?"bg-emerald-50 text-emerald-600":"bg-rose-50 text-rose-600"}`,children:a})]}),b.jsx("p",{className:"text-xs font-medium text-slate-500 mb-1",children:e}),b.jsx("p",{className:"text-2xl font-bold text-slate-900 mb-1",children:t>=1e3?`R$ ${(t/1e3).toFixed(1)} mil`:`R$ ${t.toLocaleString("pt-BR",{minimumFractionDigits:2})}`}),u&&b.jsx("p",{className:"text-xs font-medium text-slate-400",children:u})]}),ku=({active:e,label:t,icon:n,onClick:r})=>b.jsxs("button",{onClick:r,className:`flex items-center gap-2.5 px-5 py-2.5 rounded-xl text-[11px] font-black transition-all duration-300 ${e?"bg-white text-indigo-700 shadow-md shadow-indigo-100 scale-105 active:scale-95":"text-slate-500 hover:text-slate-900 hover:bg-white/70"}`,children:[b.jsx("span",{className:e?"text-indigo-600":"text-slate-400",children:n}),b.jsx("span",{className:"uppercase tracking-widest",children:t})]});function Gp(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function vee(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function f(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,f)}d((r=r.apply(e,t||[])).next())})}const yee=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class G_ extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class bee extends G_{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class bI extends G_{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class xI extends G_{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var vb;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(vb||(vb={}));class xee{constructor(t,{headers:n={},customFetch:r,region:i=vb.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=yee(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return vee(this,arguments,void 0,function*(n,r={}){var i;let a,l;try{const{headers:u,method:f,body:d,signal:h,timeout:m}=r;let v={},{region:_}=r;_||(_=this.region);const S=new URL(`${this.url}/${n}`);_&&_!=="any"&&(v["x-region"]=_,S.searchParams.set("forceFunctionRegion",_));let E;d&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",E=d):typeof d=="string"?(v["Content-Type"]="text/plain",E=d):typeof FormData<"u"&&d instanceof FormData?E=d:(v["Content-Type"]="application/json",E=JSON.stringify(d)):d&&typeof d!="string"&&!(typeof Blob<"u"&&d instanceof Blob)&&!(d instanceof ArrayBuffer)&&!(typeof FormData<"u"&&d instanceof FormData)?E=JSON.stringify(d):E=d;let T=h;m&&(l=new AbortController,a=setTimeout(()=>l.abort(),m),h?(T=l.signal,h.addEventListener("abort",()=>l.abort())):T=l.signal);const C=yield this.fetch(S.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),u),body:E,signal:T}).catch(R=>{throw new bee(R)}),P=C.headers.get("x-relay-error");if(P&&P==="true")throw new bI(C);if(!C.ok)throw new xI(C);let I=((i=C.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),O;return I==="application/json"?O=yield C.json():I==="application/octet-stream"||I==="application/pdf"?O=yield C.blob():I==="text/event-stream"?O=C:I==="multipart/form-data"?O=yield C.formData():O=yield C.text(),{data:O,error:null,response:C}}catch(u){return{data:null,error:u,response:u instanceof xI||u instanceof bI?u.context:void 0}}finally{a&&clearTimeout(a)}})}}var tn={},Ms={},Ds={},ks={},js={},Ls={},_ee=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ml=_ee();const wee=ml.fetch,Bj=ml.fetch.bind(ml),qj=ml.Headers,See=ml.Request,Eee=ml.Response,Tee=Object.freeze(Object.defineProperty({__proto__:null,Headers:qj,Request:See,Response:Eee,default:Bj,fetch:wee},Symbol.toStringTag,{value:"Module"})),Aee=Sz(Tee);var _f={},_I;function Fj(){if(_I)return _f;_I=1,Object.defineProperty(_f,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return _f.default=e,_f}var wI;function Gj(){if(wI)return Ls;wI=1;var e=Ls&&Ls.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ls,"__esModule",{value:!0});const t=e(Aee),n=e(Fj());class r{constructor(a){var l,u;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(l=a.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=a.signal,this.isMaybeSingle=(u=a.isMaybeSingle)!==null&&u!==void 0?u:!1,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,l){return this.headers=new Headers(this.headers),this.headers.set(a,l),this}then(a,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let f=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{var h,m,v,_;let S=null,E=null,T=null,C=d.status,P=d.statusText;if(d.ok){if(this.method!=="HEAD"){const D=await d.text();D===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((h=this.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?E=D:E=JSON.parse(D))}const O=(m=this.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),R=(v=d.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");O&&R&&R.length>1&&(T=parseInt(R[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(S={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,T=null,C=406,P="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const O=await d.text();try{S=JSON.parse(O),Array.isArray(S)&&d.status===404&&(E=[],S=null,C=200,P="OK")}catch{d.status===404&&O===""?(C=204,P="No Content"):S={message:O}}if(S&&this.isMaybeSingle&&(!((_=S==null?void 0:S.details)===null||_===void 0)&&_.includes("0 rows"))&&(S=null,C=200,P="OK"),S&&this.shouldThrowOnError)throw new n.default(S)}return{error:S,data:E,count:T,status:C,statusText:P}});return this.shouldThrowOnError||(f=f.catch(d=>{var h,m,v;return{error:{message:`${(h=d==null?void 0:d.name)!==null&&h!==void 0?h:"FetchError"}: ${d==null?void 0:d.message}`,details:`${(m=d==null?void 0:d.stack)!==null&&m!==void 0?m:""}`,hint:"",code:`${(v=d==null?void 0:d.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),f.then(a,l)}returns(){return this}overrideTypes(){return this}}return Ls.default=r,Ls}var SI;function Hj(){if(SI)return js;SI=1;var e=js&&js.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(js,"__esModule",{value:!0});const t=e(Gj());class n extends t.default{select(i){let a=!1;const l=(i??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:a=!0,nullsFirst:l,foreignTable:u,referencedTable:f=u}={}){const d=f?`${f}.order`:"order",h=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${h?`${h},`:""}${i}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:l=a}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${i}`),this}range(i,a,{foreignTable:l,referencedTable:u=l}={}){const f=typeof u>"u"?"offset":`${u}.offset`,d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${i}`),this.url.searchParams.set(d,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:a=!1,settings:l=!1,buffers:u=!1,wal:f=!1,format:d="text"}={}){var h;const m=[i?"analyze":null,a?"verbose":null,l?"settings":null,u?"buffers":null,f?"wal":null].filter(Boolean).join("|"),v=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${v}"; options=${m};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return js.default=n,js}var EI;function H_(){if(EI)return ks;EI=1;var e=ks&&ks.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ks,"__esModule",{value:!0});const t=e(Hj());class n extends t.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const l=Array.from(new Set(a)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:l,type:u}={}){let f="";u==="plain"?f="pl":u==="phrase"?f="ph":u==="websearch"&&(f="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${f}fts${d}.${a}`),this}match(i){return Object.entries(i).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(i,a,l){return this.url.searchParams.append(i,`not.${a}.${l}`),this}or(i,{foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${i})`),this}filter(i,a,l){return this.url.searchParams.append(i,`${a}.${l}`),this}}return ks.default=n,ks}var TI;function Vj(){if(TI)return Ds;TI=1;var e=Ds&&Ds.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ds,"__esModule",{value:!0});const t=e(H_());class n{constructor(i,{headers:a={},schema:l,fetch:u}){this.url=i,this.headers=new Headers(a),this.schema=l,this.fetch=u}select(i,{head:a=!1,count:l}={}){const u=a?"HEAD":"GET";let f=!1;const d=(i??"*").split("").map(h=>/\s/.test(h)&&!f?"":(h==='"'&&(f=!f),h)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:a,defaultToNull:l=!0}={}){var u;const f="POST";if(a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(d.length>0){const h=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(i,{onConflict:a,ignoreDuplicates:l=!1,count:u,defaultToNull:f=!0}={}){var d;const h="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),a!==void 0&&this.url.searchParams.set("on_conflict",a),u&&this.headers.append("Prefer",`count=${u}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(m.length>0){const v=[...new Set(m)].map(_=>`"${_}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}update(i,{count:a}={}){var l;const u="PATCH";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:i}={}){var a;const l="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}}return Ds.default=n,Ds}var AI;function Cee(){if(AI)return Ms;AI=1;var e=Ms&&Ms.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Ms,"__esModule",{value:!0});const t=e(Vj()),n=e(H_());class r{constructor(a,{headers:l={},schema:u,fetch:f}={}){this.url=a,this.headers=new Headers(l),this.schemaName=u,this.fetch=f}from(a){const l=new URL(`${this.url}/${a}`);return new t.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(a){return new r(this.url,{headers:this.headers,schema:a,fetch:this.fetch})}rpc(a,l={},{head:u=!1,get:f=!1,count:d}={}){var h;let m;const v=new URL(`${this.url}/rpc/${a}`);let _;u||f?(m=u?"HEAD":"GET",Object.entries(l).filter(([E,T])=>T!==void 0).map(([E,T])=>[E,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([E,T])=>{v.searchParams.append(E,T)})):(m="POST",_=l);const S=new Headers(this.headers);return d&&S.set("Prefer",`count=${d}`),new n.default({method:m,url:v,headers:S,schema:this.schemaName,body:_,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}}return Ms.default=r,Ms}var CI;function Nee(){if(CI)return tn;CI=1;var e=tn&&tn.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(tn,"__esModule",{value:!0}),tn.PostgrestError=tn.PostgrestBuilder=tn.PostgrestTransformBuilder=tn.PostgrestFilterBuilder=tn.PostgrestQueryBuilder=tn.PostgrestClient=void 0;const t=e(Cee());tn.PostgrestClient=t.default;const n=e(Vj());tn.PostgrestQueryBuilder=n.default;const r=e(H_());tn.PostgrestFilterBuilder=r.default;const i=e(Hj());tn.PostgrestTransformBuilder=i.default;const a=e(Gj());tn.PostgrestBuilder=a.default;const l=e(Fj());return tn.PostgrestError=l.default,tn.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:l.default},tn}var Oee=Nee();const Iee=Br(Oee),{PostgrestClient:Pee,PostgrestQueryBuilder:Bce,PostgrestFilterBuilder:qce,PostgrestTransformBuilder:Fce,PostgrestBuilder:Gce,PostgrestError:Hce}=Iee;class Ree{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Mee="2.95.3",Dee=`realtime-js/${Mee}`,kee="1.0.0",Kj="2.0.0",NI=Kj,yb=1e4,jee=1e3,Lee=100;var Ca;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ca||(Ca={}));var Yt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Yt||(Yt={}));var Pr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Pr||(Pr={}));var bb;(function(e){e.websocket="websocket"})(bb||(bb={}));var yo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(yo||(yo={}));class Uee{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},l=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,n,r){var i,a;const l=t.topic,u=(i=t.ref)!==null&&i!==void 0?i:"",f=(a=t.join_ref)!==null&&a!==void 0?a:"",d=t.payload.event,h=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},m=Object.keys(h).length===0?"":JSON.stringify(h);if(f.length>255)throw new Error(`joinRef length ${f.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+f.length+u.length+l.length+d.length+m.length,_=new ArrayBuffer(this.HEADER_LENGTH+v);let S=new DataView(_),E=0;S.setUint8(E++,this.KINDS.userBroadcastPush),S.setUint8(E++,f.length),S.setUint8(E++,u.length),S.setUint8(E++,l.length),S.setUint8(E++,d.length),S.setUint8(E++,m.length),S.setUint8(E++,n),Array.from(f,C=>S.setUint8(E++,C.charCodeAt(0))),Array.from(u,C=>S.setUint8(E++,C.charCodeAt(0))),Array.from(l,C=>S.setUint8(E++,C.charCodeAt(0))),Array.from(d,C=>S.setUint8(E++,C.charCodeAt(0))),Array.from(m,C=>S.setUint8(E++,C.charCodeAt(0)));var T=new Uint8Array(_.byteLength+r.byteLength);return T.set(new Uint8Array(_),0),T.set(new Uint8Array(r),_.byteLength),T.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,a,l,u,f]=r;return n({join_ref:i,ref:a,topic:l,event:u,payload:f})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),a=n.getUint8(2),l=n.getUint8(3),u=n.getUint8(4);let f=this.HEADER_LENGTH+4;const d=r.decode(t.slice(f,f+i));f=f+i;const h=r.decode(t.slice(f,f+a));f=f+a;const m=r.decode(t.slice(f,f+l));f=f+l;const v=t.slice(f,t.byteLength),_=u===this.JSON_ENCODING?JSON.parse(r.decode(v)):v,S={type:this.BROADCAST_EVENT,event:h,payload:_};return l>0&&(S.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class Yj{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var mt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(mt||(mt={}));const OI=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((a,l)=>(a[l]=zee(l,e,t,i),a),{}):{}},zee=(e,t,n,r)=>{const i=t.find(u=>u.name===e),a=i==null?void 0:i.type,l=n[e];return a&&!r.includes(a)?Wj(a,l):xb(l)},Wj=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Fee(t,n)}switch(e){case mt.bool:return $ee(t);case mt.float4:case mt.float8:case mt.int2:case mt.int4:case mt.int8:case mt.numeric:case mt.oid:return Bee(t);case mt.json:case mt.jsonb:return qee(t);case mt.timestamp:return Gee(t);case mt.abstime:case mt.date:case mt.daterange:case mt.int4range:case mt.int8range:case mt.money:case mt.reltime:case mt.text:case mt.time:case mt.timestamptz:case mt.timetz:case mt.tsrange:case mt.tstzrange:return xb(t);default:return xb(t)}},xb=e=>e,$ee=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Bee=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},qee=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Fee=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let a;const l=e.slice(1,n);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(u=>Wj(t,u))}return e},Gee=e=>typeof e=="string"?e.replace(" ","T"):e,Jj=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class r0{constructor(t,n,r={},i=yb){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var II;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(II||(II={}));class Vu{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vu.syncState(this.state,i,a,l),this.pendingDiffs.forEach(f=>{this.state=Vu.syncDiff(this.state,f,a,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Vu.syncDiff(this.state,i,a,l),u())}),this.onJoin((i,a,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:l})}),this.onLeave((i,a,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const a=this.cloneDeep(t),l=this.transformState(n),u={},f={};return this.map(a,(d,h)=>{l[d]||(f[d]=h)}),this.map(l,(d,h)=>{const m=a[d];if(m){const v=h.map(T=>T.presence_ref),_=m.map(T=>T.presence_ref),S=h.filter(T=>_.indexOf(T.presence_ref)<0),E=m.filter(T=>v.indexOf(T.presence_ref)<0);S.length>0&&(u[d]=S),E.length>0&&(f[d]=E)}else u[d]=h}),this.syncDiff(a,{joins:u,leaves:f},r,i)}static syncDiff(t,n,r,i){const{joins:a,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(u,f)=>{var d;const h=(d=t[u])!==null&&d!==void 0?d:[];if(t[u]=this.cloneDeep(f),h.length>0){const m=t[u].map(_=>_.presence_ref),v=h.filter(_=>m.indexOf(_.presence_ref)<0);t[u].unshift(...v)}r(u,h,f)}),this.map(l,(u,f)=>{let d=t[u];if(!d)return;const h=f.map(m=>m.presence_ref);d=d.filter(m=>h.indexOf(m.presence_ref)<0),t[u]=d,i(u,d,f),d.length===0&&delete t[u]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var PI;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(PI||(PI={}));var Ku;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ku||(Ku={}));var Ti;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ti||(Ti={}));class Xs{constructor(t,n={config:{}},r){var i,a;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Yt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new r0(this,Pr.join,this.params,this.timeout),this.rejoinTimer=new Yj(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Yt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Yt.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Yt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pr.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new Vu(this),this.broadcastEndpointURL=Jj(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Yt.closed){const{config:{broadcast:l,presence:u,private:f}}=this.params,d=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(_=>_.filter))!==null&&i!==void 0?i:[],h=!!this.bindings[Ku.PRESENCE]&&this.bindings[Ku.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,m={},v={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:h}),postgres_changes:d,private:f};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(_=>t==null?void 0:t(Ti.CHANNEL_ERROR,_)),this._onClose(()=>t==null?void 0:t(Ti.CLOSED)),this.updateJoinPayload(Object.assign({config:v},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:_})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){t==null||t(Ti.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,T=(S=E==null?void 0:E.length)!==null&&S!==void 0?S:0,C=[];for(let P=0;P<T;P++){const I=E[P],{filter:{event:O,schema:R,table:D,filter:M}}=I,z=_&&_[P];if(z&&z.event===O&&Xs.isFilterValueEqual(z.schema,R)&&Xs.isFilterValueEqual(z.table,D)&&Xs.isFilterValueEqual(z.filter,M))C.push(Object.assign(Object.assign({},I),{id:z.id}));else{this.unsubscribe(),this.state=Yt.errored,t==null||t(Ti.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,t&&t(Ti.SUBSCRIBED);return}}).receive("error",_=>{this.state=Yt.errored,t==null||t(Ti.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ti.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Yt.joined&&t===Ku.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(u.status===202)return{success:!0};let f=u.statusText;try{const d=await u.json();f=d.error||d.message||f}catch{}return Promise.reject(new Error(f))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:l}=t,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,u,f;const d=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((f=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||f===void 0)&&f.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Yt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pr.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new r0(this,Pr.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Yt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new r0(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Lee){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,a;const l=t.toLocaleLowerCase(),{close:u,error:f,leave:d,join:h}=Pr;if(r&&[u,f,d,h].indexOf(l)>=0&&r!==this._joinRef())return;let v=this._onMessage(l,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(_=>{var S,E,T;return((S=_.filter)===null||S===void 0?void 0:S.event)==="*"||((T=(E=_.filter)===null||E===void 0?void 0:E.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===l}).map(_=>_.callback(v,r)):(a=this.bindings[l])===null||a===void 0||a.filter(_=>{var S,E,T,C,P,I;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in _){const O=_.id,R=(S=_.filter)===null||S===void 0?void 0:S.event;return O&&((E=n.ids)===null||E===void 0?void 0:E.includes(O))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const O=(P=(C=_==null?void 0:_.filter)===null||C===void 0?void 0:C.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return O==="*"||O===((I=n==null?void 0:n.event)===null||I===void 0?void 0:I.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===l}).map(_=>{if(typeof v=="object"&&"ids"in v){const S=v.data,{schema:E,table:T,commit_timestamp:C,type:P,errors:I}=S;v=Object.assign(Object.assign({},{schema:E,table:T,commit_timestamp:C,eventType:P,new:{},old:{},errors:I}),this._getPayloadRecords(S))}_.callback(v,r)})}_isClosed(){return this.state===Yt.closed}_isJoined(){return this.state===Yt.joined}_isJoining(){return this.state===Yt.joining}_isLeaving(){return this.state===Yt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Xs.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Pr.close,{},t)}_onError(t){this._on(Pr.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Yt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=OI(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=OI(t.columns,t.old_record)),n}}const i0=()=>{},wf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Hee=[1e3,2e3,5e3,1e4],Vee=1e4,Kee=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Yee{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=yb,this.transport=null,this.heartbeatIntervalMs=wf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=i0,this.ref=0,this.reconnectTimer=null,this.vsn=NI,this.logger=i0,this.conn=null,this.sendBuffer=[],this.serializer=new Uee,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${bb.websocket}`,this.httpEndpoint=Jj(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ree.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return n==="ok"&&this._remove(t),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ca.connecting:return yo.Connecting;case Ca.open:return yo.Open;case Ca.closing:return yo.Closing;default:return yo.Closed}}isConnected(){return this.connectionState()===yo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new Xs(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:r,payload:i,ref:a}=t,l=()=>{this.encode(t,u=>{var f;(f=this.conn)===null||f===void 0||f.send(u)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(jee,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},wf.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const d=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",d)}catch(h){this.log("error","error in heartbeat callback",h)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:a,ref:l}=n,u=l?`(${l})`:"",f=a.status||"";this.log("receive",`${f} ${r} ${i} ${u}`.trim(),a),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(i,a,l)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Ca.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ca.open||this.conn.readyState===Ca.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Pr.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([Kee],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const a={access_token:n,version:Dee};n&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(Pr.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Yj(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},wf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,a,l,u,f,d,h,m,v,_;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:yb,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:wf.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=t==null?void 0:t.heartbeatCallback)!==null&&u!==void 0?u:i0,this.vsn=(f=t==null?void 0:t.vsn)!==null&&f!==void 0?f:NI,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:(S=>Hee[S-1]||Vee),this.vsn){case kee:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:((S,E)=>E(JSON.stringify(S))),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:((S,E)=>E(JSON.parse(S)));break;case Kj:this.encode=(v=t==null?void 0:t.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(_=t==null?void 0:t.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var dc=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Wee(e,t,n){const r=new URL(t,e);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function Jee(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Xee(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:l}){const u=Wee(e.baseUrl,r,i),f=await Jee(e.auth),d=await t(u,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...f,...l},body:a?JSON.stringify(a):void 0}),h=await d.text(),m=(d.headers.get("content-type")||"").includes("application/json"),v=m&&h?JSON.parse(h):h;if(!d.ok){const _=m?v:void 0,S=_==null?void 0:_.error;throw new dc((S==null?void 0:S.message)??`Request failed with status ${d.status}`,{status:d.status,icebergType:S==null?void 0:S.type,icebergCode:S==null?void 0:S.code,details:_})}return{status:d.status,headers:d.headers,data:v}}}}function Sf(e){return e.join("")}var Zee=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Sf(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Sf(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Sf(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Sf(e.namespace)}`}),!0}catch(t){if(t instanceof dc&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof dc&&n.status===409)return;throw n}}};function Us(e){return e.join("")}var Qee=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Us(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Us(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Us(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Us(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Us(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Us(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof dc&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof dc&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},ete=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Xee({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new Zee(this.client,t),this.tableOps=new Qee(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Hp=class extends Error{constructor(e,t="storage",n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function Vp(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Ef=class extends Hp{constructor(e,t,n,r="storage"){super(e,r,t,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Xj=class extends Hp{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const tte=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),nte=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},_b=e=>{if(Array.isArray(e))return e.map(n=>_b(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[i]=_b(r)}),t},rte=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function fc(e){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(e)}function ite(e,t){if(fc(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(fc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ate(e){var t=ite(e,"string");return fc(t)=="symbol"?t:t+""}function ote(e,t,n){return(t=ate(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RI(Object(n),!0).forEach(function(r){ote(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const MI=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},ste=async(e,t,n,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const i=e,a=i.status||500;if(typeof i.json=="function")i.json().then(l=>{const u=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||a+"";t(new Ef(MI(l),a,u,r))}).catch(()=>{if(r==="vectors"){const l=a+"";t(new Ef(i.statusText||`HTTP ${a} error`,a,l,r))}else{const l=a+"";t(new Ef(i.statusText||`HTTP ${a} error`,a,l,r))}});else{const l=a+"";t(new Ef(i.statusText||`HTTP ${a} error`,a,l,r))}}else t(new Xj(MI(e),e,r))},lte=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!r?ke(ke({},i),n):(nte(r)?(i.headers=ke({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),ke(ke({},i),n))};async function ju(e,t,n,r,i,a,l){return new Promise((u,f)=>{e(n,lte(t,r,i,a)).then(d=>{if(!d.ok)throw d;if(r!=null&&r.noResolveJson)return d;if(l==="vectors"){const h=d.headers.get("content-type");if(d.headers.get("content-length")==="0"||d.status===204)return{};if(!h||!h.includes("application/json"))return{}}return d.json()}).then(d=>u(d)).catch(d=>ste(d,f,r,l))})}function Zj(e="storage"){return{get:async(t,n,r,i)=>ju(t,"GET",n,r,i,void 0,e),post:async(t,n,r,i,a)=>ju(t,"POST",n,i,a,r,e),put:async(t,n,r,i,a)=>ju(t,"PUT",n,i,a,r,e),head:async(t,n,r,i)=>ju(t,"HEAD",n,ke(ke({},r),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,n,r,i,a)=>ju(t,"DELETE",n,i,a,r,e)}}const ute=Zj("storage"),{get:hc,post:Ir,put:wb,head:cte,remove:V_}=ute,nr=Zj("vectors");var Nl=class{constructor(e,t={},n,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=tte(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Vp(n))return{data:null,error:n};throw n}}},dte=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Vp(t))return{data:null,error:t};throw t}}};let Qj;Qj=Symbol.toStringTag;var fte=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Qj]="BlobDownloadBuilder",this.promise=null}asStream(){return new dte(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Vp(t))return{data:null,error:t};throw t}}};const hte={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},DI={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var pte=class extends Nl{constructor(e,t={},n,r){super(e,t,r,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var i=this;return i.handleOperation(async()=>{let a;const l=ke(ke({},DI),r);let u=ke(ke({},i.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),f&&a.append("metadata",i.encodeMetadata(f)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",l.cacheControl),f&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(f))):(a=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,f&&(u["x-metadata"]=i.toBase64(i.encodeMetadata(f))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!l.duplex&&(l.duplex="half")),r!=null&&r.headers&&(u=ke(ke({},u),r.headers));const d=i._removeEmptyFolders(t),h=i._getFinalPath(d),m=await(e=="PUT"?wb:Ir)(i.fetch,`${i.url}/object/${h}`,a,ke({headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{path:d,id:m.Id,fullPath:m.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var i=this;const a=i._removeEmptyFolders(e),l=i._getFinalPath(a),u=new URL(i.url+`/object/upload/sign/${l}`);return u.searchParams.set("token",t),i.handleOperation(async()=>{let f;const d=ke({upsert:DI.upsert},r),h=ke(ke({},i.headers),{"x-upsert":String(d.upsert)});return typeof Blob<"u"&&n instanceof Blob?(f=new FormData,f.append("cacheControl",d.cacheControl),f.append("",n)):typeof FormData<"u"&&n instanceof FormData?(f=n,f.append("cacheControl",d.cacheControl)):(f=n,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType),{path:a,fullPath:(await wb(i.fetch,u.toString(),f,{headers:h})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e);const i=ke({},n.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const a=await Ir(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(n.url+a.url),u=l.searchParams.get("token");if(!u)throw new Hp("No token returned by API");return{signedUrl:l.toString(),path:e,token:u}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await Ir(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await Ir(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(e),a=await Ir(r.fetch,`${r.url}/object/sign/${i}`,ke({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${a.signedURL}${l}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{const i=await Ir(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i.map(l=>ke(ke({},l),{},{signedUrl:l.signedURL?encodeURI(`${r.url}${l.signedURL}${a}`):null}))})}download(e,t,n){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=i?`?${i}`:"",l=this._getFinalPath(e),u=()=>hc(this.fetch,`${this.url}/${r}/${l}${a}`,{headers:this.headers,noResolveJson:!0},n);return new fte(u,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>_b(await hc(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await cte(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Vp(r)&&r instanceof Xj){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&r.push(l);let u=r.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await V_(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{const i=ke(ke(ke({},hte),t),{},{prefix:e||""});return await Ir(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const r=ke({},e);return await Ir(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const mte="2.95.3",zc={"X-Client-Info":`storage-js/${mte}`};var gte=class extends Nl{constructor(e,t={},n,r){const i=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const a=i.href.replace(/\/$/,""),l=ke(ke({},zc),t);super(a,l,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await hc(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await hc(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await Ir(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await wb(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Ir(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await V_(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},vte=class extends Nl{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=ke(ke({},zc),t);super(r,i,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Ir(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await hc(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await V_(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!rte(e))throw new Hp("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new ete({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,a){const l=i[a];return typeof l!="function"?l:async(...u)=>{try{return{data:await l.apply(i,u),error:null}}catch(f){if(r)throw f;return{data:null,error:f}}}}})}},yte=class extends Nl{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=ke(ke({},zc),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await nr.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await nr.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await nr.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await nr.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},bte=class extends Nl{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=ke(ke({},zc),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await nr.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await nr.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await nr.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await nr.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await nr.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},xte=class extends Nl{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=ke(ke({},zc),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await nr.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await nr.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await nr.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await nr.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},_te=class extends xte{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new wte(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},wte=class extends yte{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,ke(ke({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,ke(ke({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new Ste(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Ste=class extends bte{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,ke(ke({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,ke(ke({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,ke(ke({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,ke(ke({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,ke(ke({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},Ete=class extends gte{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new pte(this.url,this.headers,e,this.fetch)}get vectors(){return new _te(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new vte(this.url+"/iceberg",this.headers,this.fetch)}};const Tte="2.39.3";let qu="";typeof Deno<"u"?qu="deno":typeof document<"u"?qu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qu="react-native":qu="node";const Ate={"X-Client-Info":`supabase-js-${qu}/${Tte}`};var Cte=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function f(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,f)}d((r=r.apply(e,t||[])).next())})};const Nte=e=>{let t;return e?t=e:typeof fetch>"u"?t=Bj:t=fetch,(...n)=>t(...n)},Ote=()=>typeof Headers>"u"?qj:Headers,Ite=(e,t,n)=>{const r=Nte(n),i=Ote();return(a,l)=>Cte(void 0,void 0,void 0,function*(){var u;const f=(u=yield t())!==null&&u!==void 0?u:e;let d=new i(l==null?void 0:l.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${f}`),r(a,Object.assign(Object.assign({},l),{headers:d}))})};function Pte(e){return e.replace(/\/$/,"")}function Rte(e,t){const{db:n,auth:r,realtime:i,global:a}=e,{db:l,auth:u,realtime:f,global:d}=t;return{db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},u),r),realtime:Object.assign(Object.assign({},f),i),global:Object.assign(Object.assign({},d),a)}}const eL="2.95.3",Hs=30*1e3,Sb=3,a0=Sb*Hs,Mte="http://localhost:9999",Dte="supabase.auth.token",kte={"X-Client-Info":`gotrue-js/${eL}`},Eb="X-Supabase-Api-Version",tL={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},jte=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Lte=600*1e3;class pc extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Oe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Ute extends pc{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function zte(e){return Oe(e)&&e.name==="AuthApiError"}class bo extends pc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Wi extends pc{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class er extends Wi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function o0(e){return Oe(e)&&e.name==="AuthSessionMissingError"}class zs extends Wi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Tf extends Wi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Af extends Wi{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function $te(e){return Oe(e)&&e.name==="AuthImplicitGrantRedirectError"}class kI extends Wi{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bte extends Wi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Tb extends Wi{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function s0(e){return Oe(e)&&e.name==="AuthRetryableFetchError"}class jI extends Wi{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ab extends Wi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Fh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),LI=` 	
\r=`.split(""),qte=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<LI.length;t+=1)e[LI[t].charCodeAt(0)]=-2;for(let t=0;t<Fh.length;t+=1)e[Fh[t].charCodeAt(0)]=t;return e})();function UI(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Fh[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Fh[r]),t.queuedBits-=6}}function nL(e,t,n){const r=qte[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function zI(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=l=>{Hte(l,r,n)};for(let l=0;l<e.length;l+=1)nL(e.charCodeAt(l),i,a);return t.join("")}function Fte(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Gte(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}Fte(r,t)}}function Hte(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function il(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)nL(e.charCodeAt(i),n,r);return new Uint8Array(t)}function Vte(e){const t=[];return Gte(e,n=>t.push(n)),new Uint8Array(t)}function Eo(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>UI(i,n,r)),UI(null,n,r),t.join("")}function Kte(e){return Math.round(Date.now()/1e3)+e}function Yte(){return Symbol("auth-callback")}const vn=()=>typeof window<"u"&&typeof document<"u",co={tested:!1,writable:!1},rL=()=>{if(!vn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(co.tested)return co.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),co.tested=!0,co.writable=!0}catch{co.tested=!0,co.writable=!1}return co.writable};function Wte(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{t[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const iL=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Jte=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Vs=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},fo=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},gn=async(e,t)=>{await e.removeItem(t)};class Kp{constructor(){this.promise=new Kp.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Kp.promiseConstructor=Promise;function Cf(e){const t=e.split(".");if(t.length!==3)throw new Ab("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!jte.test(t[r]))throw new Ab("JWT not in base64url format");return{header:JSON.parse(zI(t[0])),payload:JSON.parse(zI(t[1])),signature:il(t[2]),raw:{header:t[0],payload:t[1]}}}async function Xte(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Zte(e,t){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await e(a);if(!t(a,null,l)){r(l);return}}catch(l){if(!t(a,l)){i(l);return}}})()})}function Qte(e){return("0"+e.toString(16)).substr(-2)}function ene(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,Qte).join("")}async function tne(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function nne(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await tne(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $s(e,t,n=!1){const r=ene();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Vs(e,`${t}-code-verifier`,i);const a=await nne(r);return[a,r===a?"plain":"s256"]}const rne=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ine(e){const t=e.headers.get(Eb);if(!t||!t.match(rne))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function ane(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function one(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const sne=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Bs(e){if(!sne.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function l0(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function lne(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function $I(e){return JSON.parse(JSON.stringify(e))}const go=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),une=[502,503,504];async function BI(e){var t;if(!Jte(e))throw new Tb(go(e),0);if(une.includes(e.status))throw new Tb(go(e),e.status);let n;try{n=await e.json()}catch(a){throw new bo(go(a),a)}let r;const i=ine(e);if(i&&i.getTime()>=tL["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new jI(go(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new er}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new jI(go(n),e.status,n.weak_password.reasons);throw new Ute(go(n),e.status||500,r)}const cne=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Me(e,t,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[Eb]||(a[Eb]=tL["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await dne(e,t,n+u,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(f):{data:Object.assign({},f),error:null}}async function dne(e,t,n,r,i,a){const l=cne(t,r,i,a);let u;try{u=await e(n,Object.assign({},l))}catch(f){throw console.error(f),new Tb(go(f),0)}if(u.ok||await BI(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(f){await BI(f)}}function Or(e){var t;let n=null;pne(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Kte(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function qI(e){const t=Or(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Oa(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function fne(e){return{data:e,error:null}}function hne(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=e,l=Gp(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},f=Object.assign({},l);return{data:{properties:u,user:f},error:null}}function FI(e){return e}function pne(e){return e.access_token&&e.refresh_token&&e.expires_in}const u0=["global","local","others"];class mne{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=iL(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=u0[0]){if(u0.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${u0.join(", ")}`);try{return await Me(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Me(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Oa})}catch(r){if(Oe(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Gp(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:hne,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Oe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Me(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Oa})}catch(n){if(Oe(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,a,l,u,f;try{const d={nextPage:null,lastPage:0,total:0},h=await Me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:FI});if(h.error)throw h.error;const m=await h.json(),v=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(f=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return _.length>0&&(_.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(S.split(";")[1].split("=")[1]);d[`${T}Page`]=E}),d.total=parseInt(v)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(Oe(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Bs(t);try{return await Me(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Oa})}catch(n){if(Oe(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Bs(t);try{return await Me(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Oa})}catch(r){if(Oe(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Bs(t);try{return await Me(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Oa})}catch(r){if(Oe(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Bs(t.userId);try{const{data:n,error:r}=await Me(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Bs(t.userId),Bs(t.id);try{return{data:await Me(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,a,l,u,f;try{const d={nextPage:null,lastPage:0,total:0},h=await Me(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:FI});if(h.error)throw h.error;const m=await h.json(),v=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,_=(f=(u=h.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return _.length>0&&(_.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(S.split(";")[1].split("=")[1]);d[`${T}Page`]=E}),d.total=parseInt(v)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(Oe(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await Me(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await Me(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await Me(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await Me(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await Me(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Oe(n))return{data:null,error:n};throw n}}}function GI(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const qs={debug:!!(globalThis&&rL()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class aL extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class gne extends aL{}async function vne(e,t,n){qs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),qs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){qs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{qs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw qs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new gne(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(qs.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function yne(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function oL(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function bne(e){return parseInt(e,16)}function xne(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function _ne(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:l,notBefore:u,requestId:f,resources:d,scheme:h,uri:m,version:v}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const _=oL(e.address),S=h?`${h}://${r}`:r,E=e.statement?`${e.statement}
`:"",T=`${S} wants you to sign in with your Ethereum account:
${_}

${E}`;let C=`URI: ${m}
Version: ${v}
Chain ID: ${n}${l?`
Nonce: ${l}`:""}
Issued At: ${a.toISOString()}`;if(i&&(C+=`
Expiration Time: ${i.toISOString()}`),u&&(C+=`
Not Before: ${u.toISOString()}`),f&&(C+=`
Request ID: ${f}`),d){let P=`
Resources:`;for(const I of d){if(!I||typeof I!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${I}`);P+=`
- ${I}`}C+=P}return`${T}
${C}`}class qt extends Error{constructor({message:t,code:n,cause:r,name:i}){var a;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Gh extends qt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function wne({error:e,options:t}){var n,r,i;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new qt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new qt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new qt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new qt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new qt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new qt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new qt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new qt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(sL(l)){if(a.rp.id!==l)return new qt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new qt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new qt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new qt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new qt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Sne({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new qt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new qt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(sL(r)){if(n.rpId!==r)return new qt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new qt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new qt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new qt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Ene{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Tne=new Ene;function Ane(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=Gp(e,["challenge","user","excludeCredentials"]),a=il(t).buffer,l=Object.assign(Object.assign({},n),{id:il(n.id).buffer}),u=Object.assign(Object.assign({},i),{challenge:a,user:l});if(r&&r.length>0){u.excludeCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const d=r[f];u.excludeCredentials[f]=Object.assign(Object.assign({},d),{id:il(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return u}function Cne(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Gp(e,["challenge","allowCredentials"]),i=il(t).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.allowCredentials[l]=Object.assign(Object.assign({},u),{id:il(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function Nne(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Eo(new Uint8Array(e.response.attestationObject)),clientDataJSON:Eo(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function One(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Eo(new Uint8Array(i.authenticatorData)),clientDataJSON:Eo(new Uint8Array(i.clientDataJSON)),signature:Eo(new Uint8Array(i.signature)),userHandle:i.userHandle?Eo(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function sL(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function HI(){var e,t;return!!(vn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Ine(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Gh("Browser returned unexpected credential type",t)}:{data:null,error:new Gh("Empty credential response",t)}}catch(t){return{data:null,error:wne({error:t,options:e})}}}async function Pne(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Gh("Browser returned unexpected credential type",t)}:{data:null,error:new Gh("Empty credential response",t)}}catch(t){return{data:null,error:Sne({error:t,options:e})}}}const Rne={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Mne={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Hh(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const a in i){const l=i[a];if(l!==void 0)if(Array.isArray(l))r[a]=l;else if(n(l))r[a]=l;else if(t(l)){const u=r[a];t(u)?r[a]=Hh(u,l):r[a]=Hh(l)}else r[a]=l}return r}function Dne(e,t){return Hh(Rne,e,t||{})}function kne(e,t){return Hh(Mne,e,t||{})}class jne{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},a){var l;try{const{data:u,error:f}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!u)return{data:null,error:f};const d=i??Tne.createNewAbortSignal();if(u.webauthn.type==="create"){const{user:h}=u.webauthn.credential_options.publicKey;if(!h.name){const m=r;if(m)h.name=`${h.id}:${m}`;else{const _=(await this.client.getUser()).data.user,S=((l=_==null?void 0:_.user_metadata)===null||l===void 0?void 0:l.name)||(_==null?void 0:_.email)||(_==null?void 0:_.id)||"User";h.name=`${h.id}:${S}`}}h.displayName||(h.displayName=h.name)}switch(u.webauthn.type){case"create":{const h=Dne(u.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:m,error:v}=await Ine({publicKey:h,signal:d});return m?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:m}},error:null}:{data:null,error:v}}case"request":{const h=kne(u.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:m,error:v}=await Pne(Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:h,signal:d}));return m?{data:{factorId:t,challengeId:u.id,webauthn:{type:u.webauthn.type,credential_response:m}},error:null}:{data:null,error:v}}}}catch(u){return Oe(u)?{data:null,error:u}:{data:null,error:new bo("Unexpected error in challenge",u)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new pc("rpId is required for WebAuthn authentication")};try{if(!HI())return{data:null,error:new bo("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!l)return{data:null,error:u};const{webauthn:f}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:f.type,rpId:n,rpOrigins:r,credential_response:f.credential_response}})}catch(l){return Oe(l)?{data:null,error:l}:{data:null,error:new bo("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new pc("rpId is required for WebAuthn registration")};try{if(!HI())return{data:null,error:new bo("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(h=>{var m;return(m=h.data)===null||m===void 0?void 0:m.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===t&&v.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:u};const{data:f,error:d}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return f?this._verify({factorId:l.id,challengeId:f.challengeId,webauthn:{rpId:n,rpOrigins:r,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:d}}catch(l){return Oe(l)?{data:null,error:l}:{data:null,error:new bo("Unexpected error in register",l)}}}}yne();const Lne={url:Mte,storageKey:Dte,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kte,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function VI(e,t,n){return await n()}const Fs={};class mc{get jwks(){var t,n;return(n=(t=Fs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Fs[this.storageKey]=Object.assign(Object.assign({},Fs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Fs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Fs[this.storageKey]=Object.assign(Object.assign({},Fs[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},Lne),t);if(this.storageKey=a.storageKey,this.instanceID=(n=mc.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,mc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&vn()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new mne({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=iL(a.fetch),this.lock=a.lock||VI,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&vn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=vne:this.lock=VI,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new jne(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:rL()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=GI(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=GI(this.memoryStorage)),vn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l);try{await this._notifyAllSubscribers(l.data.event,l.data.session,!1)}catch(u){this._debug("#broadcastChannel","error",u)}})}this.initialize().catch(l=>{this._debug("#initialize()","error",l)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${eL}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(vn()&&(n=Wte(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),vn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),$te(a)){const f=(t=a.details)===null||t===void 0?void 0:t.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:l,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Oe(n)?this._returnResult({error:n}):this._returnResult({error:new bo("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const a=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Or}),{data:l,error:u}=a;if(u||!l)return this._returnResult({data:{user:null,session:null},error:u});const f=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:d,session:f},error:null})}catch(a){if(Oe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,r,i;try{let a;if("email"in t){const{email:h,password:m,options:v}=t;let _=null,S=null;this.flowType==="pkce"&&([_,S]=await $s(this.storage,this.storageKey)),a=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:h,password:m,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:_,code_challenge_method:S},xform:Or})}else if("phone"in t){const{phone:h,password:m,options:v}=t;a=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:m,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Or})}else throw new Tf("You must provide either an email or phone number and a password");const{data:l,error:u}=a;if(u||!l)return await gn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const f=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),this._returnResult({data:{user:d,session:f},error:null})}catch(a){if(await gn(this.storage,`${this.storageKey}-code-verifier`),Oe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:l,options:u}=t;n=await Me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:qI})}else if("phone"in t){const{phone:a,password:l,options:u}=t;n=await Me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:qI})}else throw new Tf("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new zs;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Oe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,a,l,u,f,d,h,m,v;let _,S;if("message"in t)_=t.message,S=t.signature;else{const{chain:E,wallet:T,statement:C,options:P}=t;let I;if(vn())if(typeof T=="object")I=T;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")I=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=T}const O=new URL((n=P==null?void 0:P.url)!==null&&n!==void 0?n:window.location.href),R=await I.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!R||R.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const D=oL(R[0]);let M=(r=P==null?void 0:P.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!M){const U=await I.request({method:"eth_chainId"});M=bne(U)}const z={domain:O.host,address:D,statement:C,uri:O.href,version:"1",chainId:M,nonce:(i=P==null?void 0:P.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(a=P==null?void 0:P.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=P==null?void 0:P.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(f=P==null?void 0:P.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(d=P==null?void 0:P.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(h=P==null?void 0:P.signInWithEthereum)===null||h===void 0?void 0:h.resources};_=_ne(z),S=await I.request({method:"personal_sign",params:[xne(_),D]})}try{const{data:E,error:T}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:S},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Or});if(T)throw T;if(!E||!E.session||!E.user){const C=new zs;return this._returnResult({data:{user:null,session:null},error:C})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:T})}catch(E){if(Oe(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(t){var n,r,i,a,l,u,f,d,h,m,v,_;let S,E;if("message"in t)S=t.message,E=t.signature;else{const{chain:T,wallet:C,statement:P,options:I}=t;let O;if(vn())if(typeof C=="object")O=C;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))O=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!(I!=null&&I.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=C}const R=new URL((n=I==null?void 0:I.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in O&&O.signIn){const D=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},I==null?void 0:I.signInWithSolana),{version:"1",domain:R.host,uri:R.href}),P?{statement:P}:null));let M;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")M=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)M=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)S=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),E=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${R.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${R.href}`,`Issued At: ${(i=(r=I==null?void 0:I.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=I==null?void 0:I.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${I.signInWithSolana.notBefore}`]:[],...!((l=I==null?void 0:I.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${I.signInWithSolana.expirationTime}`]:[],...!((u=I==null?void 0:I.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${I.signInWithSolana.chainId}`]:[],...!((f=I==null?void 0:I.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${I.signInWithSolana.nonce}`]:[],...!((d=I==null?void 0:I.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${I.signInWithSolana.requestId}`]:[],...!((m=(h=I==null?void 0:I.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||m===void 0)&&m.length?["Resources",...I.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const D=await O.signMessage(new TextEncoder().encode(S),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=D}}try{const{data:T,error:C}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:Eo(E)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Or});if(C)throw C;if(!T||!T.session||!T.user){const P=new zs;return this._returnResult({data:{user:null,session:null},error:P})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:C})}catch(T){if(Oe(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async _exchangeCodeForSession(t){const n=await fo(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new Bte;const{data:a,error:l}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Or});if(await gn(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!a||!a.session||!a.user){const u=new zs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:l})}catch(a){if(await gn(this.storage,`${this.storageKey}-code-verifier`),Oe(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:a,nonce:l}=t,u=await Me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Or}),{data:f,error:d}=u;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!f||!f.session||!f.user){const h=new zs;return this._returnResult({data:{user:null,session:null},error:h})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:f,error:d})}catch(n){if(Oe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,a,l;try{if("email"in t){const{email:u,options:f}=t;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await $s(this.storage,this.storageKey));const{error:m}=await Me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},create_user:(r=f==null?void 0:f.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in t){const{phone:u,options:f}=t,{data:d,error:h}=await Me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=f==null?void 0:f.data)!==null&&i!==void 0?i:{},create_user:(a=f==null?void 0:f.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(l=f==null?void 0:f.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h})}throw new Tf("You must provide either an email or phone number.")}catch(u){if(await gn(this.storage,`${this.storageKey}-code-verifier`),Oe(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(t){var n,r;try{let i,a;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=await Me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Or});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,d=l.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),this._returnResult({data:{user:d,session:f},error:null})}catch(i){if(Oe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,a,l;try{let u=null,f=null;this.flowType==="pkce"&&([u,f]=await $s(this.storage,this.storageKey));const d=await Me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:f}),headers:this.headers,xform:fne});return!((a=d.data)===null||a===void 0)&&a.url&&vn()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(u){if(await gn(this.storage,`${this.storageKey}-code-verifier`),Oe(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new er;const{error:i}=await Me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(Oe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:a}=t,{error:l}=await Me(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:r,type:i,options:a}=t,{data:l,error:u}=await Me(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u})}throw new Tf("You must provide either an email or phone number and a type")}catch(n){if(Oe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await fo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<a0:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const l=await fo(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=l0()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=lne(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await Me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Oa}):await this._useSession(async n=>{var r,i,a;const{data:l,error:u}=n;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new er}:await Me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Oa})})}catch(n){if(Oe(n))return o0(n)&&(await this._removeSession(),await gn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new er;const l=i.session;let u=null,f=null;this.flowType==="pkce"&&t.email!=null&&([u,f]=await $s(this.storage,this.storageKey));const{data:d,error:h}=await Me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:f}),jwt:l.access_token,xform:Oa});if(h)throw h;return l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(r){if(await gn(this.storage,`${this.storageKey}-code-verifier`),Oe(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new er;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:l}=Cf(t.access_token);if(l.exp&&(r=l.exp,i=r<=n),i){const{data:u,error:f}=await this._callRefreshToken(t.refresh_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:f}=await this._getUser(t.access_token);if(f)return this._returnResult({data:{user:null,session:null},error:f});a={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(Oe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:u}=n;if(u)throw u;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new er;const{data:i,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(Oe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!vn())throw new Af("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Af(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new kI("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Af("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new kI("No code detected.");const{data:P,error:I}=await this._exchangeCodeForSession(t.code);if(I)throw I;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:l,expires_in:u,expires_at:f,token_type:d}=t;if(!a||!u||!l||!d)throw new Af("No session defined in URL");const h=Math.round(Date.now()/1e3),m=parseInt(u);let v=h+m;f&&(v=parseInt(f));const _=v-h;_*1e3<=Hs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${m}s`);const S=v-m;h-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,v,h):h-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,v,h);const{data:E,error:T}=await this._getUser(a);if(T)throw T;const C={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:m,expires_at:v,refresh_token:l,token_type:d,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:t.type},error:null})}catch(r){if(Oe(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await fo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a&&!o0(a))return this._returnResult({error:a});const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=await this.admin.signOut(l,t);if(u&&!(zte(u)&&(u.status===404||u.status===401||u.status===403)||o0(u)))return this._returnResult({error:u})}return t!=="others"&&(await this._removeSession(),await gn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=Yte(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await $s(this.storage,this.storageKey,!0));try{return await Me(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await gn(this.storage,`${this.storageKey}-code-verifier`),Oe(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(Oe(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var l,u,f,d,h;const{data:m,error:v}=a;if(v)throw v;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(f=t.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Me(this.fetch,"GET",_,{headers:this.headers,jwt:(h=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return vn()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(Oe(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:l,provider:u,token:f,access_token:d,nonce:h}=t,m=await Me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:u,id_token:f,access_token:d,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Or}),{data:v,error:_}=m;return _?this._returnResult({data:{user:null,session:null},error:_}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new zs}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:_}))}catch(i){if(await gn(this.storage,`${this.storageKey}-code-verifier`),Oe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:l}=n;if(l)throw l;return await Me(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Oe(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Zte(async i=>(i>0&&await Xte(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Or})),(i,a)=>{const l=200*Math.pow(2,i);return a&&s0(a)&&Date.now()+l-r<Hs})}catch(r){if(this._debug(n,"error",r),Oe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),vn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await fo(this.storage,this.storageKey);if(i&&this.userStorage){let l=await fo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await Vs(this.userStorage,this.storageKey+"-user",l)),i.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:l0()}else if(i&&!i.user&&!i.user){const l=await fo(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await gn(this.storage,this.storageKey+"-user"),await Vs(this.storage,this.storageKey,i)):i.user=l0()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<a0;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${a0}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),s0(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(i.access_token);!u&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new er;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Kp;const{data:a,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!a.session)throw new er;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={data:a.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(a){if(this._debug(i,"error",a),Oe(a)){const l={data:null,error:a};return s0(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,n)}catch(f){a.push(f)}});if(await Promise.all(l),a.length>0){for(let u=0;u<a.length;u+=1)console.error(a[u]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await gn(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Vs(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=$I(i);await Vs(this.storage,this.storageKey,a)}else{const i=$I(n);await Vs(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await gn(this.storage,this.storageKey),await gn(this.storage,this.storageKey+"-code-verifier"),await gn(this.storage,this.storageKey+"-user"),this.userStorage&&await gn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&vn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Hs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Hs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Hs}ms, refresh threshold is ${Sb} ticks`),i<=Sb&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof aL)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,l]=await $s(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(u.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await Me(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Oe(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:a,error:l}=n;if(l)return this._returnResult({data:null,error:l});const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:f,error:d}=await Me(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&f.type==="totp"&&(!((i=f==null?void 0:f.totp)===null||i===void 0)&&i.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),this._returnResult({data:f,error:null}))})}catch(n){if(Oe(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Nne(t.webauthn.credential_response):One(t.webauthn.credential_response)})}:{code:t.code}),{data:u,error:f}=await Me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return f?this._returnResult({data:null,error:f}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:f}))})}catch(n){if(Oe(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const l=await Me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:Ane(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:Cne(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(Oe(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,r,i,a;if(t)try{const{payload:_}=Cf(t);let S=null;_.aal&&(S=_.aal);let E=S;const{data:{user:T},error:C}=await this.getUser(t);if(C)return this._returnResult({data:null,error:C});((r=(n=T==null?void 0:T.factors)===null||n===void 0?void 0:n.filter(O=>O.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(E="aal2");const I=_.amr||[];return{data:{currentLevel:S,nextLevel:E,currentAuthenticationMethods:I},error:null}}catch(_){if(Oe(_))return this._returnResult({data:null,error:_});throw _}const{data:{session:l},error:u}=await this.getSession();if(u)return this._returnResult({data:null,error:u});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Cf(l.access_token);let d=null;f.aal&&(d=f.aal);let h=d;((a=(i=l.user.factors)===null||i===void 0?void 0:i.filter(_=>_.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(h="aal2");const v=f.amr||[];return{data:{currentLevel:d,nextLevel:h,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await Me(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new er})})}catch(n){if(Oe(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new er});const l=await Me(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&vn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(Oe(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new er});const l=await Me(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&vn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(r){if(Oe(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await Me(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new er})})}catch(t){if(Oe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await Me(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new er})})}catch(n){if(Oe(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(u=>u.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(u=>u.kid===t),r&&this.jwks_cached_at+Lte>i)return r;const{data:a,error:l}=await Me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(u=>u.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:_,error:S}=await this.getSession();if(S||!_.session)return this._returnResult({data:null,error:S});r=_.session.access_token}const{header:i,payload:a,signature:l,raw:{header:u,payload:f}}=Cf(r);n!=null&&n.allowExpired||ane(a.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!d){const{error:_}=await this.getUser(r);if(_)throw _;return{data:{claims:a,header:i,signature:l},error:null}}const h=one(i.alg),m=await crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!await crypto.subtle.verify(h,m,l,Vte(`${u}.${f}`)))throw new Ab("Invalid JWT signature");return{data:{claims:a,header:i,signature:l},error:null}}catch(r){if(Oe(r))return this._returnResult({data:null,error:r});throw r}}}mc.nextInstanceID={};class Une extends mc{constructor(t){super(t)}}var zne=function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(l){l(a)})}return new(n||(n=Promise))(function(a,l){function u(h){try{d(r.next(h))}catch(m){l(m)}}function f(h){try{d(r.throw(h))}catch(m){l(m)}}function d(h){h.done?a(h.value):i(h.value).then(u,f)}d((r=r.apply(e,t||[])).next())})};const $ne={headers:Ate},Bne={schema:"public"},qne={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Fne={};class Gne{constructor(t,n,r){var i,a,l,u,f,d,h,m;if(this.supabaseUrl=t,this.supabaseKey=n,this.from=T=>this.rest.from(T),this.schema=T=>this.rest.schema(T),this.rpc=(T,C={},P)=>this.rest.rpc(T,C,P),!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const v=Pte(t);this.realtimeUrl=`${v}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${v}/auth/v1`,this.storageUrl=`${v}/storage/v1`,this.functionsUrl=`${v}/functions/v1`;const _=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,S={db:Bne,realtime:Fne,auth:Object.assign(Object.assign({},qne),{storageKey:_}),global:$ne},E=Rte(r??{},S);this.storageKey=(a=(i=E.auth)===null||i===void 0?void 0:i.storageKey)!==null&&a!==void 0?a:"",this.headers=(u=(l=E.global)===null||l===void 0?void 0:l.headers)!==null&&u!==void 0?u:{},this.auth=this._initSupabaseAuthClient((f=E.auth)!==null&&f!==void 0?f:{},this.headers,(d=E.global)===null||d===void 0?void 0:d.fetch),this.fetch=Ite(n,this._getAccessToken.bind(this),(h=E.global)===null||h===void 0?void 0:h.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},E.realtime)),this.rest=new Pee(`${v}/rest/v1`,{headers:this.headers,schema:(m=E.db)===null||m===void 0?void 0:m.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new xee(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Ete(this.storageUrl,this.headers,this.fetch)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return zne(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:a,flowType:l,debug:u},f,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Une({url:this.authUrl,headers:Object.assign(Object.assign({},h),f),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:l,debug:u,fetch:d})}_initRealtimeClient(t){return new Yee(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r??null),this.changedAccessToken=r):t==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Hne=(e,t,n)=>new Gne(e,t,n),Vne="https://unjcjkcyirklpuwwnajc.supabase.co",Kne="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVuamNqa2N5aXJrbHB1d3duYWpjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA3MjY4NTgsImV4cCI6MjA4NjMwMjg1OH0.RlB1hE5eOIiQUCfwr7VEipE_vIfs241KdjM9d750qJQ",Be=Hne(Vne,Kne),qo=({isOpen:e,title:t,message:n,onConfirm:r,onCancel:i,confirmText:a="Confirmar",cancelText:l="Cancelar",type:u="danger"})=>{if(!e)return null;const d={danger:{bg:"bg-rose-50",icon:b.jsx(Bf,{className:"text-rose-600",size:28}),button:"bg-rose-600 hover:bg-rose-700 shadow-rose-200",title:"text-rose-900"},warning:{bg:"bg-amber-50",icon:b.jsx(Bf,{className:"text-amber-600",size:28}),button:"bg-amber-600 hover:bg-amber-700 shadow-amber-200",title:"text-amber-900"},success:{bg:"bg-emerald-50",icon:b.jsx(IR,{className:"text-emerald-600",size:28}),button:"bg-emerald-600 hover:bg-emerald-700 shadow-emerald-200",title:"text-emerald-900"},info:{bg:"bg-blue-50",icon:b.jsx(x$,{className:"text-blue-600",size:28}),button:"bg-blue-600 hover:bg-blue-700 shadow-blue-200",title:"text-blue-900"}}[u];return b.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center z-[100] p-4 animate-in fade-in duration-300",children:b.jsx("div",{className:"bg-white rounded-[2rem] shadow-2xl max-w-md w-full overflow-hidden animate-in zoom-in duration-300",children:b.jsxs("div",{className:"relative p-8",children:[b.jsx("button",{onClick:i,className:"absolute top-6 right-6 text-slate-400 hover:text-slate-600 transition-colors p-1 hover:bg-slate-100 rounded-full",children:b.jsx(Wu,{size:20})}),b.jsxs("div",{className:"flex flex-col items-center text-center",children:[b.jsx("div",{className:`w-20 h-20 rounded-3xl ${d.bg} flex items-center justify-center mb-6 shadow-sm`,children:d.icon}),b.jsx("h2",{className:`text-2xl font-black mb-3 ${d.title}`,children:t}),b.jsx("p",{className:"text-slate-500 font-medium leading-relaxed mb-8",children:n}),b.jsxs("div",{className:"flex gap-3 w-full",children:[b.jsx("button",{onClick:i,className:"flex-1 py-4 px-6 bg-slate-100 text-slate-600 font-bold rounded-2xl hover:bg-slate-200 transition-all active:scale-95",children:l}),b.jsx("button",{onClick:()=>{r(),i()},className:`flex-1 py-4 px-6 ${d.button} text-white font-black rounded-2xl transition-all shadow-lg active:scale-95`,children:a})]})]})]})})})},Yne=({transactions:e,setTransactions:t,categories:n})=>{var B,ce,me,oe,De,ge,yt,nt,bt;const[r,i]=A.useState(!1),[a,l]=A.useState(!1),[u,f]=A.useState(null),[d,h]=A.useState("idle"),[m,v]=A.useState({description:"",amount:"",type:"INCOME",date:new Date().toISOString().split("T")[0],categoryId:"",subCategoryId:"",notas:"",tags:[]}),[_,S]=A.useState(""),[E,T]=A.useState("date"),[C,P]=A.useState("desc"),[I,O]=A.useState(""),[R,D]=A.useState(""),[M,z]=A.useState(""),[U,K]=A.useState(""),[L,q]=A.useState(!1),[Z,ae]=A.useState("income"),[se,j]=A.useState(null),[G,W]=A.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),re=A.useMemo(()=>{const Y=e.flatMap(Te=>Te.tags||[]).filter(Te=>Te&&Te.trim()!=="");return Array.from(new Set(Y)).sort()},[e]),he=async Y=>{Y.preventDefault(),l(!0),h("idle");const Te={Descrio:m.description,Valor:parseFloat(m.amount),tipo:m.type,Data:m.date,categoria_id:m.categoryId&&m.categoryId!==""?m.categoryId:null,subcategoria_id:m.subCategoryId&&m.subCategoryId!==""?m.subCategoryId:null,notas:m.notas||null,tags:m.tags.length>0?m.tags:null};try{if(u){const{data:ve,error:Ne}=await Be.from("Fluxo de caixa").update(Te).eq("id",u).select();if(Ne)throw Ne;const Ye={id:ve[0].id,date:ve[0].Data,description:ve[0].Descrio,amount:ve[0].Valor,type:ve[0].tipo,categoryId:ve[0].categoria_id,subCategoryId:ve[0].subcategoria_id,notas:ve[0].notas||"",tags:ve[0].tags||[]};t(Je=>Je.map(Re=>Re.id===u?Ye:Re))}else{const{data:ve,error:Ne}=await Be.from("Fluxo de caixa").insert([Te]).select();if(Ne)throw Ne;const Ye={id:ve[0].id,date:ve[0].Data,description:ve[0].Descrio,amount:ve[0].Valor,type:ve[0].tipo,categoryId:ve[0].categoria_id,subCategoryId:ve[0].subcategoria_id,notas:ve[0].notas||"",tags:ve[0].tags||[]};t(Je=>[Ye,...Je])}h("success"),setTimeout(()=>pe(),1e3)}catch(ve){console.error("Erro ao salvar:",ve),h("error"),alert("Falha ao sincronizar com o banco de dados.")}finally{l(!1)}},$=Y=>{f(Y.id);let Te=Y.date;if(Y.date&&!Y.date.match(/^\d{4}-\d{2}-\d{2}$/)){const ve=new Date(Y.date);isNaN(ve.getTime())||(Te=ve.toISOString().split("T")[0])}v({description:Y.description,amount:Y.amount.toString(),type:Y.type,date:Te,categoryId:Y.categoryId,subCategoryId:Y.subCategoryId||"",notas:Y.notas||"",tags:Y.tags||[]}),i(!0)},J=async Y=>{W({isOpen:!0,title:"Excluir Transao",message:"Deseja realmente excluir este registro do Fluxo de Caixa? Esta ao  permanente.",type:"danger",onConfirm:async()=>{try{const{error:Te}=await Be.from("Fluxo de caixa").delete().eq("id",Y);if(Te)throw Te;t(ve=>ve.filter(Ne=>Ne.id!==Y))}catch(Te){console.error("Erro ao deletar:",Te),alert("Erro ao remover do banco de dados.")}}})},ue=async()=>{W({isOpen:!0,title:" LIMPAR TUDO",message:`ATENO! Esta ao ir EXCLUIR DEFINITIVAMENTE todos os ${e.length} registros do seu Fluxo de Caixa. Esta operao no pode ser desfeita.`,confirmText:"SIM, EXCLUIR TUDO",type:"danger",onConfirm:async()=>{try{const{error:Y}=await Be.from("Fluxo de caixa").delete().neq("id",0);if(Y)throw Y;t([])}catch(Y){console.error("Erro ao deletar todos os registros:",Y),alert(" Erro ao excluir registros do banco de dados.")}}})},pe=()=>{i(!1),f(null),h("idle"),v({description:"",amount:"",type:"INCOME",date:new Date().toISOString().split("T")[0],categoryId:"",subCategoryId:""})},xe=[...e.filter(Y=>{var Te;if(_){const ve=_.toLowerCase(),Ne=new Date(Y.date).toLocaleDateString("pt-BR"),Ye=Y.description.toLowerCase(),Je=Y.amount.toString(),Re=((Te=n.find(cn=>cn.id===Y.categoryId))==null?void 0:Te.name)||"";if(!(Ne.includes(ve)||Ye.includes(ve)||Je.includes(ve)||Re.toLowerCase().includes(ve)))return!1}if(I){const ve=new Date(Y.date),Ne=new Date(I);if(ve<Ne)return!1}if(R){const ve=new Date(Y.date),Ne=new Date(R);if(Ne.setHours(23,59,59,999),ve>Ne)return!1}if(M){if(M==="SEM_CATEGORIA"){if(Y.categoryId&&Y.categoryId!=="")return!1}else if(String(Y.categoryId)!==String(M))return!1}return!(U&&String(Y.subCategoryId)!==String(U))})].sort((Y,Te)=>{var Ne,Ye;let ve=0;switch(E){case"date":ve=new Date(Y.date).getTime()-new Date(Te.date).getTime();break;case"description":ve=Y.description.localeCompare(Te.description);break;case"amount":ve=Y.amount-Te.amount;break;case"category":const Je=((Ne=n.find(st=>st.id===Y.categoryId))==null?void 0:Ne.name)||"",Re=((Ye=n.find(st=>st.id===Te.categoryId))==null?void 0:Ye.name)||"";ve=Je.localeCompare(Re);break}return C==="asc"?ve:-ve}),_e=A.useMemo(()=>{const Y={},Te={};xe.forEach(Re=>{const st=n.find(Zi=>String(Zi.id)===String(Re.categoryId)),cn=(st==null?void 0:st.name)||"Sem Categoria";Re.type==="INCOME"?Y[cn]=(Y[cn]||0)+Re.amount:Te[cn]=(Te[cn]||0)+Re.amount});const ve=Object.entries(Y).map(([Re,st])=>{const cn=n.find(Zi=>Zi.name===Re);return{name:Re,value:st,percentage:0,color:(cn==null?void 0:cn.color)||"#10b981"}}),Ne=Object.entries(Te).map(([Re,st])=>{const cn=n.find(Zi=>Zi.name===Re);return{name:Re,value:st,percentage:0,color:(cn==null?void 0:cn.color)||"#ef4444"}}),Ye=ve.reduce((Re,st)=>Re+st.value,0),Je=Ne.reduce((Re,st)=>Re+st.value,0);return ve.forEach(Re=>{Re.percentage=Ye>0?Re.value/Ye*100:0}),Ne.forEach(Re=>{Re.percentage=Je>0?Re.value/Je*100:0}),{incomeData:ve,expenseData:Ne,totalIncome:Ye,totalExpense:Je}},[xe,n]),te=A.useMemo(()=>{if(!se)return[];const Y=n.find(Ye=>String(Ye.id)===String(se));if(!Y)return[];const Te={};xe.filter(Ye=>String(Ye.categoryId)===String(se)).forEach(Ye=>{const Je=Y.subCategories.find(st=>String(st.id)===String(Ye.subCategoryId)),Re=(Je==null?void 0:Je.name)||"Sem Subcategoria";Te[Re]=(Te[Re]||0)+Ye.amount});const Ne=Object.values(Te).reduce((Ye,Je)=>Ye+Je,0);return Object.entries(Te).map(([Ye,Je],Re)=>({name:Ye,value:Je,percentage:Ne>0?Je/Ne*100:0,color:`hsla(${210+Re*45}, 70%, 50%, 0.8)`}))},[se,xe,n]);return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex justify-between items-center gap-4",children:[b.jsxs("div",{className:"relative w-96",children:[b.jsx(vl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),b.jsx("input",{type:"text",placeholder:"Buscar por data, descrio ou valor...",value:_,onChange:Y=>S(Y.target.value),className:"w-full pl-10 pr-4 py-2 bg-white border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),b.jsxs("div",{className:"flex gap-3 items-center",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Ordenar por:"}),b.jsxs("select",{value:E,onChange:Y=>T(Y.target.value),className:"px-3 py-2 bg-white border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm",children:[b.jsx("option",{value:"date",children:"Data"}),b.jsx("option",{value:"description",children:"Descrio"}),b.jsx("option",{value:"amount",children:"Valor"}),b.jsx("option",{value:"category",children:"Categoria"})]})]}),b.jsxs("select",{value:C,onChange:Y=>P(Y.target.value),className:"px-3 py-2 bg-white border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm",children:[b.jsx("option",{value:"asc",children:"Crescente"}),b.jsx("option",{value:"desc",children:"Decrescente"})]})]}),b.jsxs("div",{className:"flex gap-3",children:[e.length>0&&b.jsxs("button",{onClick:ue,className:"flex items-center gap-2 px-4 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 transition-colors border-2 border-rose-600 hover:border-rose-700",children:[b.jsx(Bf,{size:18})," Limpar Tudo"]}),b.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[b.jsx(Qr,{size:18})," Novo Registro"]})]})]}),b.jsxs("div",{className:"flex flex-wrap items-center gap-4 bg-slate-50 p-4 rounded-lg border border-slate-200",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("label",{className:"text-sm font-medium text-slate-600 whitespace-nowrap",children:"Perodo:"}),b.jsx("input",{type:"date",value:I,onChange:Y=>O(Y.target.value),className:"px-3 py-2 bg-white border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm"}),b.jsx("span",{className:"text-slate-500",children:"at"}),b.jsx("input",{type:"date",value:R,onChange:Y=>D(Y.target.value),className:"px-3 py-2 bg-white border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm"})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("label",{className:"text-sm font-medium text-slate-600 whitespace-nowrap",children:"Categoria:"}),b.jsxs("select",{value:M,onChange:Y=>{z(Y.target.value),K("")},className:"px-3 py-2 bg-white border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm min-w-[150px]",children:[b.jsx("option",{value:"",children:"Todas"}),b.jsx("option",{value:"SEM_CATEGORIA",children:"Sem Categoria"}),n.map(Y=>b.jsx("option",{value:Y.id,children:Y.name},Y.id))]})]}),M&&b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("label",{className:"text-sm font-medium text-slate-600 whitespace-nowrap",children:"Subcategoria:"}),b.jsxs("select",{value:U,onChange:Y=>K(Y.target.value),className:"px-3 py-2 bg-white border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm min-w-[150px]",children:[b.jsx("option",{value:"",children:"Todas"}),(ce=(B=n.find(Y=>String(Y.id)===String(M)))==null?void 0:B.subCategories)==null?void 0:ce.map(Y=>b.jsx("option",{value:Y.id,children:Y.name},Y.id))]})]}),(I||R||M||U)&&b.jsx("button",{onClick:()=>{O(""),D(""),z(""),K("")},className:"px-3 py-2 text-sm text-slate-600 hover:text-indigo-600 font-medium transition-colors",children:"Limpar Filtros"}),b.jsxs("div",{className:"ml-auto text-sm text-slate-600",children:[b.jsx("span",{className:"font-medium",children:xe.length})," de ",b.jsx("span",{className:"font-medium",children:e.length})," transaes"]})]}),e.length>0&&b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[_e.incomeData.length>0&&b.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-6 relative hover:shadow-md transition-shadow",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsxs("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[b.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500"}),"Entradas por Categoria"]}),b.jsx("button",{onClick:Y=>{Y.stopPropagation(),ae("income"),j(null),q(!0)},className:"p-2 text-slate-400 hover:text-emerald-600 hover:bg-emerald-50 rounded-lg transition-colors",title:"Ampliar grfico",children:b.jsx(mA,{size:18})})]}),b.jsxs("div",{className:"text-center mb-2",children:[b.jsxs("p",{className:"text-2xl font-bold text-emerald-600",children:["R$ ",_e.totalIncome.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),b.jsx("p",{className:"text-sm text-slate-500",children:"Total de Entradas"})]}),b.jsx(Pa,{width:"100%",height:300,children:b.jsxs(Hu,{children:[b.jsx(rl,{data:_e.incomeData,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"value",children:_e.incomeData.map((Y,Te)=>b.jsx(Ri,{fill:Y.color,className:"cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>{const ve=n.find(Ne=>Ne.name===Y.name);ve&&(j(ve.id),ae("income"),q(!0))}},`cell-${Te}`))}),b.jsx(Ra,{formatter:Y=>`R$ ${Y.toLocaleString("pt-BR",{minimumFractionDigits:2})}`}),b.jsx(dl,{})]})})]}),_e.expenseData.length>0&&b.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm p-6 relative hover:shadow-md transition-shadow",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsxs("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[b.jsx("div",{className:"w-3 h-3 rounded-full bg-rose-500"}),"Sadas por Categoria"]}),b.jsx("button",{onClick:Y=>{Y.stopPropagation(),ae("expense"),j(null),q(!0)},className:"p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition-colors",title:"Ampliar grfico",children:b.jsx(mA,{size:18})})]}),b.jsxs("div",{className:"text-center mb-2",children:[b.jsxs("p",{className:"text-2xl font-bold text-rose-600",children:["R$ ",_e.totalExpense.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),b.jsx("p",{className:"text-sm text-slate-500",children:"Total de Sadas"})]}),b.jsx(Pa,{width:"100%",height:300,children:b.jsxs(Hu,{children:[b.jsx(rl,{data:_e.expenseData,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"value",children:_e.expenseData.map((Y,Te)=>b.jsx(Ri,{fill:Y.color,className:"cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>{const ve=n.find(Ne=>Ne.name===Y.name);ve&&(j(ve.id),ae("expense"),q(!0))}},`cell-${Te}`))}),b.jsx(Ra,{formatter:Y=>`R$ ${Y.toLocaleString("pt-BR",{minimumFractionDigits:2})}`}),b.jsx(dl,{})]})})]})]}),L&&b.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[60] p-4",onClick:()=>q(!1),children:b.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden flex flex-col",onClick:Y=>Y.stopPropagation(),children:[b.jsxs("div",{className:"px-8 py-6 border-b border-slate-100 flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsxs("h2",{className:"text-2xl font-bold text-slate-800 flex items-center gap-3",children:[b.jsx("div",{className:`w-4 h-4 rounded-full ${Z==="income"?"bg-emerald-500":"bg-rose-500"}`}),se?`Detalhamento: ${(me=n.find(Y=>Y.id===se))==null?void 0:me.name}`:Z==="income"?"Entradas por Categoria":"Sadas por Categoria"]}),se&&b.jsx("button",{onClick:()=>j(null),className:"text-sm text-indigo-600 font-medium hover:underline mt-1",children:" Voltar para viso geral"})]}),b.jsx("button",{onClick:()=>q(!1),className:"w-10 h-10 flex items-center justify-center bg-slate-100 text-slate-500 hover:bg-rose-100 hover:text-rose-600 rounded-full transition-all font-bold text-xl",children:""})]}),b.jsxs("div",{className:"flex-1 overflow-y-auto p-8",children:[b.jsxs("div",{className:"mb-8 text-center",children:[b.jsxs("p",{className:`text-4xl font-extrabold ${Z==="income"?"text-emerald-600":"text-rose-600"}`,children:["R$ ",(se?te.reduce((Y,Te)=>Y+Te.value,0):Z==="income"?_e.totalIncome:_e.totalExpense).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),b.jsx("p",{className:"text-slate-500 mt-2 font-medium",children:se?"Total da Categoria":`Total de ${Z==="income"?"Entradas":"Sadas"}`})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-center",children:[b.jsx("div",{className:"h-[400px]",children:b.jsx(Pa,{width:"100%",height:"100%",children:b.jsxs(Hu,{children:[b.jsx(rl,{data:se?te:Z==="income"?_e.incomeData:_e.expenseData,cx:"50%",cy:"50%",innerRadius:se?80:0,outerRadius:150,paddingAngle:2,dataKey:"value",label:({name:Y,percentage:Te})=>`${Y}: ${Te.toFixed(1)}%`,children:(se?te:Z==="income"?_e.incomeData:_e.expenseData).map((Y,Te)=>b.jsx(Ri,{fill:Y.color,className:se?"":"cursor-pointer hover:opacity-80",onClick:()=>{if(!se){const ve=n.find(Ne=>Ne.name===Y.name);ve&&j(ve.id)}}},`cell-${Te}`))}),b.jsx(Ra,{formatter:Y=>`R$ ${Y.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 25px rgba(0,0,0,0.1)"}})]})})}),b.jsxs("div",{className:"space-y-4",children:[b.jsx("h4",{className:"font-bold text-slate-700 uppercase text-xs tracking-wider mb-4 border-b pb-2",children:se?"Subcategorias":"Categorias"}),b.jsx("div",{className:"grid grid-cols-1 gap-3 max-h-[350px] overflow-y-auto pr-2 custom-scrollbar",children:(se?te:Z==="income"?_e.incomeData:_e.expenseData).map((Y,Te)=>b.jsxs("div",{className:`flex items-center justify-between p-3 rounded-xl border border-slate-100 hover:bg-slate-50 transition-colors ${se?"":"cursor-pointer"}`,onClick:()=>{if(!se){const ve=n.find(Ne=>Ne.name===Y.name);ve&&j(ve.id)}},children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Y.color}}),b.jsx("span",{className:"font-semibold text-slate-700",children:Y.name})]}),b.jsxs("div",{className:"text-right",children:[b.jsxs("p",{className:"font-bold text-slate-900 text-sm",children:["R$ ",Y.value.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),b.jsxs("p",{className:"text-[10px] text-slate-400 font-bold",children:[Y.percentage.toFixed(1),"%"]})]})]},Te))})]})]})]})]})}),b.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:b.jsxs("table",{className:"w-full text-left",children:[b.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Data"}),b.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Descrio"}),b.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Categoria"}),b.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Subcategoria"}),b.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider text-right",children:"Valor"}),b.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider text-center",children:"Aes"})]})}),b.jsx("tbody",{className:"divide-y divide-slate-100",children:xe.length>0?xe.map(Y=>{var ve;const Te=n.find(Ne=>String(Ne.id)===String(Y.categoryId));return(ve=Te==null?void 0:Te.subCategories)==null||ve.find(Ne=>String(Ne.id)===String(Y.subCategoryId)),b.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[b.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:new Date(Y.date).toLocaleDateString("pt-BR")}),b.jsx("td",{className:"px-6 py-4",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:`p-1 rounded-full ${Y.type==="INCOME"?"bg-emerald-100 text-emerald-600":"bg-rose-100 text-rose-600"}`,children:Y.type==="INCOME"?b.jsx(OR,{size:14}):b.jsx(NR,{size:14})}),b.jsx("span",{className:"text-sm font-medium text-slate-800",children:Y.description})]})}),b.jsx("td",{className:"px-6 py-4",children:b.jsxs("select",{value:Y.categoryId||"",onChange:async Ne=>{const Ye=Ne.target.value;try{const{error:Je}=await Be.from("Fluxo de caixa").update({categoria_id:Ye,subcategoria_id:null}).eq("id",Y.id);if(Je)throw Je;t(Re=>Re.map(st=>st.id===Y.id?{...st,categoryId:Ye,subCategoryId:""}:st))}catch(Je){console.error("Erro ao atualizar categoria:",Je),alert("Erro ao atualizar categoria")}},className:"text-sm text-slate-700 bg-transparent border border-slate-200 rounded px-2 py-1 hover:border-indigo-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[b.jsx("option",{value:"",children:"Sem Categoria"}),n.filter(Ne=>Ne.type===Y.type).map(Ne=>b.jsx("option",{value:Ne.id,children:Ne.name},Ne.id))]})}),b.jsx("td",{className:"px-6 py-4",children:Te&&Te.subCategories.length>0?b.jsxs("select",{value:Y.subCategoryId||"",onChange:async Ne=>{const Ye=Ne.target.value;try{const{error:Je}=await Be.from("Fluxo de caixa").update({subcategoria_id:Ye||null}).eq("id",Y.id);if(Je)throw Je;t(Re=>Re.map(st=>st.id===Y.id?{...st,subCategoryId:Ye}:st))}catch(Je){console.error("Erro ao atualizar subcategoria:",Je),alert("Erro ao atualizar subcategoria")}},className:"text-sm text-slate-600 bg-transparent border border-slate-200 rounded px-2 py-1 hover:border-indigo-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[b.jsx("option",{value:"",children:"Nenhuma"}),Te.subCategories.map(Ne=>b.jsx("option",{value:Ne.id,children:Ne.name},Ne.id))]}):b.jsx("span",{className:"text-xs text-slate-400",children:"-"})}),b.jsxs("td",{className:`px-6 py-4 text-sm font-bold text-right ${Y.type==="INCOME"?"text-emerald-600":"text-rose-600"}`,children:[Y.type==="INCOME"?"+":"-"," R$ ",Y.amount.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),b.jsx("td",{className:"px-6 py-4",children:b.jsxs("div",{className:"flex items-center justify-center gap-2",children:[b.jsx("button",{onClick:()=>$(Y),className:"p-2 text-slate-400 hover:text-indigo-600 transition-colors",children:b.jsx(ja,{size:16})}),b.jsx("button",{onClick:()=>J(Y.id),className:"p-2 text-slate-400 hover:text-rose-600 transition-colors",children:b.jsx(kr,{size:16})})]})})]},Y.id)}):b.jsx("tr",{children:b.jsx("td",{colSpan:6,className:"px-6 py-12 text-center text-slate-400 font-medium",children:'Nenhum dado encontrado em "Fluxo de caixa"'})})})]})}),r&&b.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:b.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[b.jsxs("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-8 py-6 flex justify-between items-center",children:[b.jsx("h2",{className:"text-xl font-bold text-slate-800",children:u?"Editar Registro":"Novo Registro"}),b.jsx("button",{onClick:pe,className:"text-slate-400 hover:text-slate-600 transition-colors",children:""})]}),b.jsxs("form",{onSubmit:he,className:"p-8 space-y-6",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[b.jsx("button",{type:"button",onClick:()=>v({...m,type:"INCOME"}),className:`py-3 rounded-xl border-2 font-bold transition-all ${m.type==="INCOME"?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-slate-100 text-slate-400"}`,children:"Entrada"}),b.jsx("button",{type:"button",onClick:()=>v({...m,type:"EXPENSE"}),className:`py-3 rounded-xl border-2 font-bold transition-all ${m.type==="EXPENSE"?"border-rose-500 bg-rose-50 text-rose-700":"border-slate-100 text-slate-400"}`,children:"Sada"})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Descrio"}),b.jsx("input",{type:"text",required:!0,value:m.description,onChange:Y=>v({...m,description:Y.target.value}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Data"}),b.jsx("input",{type:"date",required:!0,value:m.date,onChange:Y=>v({...m,date:Y.target.value}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Valor"}),b.jsx("input",{type:"number",step:"0.01",required:!0,value:m.amount,onChange:Y=>v({...m,amount:Y.target.value}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Categoria"}),b.jsxs("select",{required:!0,value:m.categoryId,onChange:Y=>v({...m,categoryId:Y.target.value,subCategoryId:""}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[b.jsx("option",{value:"",children:"Selecione..."}),n.filter(Y=>Y.type===m.type).map(Y=>b.jsx("option",{value:Y.id,children:Y.name},Y.id))]})]})]}),m.categoryId&&b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:["Subcategoria ",((De=(oe=n.find(Y=>String(Y.id)===String(m.categoryId)))==null?void 0:oe.subCategories)==null?void 0:De.length)>0?"":"(Esta categoria no tem subcategorias)"]}),b.jsxs("select",{value:m.subCategoryId,onChange:Y=>v({...m,subCategoryId:Y.target.value}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",disabled:!((yt=(ge=n.find(Y=>String(Y.id)===String(m.categoryId)))==null?void 0:ge.subCategories)!=null&&yt.length),children:[b.jsx("option",{value:"",children:"Nenhuma"}),(bt=(nt=n.find(Y=>String(Y.id)===String(m.categoryId)))==null?void 0:nt.subCategories)==null?void 0:bt.map(Y=>b.jsx("option",{value:Y.id,children:Y.name},Y.id))]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Notas"}),b.jsx("textarea",{value:m.notas,onChange:Y=>v({...m,notas:Y.target.value}),placeholder:"Adicione observaes sobre este lanamento...",rows:3,className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 resize-none"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Tags"}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("input",{type:"text",value:m.tags.join(", "),onChange:Y=>{const ve=Y.target.value.split(",").map(Ne=>Ne.trim()).filter(Ne=>Ne!=="");v({...m,tags:ve})},placeholder:"Digite tags separadas por vrgula (ex: urgente, fiscal, recorrente)",className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"}),m.tags.length>0&&b.jsx("div",{className:"flex flex-wrap gap-2",children:m.tags.map((Y,Te)=>b.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-indigo-100 text-indigo-700 text-sm rounded-full",children:[Y,b.jsx("button",{type:"button",onClick:()=>{const ve=m.tags.filter((Ne,Ye)=>Ye!==Te);v({...m,tags:ve})},className:"hover:text-indigo-900",children:""})]},Te))}),re.length>0&&b.jsxs("div",{className:"border-t border-slate-200 pt-2",children:[b.jsx("p",{className:"text-xs text-slate-500 mb-2",children:"Tags disponveis (clique para adicionar):"}),b.jsx("div",{className:"flex flex-wrap gap-2",children:re.map((Y,Te)=>{const ve=m.tags.includes(Y);return b.jsx("button",{type:"button",onClick:()=>{ve||v({...m,tags:[...m.tags,Y]})},disabled:ve,className:`px-3 py-1 text-sm rounded-full transition-colors ${ve?"bg-slate-100 text-slate-400 cursor-not-allowed":"bg-slate-50 text-slate-600 hover:bg-indigo-50 hover:text-indigo-600 border border-slate-200 hover:border-indigo-300"}`,children:Y},Te)})})]})]})]}),d==="success"&&b.jsxs("div",{className:"p-4 bg-emerald-50 border border-emerald-200 rounded-lg flex items-center gap-2 text-emerald-700",children:[b.jsx(qb,{size:20}),b.jsx("span",{className:"font-medium",children:"Registro salvo com sucesso!"})]}),b.jsxs("div",{className:"flex gap-4 pt-6 border-t border-slate-200",children:[b.jsx("button",{type:"button",disabled:a,onClick:pe,className:"flex-1 py-3 text-slate-600 font-medium hover:bg-slate-50 rounded-lg transition-colors border border-slate-200",children:"Cancelar"}),b.jsxs("button",{type:"submit",disabled:a,className:"flex-1 py-3 bg-indigo-600 text-white font-bold rounded-lg hover:bg-indigo-700 transition-colors flex items-center justify-center gap-2 disabled:opacity-50",children:[a&&b.jsx(Yu,{size:16,className:"animate-spin"}),u?"Atualizar":"Sincronizar"]})]})]})]})}),b.jsx(qo,{isOpen:G.isOpen,title:G.title,message:G.message,type:G.type,confirmText:G.confirmText,onConfirm:G.onConfirm,onCancel:()=>W({...G,isOpen:!1})})]})},Wne=({investments:e,setInvestments:t,onTransactionsChange:n})=>{const[r,i]=A.useState(!1),[a,l]=A.useState(!1),[u,f]=A.useState(null),[d,h]=A.useState("idle"),[m,v]=A.useState({description:"",amount:"",type:"INCOME",date_lancamento:new Date().toISOString().split("T")[0]}),[_,S]=A.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),[E,T]=A.useState(""),C=async L=>{L.preventDefault(),l(!0),h("idle");const q={descrio:m.description,entrada:m.type==="INCOME"?parseFloat(m.amount):null,sada:m.type==="EXPENSE"?parseFloat(m.amount):null,data_lancamento:m.date_lancamento};console.log(" Enviando para Supabase:",q);try{if(u){const{data:Z,error:ae}=await Be.from("investimento").update(q).eq("id",u).select();if(ae)throw ae;const se={id:Z[0].id,description:Z[0].descrio,amount:Z[0].entrada||Z[0].sada||0,type:Z[0].entrada?"INCOME":"EXPENSE",date_lancamento:Z[0].data_lancamento};t(j=>j.map(G=>G.id===u?se:G))}else{const{data:Z,error:ae}=await Be.from("investimento").insert([q]).select();if(ae)throw ae;const se={id:Z[0].id,description:Z[0].descrio,amount:Z[0].entrada||Z[0].sada||0,type:Z[0].entrada?"INCOME":"EXPENSE",date_lancamento:Z[0].data_lancamento};t($=>[se,...$]);const j=m.type==="INCOME"?"EXPENSE":"INCOME",G=m.type==="INCOME"?"Aplicao em Investimento":"Resgate de Investimento",W={Data:m.date_lancamento,Descrio:`${G}: ${m.description}`,Valor:parseFloat(m.amount),Saldo:0,tipo:j,categoria_id:null,subcategoria_id:null},{data:re,error:he}=await Be.from("Fluxo de caixa").insert([W]).select();if(!he&&re){const $={id:re[0].id,date:re[0].Data,description:re[0].Descrio,amount:re[0].Valor,balance:0,type:j,categoryId:"",subCategoryId:""};n(J=>[$,...J])}}h("success"),setTimeout(()=>R(),1e3)}catch(Z){console.error(" Erro ao salvar:",Z),console.error(" Detalhes do erro:",Z.message,Z.details,Z.hint),h("error"),alert(`Falha ao sincronizar: ${Z.message||"Erro desconhecido"} `)}finally{l(!1)}},P=L=>{f(L.id),v({description:L.description,amount:L.amount.toString(),type:L.type,date_lancamento:L.date_lancamento}),i(!0)},I=async L=>{S({isOpen:!0,title:"Excluir Investimento",message:"Tem certeza que deseja excluir este investimento? A movimentao correspondente no Fluxo de Caixa tambm ser removida.",type:"danger",onConfirm:async()=>{try{const Z=`${L.type==="INCOME"?"Aplicao em Investimento":"Resgate de Investimento"}: ${L.description}`,{data:ae,error:se}=await Be.from("Fluxo de caixa").select("id").eq("Descrio",Z).eq("Data",L.date_lancamento).eq("Valor",L.amount);if(!se&&ae&&ae.length>0){const G=ae[0].id;await Be.from("Fluxo de caixa").delete().eq("id",G),n&&n(W=>W.filter(re=>re.id!==G))}const{error:j}=await Be.from("investimento").delete().eq("id",L.id);if(j)throw j;t(G=>G.filter(W=>W.id!==L.id))}catch(q){console.error("Erro ao deletar:",q),alert("Erro ao remover do banco de dados.")}}})},O=async()=>{S({isOpen:!0,title:" EXCLUIR TUDO",message:`Esta ao ir EXCLUIR TODOS OS ${e.length} REGISTROS da tabela "investimento". Esta ao  IRREVERSVEL! Deseja continuar?`,confirmText:"SIM, EXCLUIR TUDO",type:"danger",onConfirm:async()=>{try{const{error:L}=await Be.from("investimento").delete().neq("id",0);if(L)throw L;t([])}catch(L){console.error("Erro ao deletar todos os investimentos:",L),alert(" Erro ao excluir investimentos do banco de dados.")}}})},R=()=>{i(!1),f(null),h("idle"),v({description:"",amount:"",type:"INCOME",date_lancamento:new Date().toISOString().split("T")[0]})},D=()=>{v({description:"",amount:"",type:"EXPENSE",date_lancamento:new Date().toISOString().split("T")[0]}),i(!0)},M=e.filter(L=>L.type==="INCOME").reduce((L,q)=>L+q.amount,0),z=e.filter(L=>L.type==="EXPENSE").reduce((L,q)=>L+q.amount,0),U=M-z,K=e.filter(L=>{if(!E)return!0;const q=E.toLowerCase(),ae=L.date_lancamento.split("T")[0].split("-"),se=ae.length===3?`${ae[2]}/${ae[1]}/${ae[0]}`:L.date_lancamento,j=L.description.toLowerCase();return se.includes(q)||j.includes(q)});return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[b.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200",children:[b.jsx("p",{className:"text-slate-500 text-sm font-medium mb-1",children:"Total Entradas"}),b.jsxs("h3",{className:"text-2xl font-bold text-emerald-600",children:["R$ ",M.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),b.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200",children:[b.jsx("p",{className:"text-slate-500 text-sm font-medium mb-1",children:"Total Sadas"}),b.jsxs("h3",{className:"text-2xl font-bold text-rose-600",children:["R$ ",z.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),b.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200",children:[b.jsx("p",{className:"text-slate-500 text-sm font-medium mb-1",children:"Saldo"}),b.jsxs("h3",{className:`text-2xl font-bold ${U>=0?"text-emerald-600":"text-rose-600"}`,children:["R$ ",U.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsxs("div",{className:"relative w-96",children:[b.jsx(vl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),b.jsx("input",{type:"text",placeholder:"Buscar por data ou descrio...",value:E,onChange:L=>T(L.target.value),className:"w-full pl-10 pr-4 py-2 bg-white border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),b.jsxs("div",{className:"flex gap-3",children:[e.length>0&&b.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-4 py-2 bg-rose-600 text-white rounded-lg hover:bg-rose-700 transition-colors border-2 border-rose-600 hover:border-rose-700",children:[b.jsx(Bf,{size:18})," Limpar Tudo"]}),b.jsxs("button",{onClick:D,className:"flex items-center gap-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:[b.jsx(Bz,{size:18})," Retirada"]}),b.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[b.jsx(Qr,{size:18})," Novo Investimento"]})]})]}),b.jsx("div",{className:"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden",children:b.jsxs("table",{className:"w-full text-left",children:[b.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Data Lanamento"}),b.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Descrio"}),b.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider text-right",children:"Valor"}),b.jsx("th",{className:"px-6 py-4 text-xs font-bold text-slate-500 uppercase tracking-wider text-center",children:"Aes"})]})}),b.jsx("tbody",{className:"divide-y divide-slate-100",children:K.length>0?K.map(L=>b.jsxs("tr",{className:"hover:bg-slate-50/50 transition-colors",children:[b.jsx("td",{className:"px-6 py-4 text-sm text-slate-600",children:(()=>{const Z=L.date_lancamento.split("T")[0].split("-");return Z.length===3?`${Z[2]}/${Z[1]}`:L.date_lancamento})()}),b.jsx("td",{className:"px-6 py-4",children:b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:`p-1 rounded-full ${L.type==="INCOME"?"bg-emerald-100 text-emerald-600":"bg-rose-100 text-rose-600"}`,children:L.type==="INCOME"?b.jsx(OR,{size:14}):b.jsx(NR,{size:14})}),b.jsx("span",{className:"text-sm font-medium text-slate-800",children:L.description})]})}),b.jsxs("td",{className:`px-6 py-4 text-sm font-bold text-right ${L.type==="INCOME"?"text-emerald-600":"text-rose-600"}`,children:[L.type==="INCOME"?"+":"-"," R$ ",L.amount.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),b.jsx("td",{className:"px-6 py-4",children:b.jsxs("div",{className:"flex items-center justify-center gap-2",children:[b.jsx("button",{onClick:()=>P(L),className:"p-2 text-slate-400 hover:text-indigo-600 transition-colors",children:b.jsx(ja,{size:16})}),b.jsx("button",{onClick:()=>I(L),className:"p-2 text-slate-400 hover:text-rose-600 transition-colors",children:b.jsx(kr,{size:16})})]})})]},L.id)):b.jsx("tr",{children:b.jsx("td",{colSpan:4,className:"px-6 py-12 text-center text-slate-400 font-medium",children:"Nenhum investimento encontrado"})})})]})}),r&&b.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:b.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-xl p-8 relative",children:[d==="success"&&b.jsxs("div",{className:"absolute inset-0 bg-white/90 z-10 rounded-2xl flex flex-col items-center justify-center text-emerald-600 animate-in fade-in duration-300",children:[b.jsx(qb,{size:64,className:"mb-4"}),b.jsx("p",{className:"font-bold text-xl",children:"Sincronizado com Sucesso!"})]}),b.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-6",children:u?"Editar Investimento":"Novo Investimento"}),b.jsxs("form",{onSubmit:C,className:"space-y-4",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[b.jsx("button",{type:"button",onClick:()=>v({...m,type:"INCOME"}),className:`py-3 rounded-xl border-2 font-bold transition-all ${m.type==="INCOME"?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-slate-100 text-slate-400"}`,children:"Entrada"}),b.jsx("button",{type:"button",onClick:()=>v({...m,type:"EXPENSE"}),className:`py-3 rounded-xl border-2 font-bold transition-all ${m.type==="EXPENSE"?"border-rose-500 bg-rose-50 text-rose-700":"border-slate-100 text-slate-400"}`,children:"Sada"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Descrio"}),b.jsx("input",{type:"text",required:!0,value:m.description,onChange:L=>v({...m,description:L.target.value}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Valor"}),b.jsx("input",{type:"number",step:"0.01",required:!0,value:m.amount,onChange:L=>v({...m,amount:L.target.value}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Data Lanamento"}),b.jsx("input",{type:"date",required:!0,value:m.date_lancamento,onChange:L=>v({...m,date_lancamento:L.target.value}),className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),b.jsxs("div",{className:"flex gap-4 pt-4",children:[b.jsx("button",{type:"button",disabled:a,onClick:R,className:"flex-1 py-2 text-slate-600 font-medium hover:bg-slate-50 rounded-lg transition-colors",children:"Cancelar"}),b.jsxs("button",{type:"submit",disabled:a,className:"flex-1 py-2 bg-indigo-600 text-white font-bold rounded-lg hover:bg-indigo-700 transition-colors flex items-center justify-center gap-2",children:[a&&b.jsx(Yu,{size:16,className:"animate-spin"}),u?"Atualizar":"Sincronizar"]})]})]})]})}),b.jsx(qo,{isOpen:_.isOpen,title:_.title,message:_.message,type:_.type,confirmText:_.confirmText,onConfirm:_.onConfirm,onCancel:()=>S({..._,isOpen:!1})})]})},Jne=({bills:e,setBills:t})=>{const[n,r]=A.useState(!1),[i,a]=A.useState(null),[l,u]=A.useState({isOpen:!1,id:null}),[f,d]=A.useState({data:new Date().toISOString().split("T")[0],descricao:"",entrada:"",saida:""}),[h,m]=A.useState(""),[v,_]=A.useState([]),[S,E]=A.useState(new Date().getFullYear()),T=A.useMemo(()=>{const L=new Set;return L.add(new Date().getFullYear()),e.forEach(q=>{const Z=parseInt(q.data.substring(0,4));isNaN(Z)||L.add(Z)}),Array.from(L).sort((q,Z)=>Z-q)},[e]),P=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"].map((L,q)=>({id:`${S}-${String(q+1).padStart(2,"0")}`,name:L,shortName:L.substring(0,3)})),I=L=>{_(q=>q.includes(L)?q.filter(Z=>Z!==L):[...q,L])},O=()=>_([]),R=L=>{a(L.id),d({data:(Z=>{if(!Z)return"";if(Z.match(/^\d{4}-\d{2}-\d{2}$/))return Z;const ae=new Date(Z);if(isNaN(ae.getTime()))return"";const se=ae.getTimezoneOffset()*6e4;return new Date(ae.getTime()+se).toISOString().split("T")[0]})(L.data),descricao:L.descricao,entrada:L.entrada.toString(),saida:L.saida.toString()}),r(!0)},D=async L=>{L.preventDefault();const q=parseFloat(f.entrada)||0,Z=parseFloat(f.saida)||0;if(q===0&&Z===0){alert("Preencha pelo menos um dos campos: A Receber ou A Pagar");return}const ae={data:f.data,descricao:f.descricao,entrada:parseFloat(f.entrada)||0,sada:parseFloat(f.saida)||0};console.log(" Tentando salvar:",ae);try{if(i){const{data:se,error:j}=await Be.from("contas_pagar_receber").update(ae).eq("id",i).select();if(j)throw j;const G={id:se[0].id,data:se[0].data,descricao:se[0].descricao,entrada:se[0].entrada,saida:se[0].sada};t(W=>W.map(re=>re.id===i?G:re))}else{const{data:se,error:j}=await Be.from("contas_pagar_receber").insert([ae]).select();if(j)throw j;const G={id:se[0].id,data:se[0].data,descricao:se[0].descricao,entrada:se[0].entrada,saida:se[0].sada};t(W=>[G,...W])}r(!1),a(null),d({data:new Date().toISOString().split("T")[0],descricao:"",entrada:"",saida:""})}catch(se){console.error(" Erro completo ao salvar:",se),console.error(" Detalhes do erro:",{message:se.message,details:se.details,hint:se.hint,code:se.code}),alert(`Falha ao sincronizar: ${se.message||"Erro desconhecido"}

Verifique o console para mais detalhes.`)}},M=async L=>{try{const{error:q}=await Be.from("contas_pagar_receber").delete().eq("id",L);if(q)throw q;t(Z=>Z.filter(ae=>ae.id!==L)),u({isOpen:!1,id:null})}catch{alert("Erro ao deletar conta")}},U=e.filter(L=>{if(v.length>0){const G=L.data.substring(0,7);if(!v.includes(G))return!1}if(!h)return!0;const q=h.toLowerCase(),Z=new Date(L.data).toLocaleDateString("pt-BR"),ae=L.descricao.toLowerCase(),se=L.entrada.toString(),j=L.saida.toString();return Z.includes(q)||ae.includes(q)||se.includes(q)||j.includes(q)}).reduce((L,q)=>{const Z=q.data.substring(0,7);return L[Z]||(L[Z]=[]),L[Z].push(q),L},{}),K=Object.keys(U).sort();return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Contas a Pagar e Receber"}),b.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Gerencie seus compromissos financeiros mensais"})]}),b.jsxs("div",{className:"flex gap-3 w-full md:w-auto",children:[b.jsxs("div",{className:"relative flex-1 md:w-80",children:[b.jsx(vl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:18}),b.jsx("input",{type:"text",placeholder:"Pesquisar contas...",value:h,onChange:L=>m(L.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-white border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-all text-sm"})]}),b.jsxs("button",{onClick:()=>{a(null),d({data:new Date().toISOString().split("T")[0],descricao:"",entrada:"",saida:""}),r(!0)},className:"flex items-center gap-2 px-6 py-2.5 bg-indigo-600 text-white rounded-xl hover:bg-indigo-700 transition-all font-bold shadow-sm shadow-indigo-100",children:[b.jsx(Qr,{size:20}),b.jsx("span",{className:"hidden sm:inline",children:"Nova Conta"})]})]})]}),b.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-6 shadow-sm",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 mb-6",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(h0,{className:"text-indigo-600",size:20}),b.jsx("span",{className:"font-bold text-slate-700",children:"Calendrio de Contas"})]}),b.jsx("select",{value:S,onChange:L=>{E(parseInt(L.target.value)),_([])},className:"bg-slate-100 border-none rounded-lg px-3 py-1.5 text-sm font-bold text-indigo-700 focus:ring-2 focus:ring-indigo-500 cursor-pointer",children:T.map(L=>b.jsx("option",{value:L,children:L},L))})]}),b.jsx("button",{onClick:O,className:`text-sm font-bold transition-colors ${v.length===0?"text-indigo-600":"text-slate-400 hover:text-indigo-600"}`,children:v.length>0?"Limpar Filtros e Ver Tudo":"Visualizando Tudo"})]}),b.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-12 gap-3",children:P.map(L=>{const q=v.includes(L.id),Z=e.filter(ae=>ae.data.substring(0,7)===L.id).length;return b.jsxs("button",{onClick:()=>I(L.id),className:`
                  relative flex flex-col items-center justify-center p-3 rounded-2xl transition-all border-2
                  ${q?"border-indigo-600 bg-indigo-50 text-indigo-700 ring-4 ring-indigo-50":Z>0?"border-slate-100 bg-white text-slate-700 hover:border-slate-300 shadow-sm":"border-slate-50 bg-slate-50 text-slate-400 hover:bg-slate-100"}
                `,children:[b.jsx("span",{className:"text-[10px] uppercase font-bold tracking-wider mb-1",children:L.shortName}),b.jsx("span",{className:"text-lg font-black",children:L.id.split("-")[1]}),Z>0&&b.jsx("span",{className:`absolute -top-2 -right-1 w-5 h-5 flex items-center justify-center rounded-full text-[10px] font-black shadow-sm ${q?"bg-indigo-600 text-white":"bg-slate-700 text-white"}`,children:Z})]},L.id)})})]}),b.jsx("div",{className:"space-y-8",children:K.length>0?K.map(L=>{const q=U[L].sort((re,he)=>new Date(re.data).getTime()-new Date(he.data).getTime()),[Z,ae]=L.split("-"),j=new Date(parseInt(Z),parseInt(ae)-1).toLocaleDateString("pt-BR",{month:"long",year:"numeric"}),G=q.reduce((re,he)=>re+he.entrada,0),W=q.reduce((re,he)=>re+he.saida,0);return b.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4 px-2",children:[b.jsxs("h2",{className:"text-lg font-black text-slate-800 capitalize flex items-center gap-2",children:[b.jsx("div",{className:"w-2 h-6 bg-indigo-600 rounded-full"}),j]}),b.jsxs("div",{className:"flex gap-4 text-xs font-bold",children:[b.jsxs("span",{className:"text-emerald-600 bg-emerald-50 px-3 py-1 rounded-full",children:["RECEBER: R$ ",G.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),b.jsxs("span",{className:"text-rose-600 bg-rose-50 px-3 py-1 rounded-full",children:["PAGAR: R$ ",W.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),b.jsx("div",{className:"bg-white rounded-3xl border border-slate-200 overflow-hidden shadow-sm",children:b.jsxs("table",{className:"w-full",children:[b.jsx("thead",{className:"bg-slate-50/50 border-b border-slate-100",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest w-32",children:"Data"}),b.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Descrio"}),b.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-slate-400 uppercase tracking-widest w-40",children:"A Receber"}),b.jsx("th",{className:"px-6 py-4 text-right text-[10px] font-black text-slate-400 uppercase tracking-widest w-40",children:"A Pagar"}),b.jsx("th",{className:"px-6 py-4 text-center text-[10px] font-black text-slate-400 uppercase tracking-widest w-24",children:"Aes"})]})}),b.jsx("tbody",{className:"divide-y divide-slate-100",children:q.map(re=>b.jsxs("tr",{className:"group hover:bg-slate-50/50 transition-all",children:[b.jsx("td",{className:"px-6 py-4",children:b.jsx("span",{className:"text-sm font-bold text-slate-600",children:(()=>{const $=re.data.split("T")[0].split(" ")[0].split("-");return $.length===3?`${$[2]}/${$[1]}`:re.data})()})}),b.jsx("td",{className:"px-6 py-4",children:b.jsx("span",{className:"text-sm font-extrabold text-slate-800",children:re.descricao})}),b.jsx("td",{className:"px-6 py-4 text-right",children:re.entrada>0?b.jsxs("span",{className:"text-sm font-black text-emerald-600",children:["R$ ",re.entrada.toLocaleString("pt-BR",{minimumFractionDigits:2})]}):b.jsx("span",{className:"text-slate-200",children:"--"})}),b.jsx("td",{className:"px-6 py-4 text-right",children:re.saida>0?b.jsxs("span",{className:"text-sm font-black text-rose-600",children:["R$ ",re.saida.toLocaleString("pt-BR",{minimumFractionDigits:2})]}):b.jsx("span",{className:"text-slate-200",children:"--"})}),b.jsx("td",{className:"px-6 py-4",children:b.jsxs("div",{className:"flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[b.jsx("button",{onClick:()=>R(re),className:"p-2 text-slate-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-all",children:b.jsx(ja,{size:16})}),b.jsx("button",{onClick:()=>u({isOpen:!0,id:re.id}),className:"p-2 text-slate-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition-all",children:b.jsx(kr,{size:16})})]})})]},re.id))})]})})]},L)}):b.jsxs("div",{className:"bg-slate-50 rounded-3xl border-2 border-dashed border-slate-200 p-20 text-center",children:[b.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl shadow-sm flex items-center justify-center mx-auto mb-4",children:b.jsx(Fb,{size:32,className:"text-slate-300"})}),b.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Nenhuma conta encontrada"}),b.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Tente ajustar seus filtros ou busca"})]})}),n&&b.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:b.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-xl p-6",children:[b.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:i?"Editar Conta":"Nova Conta"}),b.jsxs("form",{onSubmit:D,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data"}),b.jsx("input",{type:"date",required:!0,value:f.data,onChange:L=>d({...f,data:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrio"}),b.jsx("input",{type:"text",required:!0,value:f.descricao,onChange:L=>d({...f,descricao:L.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Aluguel, Fornecedor, Cliente"})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-green-700 mb-1",children:"A Receber (R$)"}),b.jsx("input",{type:"number",step:"0.01",value:f.entrada,onChange:L=>d({...f,entrada:L.target.value}),className:"w-full px-4 py-2 border border-green-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"0,00"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-red-700 mb-1",children:"A Pagar (R$)"}),b.jsx("input",{type:"number",step:"0.01",value:f.saida,onChange:L=>d({...f,saida:L.target.value}),className:"w-full px-4 py-2 border border-red-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"0,00"})]})]}),b.jsx("p",{className:"text-xs text-gray-500",children:" Preencha apenas um dos campos (A Receber ou A Pagar)"}),b.jsxs("div",{className:"flex gap-3 pt-4",children:[b.jsx("button",{type:"button",onClick:()=>{r(!1),a(null),d({data:new Date().toISOString().split("T")[0],descricao:"",entrada:"",saida:""})},className:"flex-1 py-2 text-gray-600 font-medium hover:bg-gray-50 rounded-lg transition-colors",children:"Cancelar"}),b.jsx("button",{type:"submit",className:"flex-1 py-2 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 transition-colors",children:i?"Atualizar":"Salvar"})]})]})]})}),b.jsx(qo,{isOpen:l.isOpen,title:"Excluir Conta",message:"Tem certeza que deseja excluir esta conta? Esta ao no pode ser desfeita.",confirmText:"Excluir",cancelText:"Cancelar",onConfirm:()=>l.id&&M(l.id),onCancel:()=>u({isOpen:!1,id:null})})]})},Xne=({forecasts:e,setForecasts:t,transactions:n,categories:r})=>{var pe,Ce,xe,_e;const[i,a]=A.useState(!1),[l,u]=A.useState(null),[f,d]=A.useState(new Date().getFullYear()),[h,m]=A.useState({isOpen:!1,ids:[],description:""}),[v,_]=A.useState({description:"",amount:"",type:"EXPENSE",recorrente:!1,mes:new Date().toISOString().slice(0,7),endMonth:new Date().toISOString().slice(0,7),categoryId:"",subCategoryId:""}),[S,E]=A.useState(""),[T,C]=A.useState(null),[P,I]=A.useState(null),O=A.useMemo(()=>{const te=[],B=new Date;for(let ce=0;ce<6;ce++){const me=new Date(B.getFullYear(),B.getMonth()+ce,1);te.push({monthKey:`${me.getFullYear()}-${String(me.getMonth()+1).padStart(2,"0")}`,monthLabel:me.toLocaleDateString("pt-BR",{month:"short"}).replace(".",""),previsto:0,realizado:0})}return te.forEach(ce=>{const me=n.filter(De=>{const ge=new Date(De.date);return`${ge.getFullYear()}-${String(ge.getMonth()+1).padStart(2,"0")}`===ce.monthKey});ce.realizado=me.reduce((De,ge)=>ge.type==="INCOME"?De+ge.amount:De-ge.amount,0);const oe=e.filter(De=>{const ge=ce.monthKey,yt=De.mes,nt=De.endMonth||De.mes;return ge>=yt&&ge<=nt});ce.previsto=oe.reduce((De,ge)=>ge.type==="INCOME"?De+ge.amount:De-ge.amount,0)}),te.map(ce=>{const me=ce.realizado-ce.previsto,oe=ce.previsto!==0?ce.realizado/ce.previsto*100:0;return{name:ce.monthLabel,Previsto:ce.previsto,Realizado:ce.realizado,variancia:me,eficiencia:Math.min(oe,200)}})},[n,e]),R=te=>{u(te.id),_({description:te.description,amount:te.amount.toString(),type:te.type,recorrente:te.recorrente,mes:te.mes,endMonth:te.endMonth||"",categoryId:te.categoryId||"",subCategoryId:te.subCategoryId||""}),a(!0)},D=async te=>{te.preventDefault();const B={descrio:v.description,valor:parseFloat(v.amount),entrada_saida:v.type,"recorrente?":v.recorrente?"sim":"nao",mes:v.mes,fim_periodo:v.endMonth||null,categoria:v.categoryId||null,subcategoria:v.subCategoryId||null};try{if(l){const{data:ce,error:me}=await Be.from("previsao_despesa").update(B).eq("id",l).select();if(me)throw me;const oe={id:ce[0].id,description:ce[0].descrio,amount:ce[0].valor,type:ce[0].entrada_saida,recorrente:ce[0]["recorrente?"]==="sim",mes:ce[0].mes,endMonth:ce[0].fim_periodo,categoryId:ce[0].categoria,subCategoryId:ce[0].subcategoria};t(De=>De.map(ge=>ge.id===l?oe:ge))}else{const{data:ce,error:me}=await Be.from("previsao_despesa").insert([B]).select();if(me)throw me;const oe={id:ce[0].id,description:ce[0].descrio,amount:ce[0].valor,type:ce[0].entrada_saida,recorrente:ce[0]["recorrente?"]==="sim",mes:ce[0].mes,endMonth:ce[0].fim_periodo,categoryId:ce[0].categoria,subCategoryId:ce[0].subcategoria};t(De=>[oe,...De])}a(!1),u(null),_({description:"",amount:"",type:"EXPENSE",recorrente:!1,mes:`${f}-01`,endMonth:"",categoryId:"",subCategoryId:""})}catch(ce){console.error(" Erro ao salvar:",ce),alert(`Erro ao salvar: ${ce.message||"Erro desconhecido"}`)}},M=async()=>{try{for(const te of h.ids){const{error:B}=await Be.from("previsao_despesa").delete().eq("id",te);if(B)throw B;t(ce=>ce.filter(me=>me.id!==te))}m({isOpen:!1,ids:[],description:""})}catch{alert("Erro ao remover previso.")}},z=e.filter(te=>{const B=parseInt(te.mes.split("-")[0]),ce=te.endMonth?parseInt(te.endMonth.split("-")[0]):B;return f>=B&&f<=ce}),U=z.reduce((te,B)=>{const ce=B.type||"EXPENSE";te[ce]||(te[ce]={}),te[ce][B.description]||(te[ce][B.description]={description:B.description,id:B.id,type:ce,months:{}});const me=B.mes,oe=B.endMonth||B.mes;for(let De=1;De<=12;De++){const ge=`${f}-${String(De).padStart(2,"0")}`;ge>=me&&ge<=oe&&(te[ce][B.description].months[De]={value:B.amount,id:B.id,recorrente:B.recorrente})}return te},{INCOME:{},EXPENSE:{}}),K=Object.values(U.INCOME),L=Object.values(U.EXPENSE),q=Array(12).fill(0).map((te,B)=>{const ce=B+1,me=`${f}-${String(ce).padStart(2,"0")}`;return z.filter(oe=>oe.type==="INCOME"&&me>=oe.mes&&me<=(oe.endMonth||oe.mes)).reduce((oe,De)=>oe+De.amount,0)}),Z=Array(12).fill(0).map((te,B)=>{const ce=B+1,me=`${f}-${String(ce).padStart(2,"0")}`;return z.filter(oe=>(oe.type==="EXPENSE"||!oe.type)&&me>=oe.mes&&me<=(oe.endMonth||oe.mes)).reduce((oe,De)=>oe+De.amount,0)}),ae=q.map((te,B)=>te-Z[B]),se=q.reduce((te,B)=>te+B,0),j=Z.reduce((te,B)=>te+B,0),G=se-j,W=[...new Set(e.map(te=>parseInt(te.mes.split("-")[0])))].sort();W.length===0&&W.push(new Date().getFullYear());const re=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],he=[...K,...L],$=K.filter(te=>S===""||te.description.toLowerCase().includes(S.toLowerCase())),J=L.filter(te=>S===""||te.description.toLowerCase().includes(S.toLowerCase())),ue=(te,B,ce,me,oe,De)=>b.jsxs(b.Fragment,{children:[b.jsx("tr",{className:`${me} border-y border-slate-100`,children:b.jsxs("td",{colSpan:15,className:`px-8 py-4 font-black ${De} text-[11px] uppercase tracking-widest flex items-center gap-3`,children:[b.jsx("div",{className:"p-1.5 rounded-lg bg-white shadow-sm ring-1 ring-slate-200/50",children:ce}),B]})}),te.length>0?te.map(ge=>{const yt=Number(Object.values(ge.months).reduce((nt,bt)=>nt+(bt.value||0),0));return b.jsxs("tr",{className:"hover:bg-slate-50/80 transition-all group border-b border-slate-50",children:[b.jsx("td",{className:"px-8 py-4 font-bold text-slate-700 sticky left-0 bg-white group-hover:bg-slate-50 transition-colors text-[13px] z-20 shadow-[4px_0_8px_-4px_rgba(0,0,0,0.05)]",children:b.jsxs("div",{className:"flex items-center justify-between gap-3",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${oe} shadow-sm`}),b.jsx("span",{className:"truncate max-w-[180px]",children:ge.description})]}),b.jsx("button",{onClick:nt=>{const bt=nt.currentTarget.getBoundingClientRect();I({top:bt.bottom+4,left:bt.left-130}),C(ge.id)},className:"p-1 text-slate-300 hover:text-slate-600 hover:bg-slate-100 rounded-lg transition-all opacity-0 group-hover:opacity-100",children:b.jsx(PR,{size:14})})]})}),re.map((nt,bt)=>{const Y=ge.months[bt+1];return b.jsx("td",{className:"px-4 py-4 text-right text-slate-500 text-[12px] font-medium tabular-nums",children:Y?b.jsx("span",{className:Y.recorrente?"font-bold text-slate-900 bg-blue-50/50 px-2 py-1 rounded-md":"",children:Y.value.toLocaleString("pt-BR",{minimumFractionDigits:2})}):b.jsx("span",{className:"text-slate-200",children:""})},bt)}),b.jsx("td",{className:"px-8 py-4 text-right font-black text-slate-900 bg-slate-50/50 text-[12px] tabular-nums border-x border-slate-100/50",children:yt.toLocaleString("pt-BR",{minimumFractionDigits:2})}),b.jsx("td",{className:"px-4 py-4 text-center",children:b.jsxs("div",{className:"opacity-0 group-hover:opacity-100 flex justify-center gap-1",children:[b.jsx("button",{onClick:()=>{const nt=Object.keys(ge.months)[0],bt=z.find(Y=>Y.description===ge.description&&Y.type===ge.type&&parseInt(Y.mes.split("-")[1])===parseInt(nt));bt&&R(bt)},className:"text-gray-600 hover:bg-gray-100 p-1.5 rounded",children:b.jsx(ja,{size:14})}),b.jsx("button",{onClick:()=>{const nt=Object.values(ge.months).map(bt=>bt.id);m({isOpen:!0,ids:nt,description:ge.description})},className:"text-red-600 hover:bg-red-50 p-1.5 rounded",children:b.jsx(kr,{size:14})})]})})]},`${ge.type}-${ge.description}`)}):b.jsx("tr",{children:b.jsxs("td",{colSpan:15,className:"px-6 py-8 text-center text-gray-400 text-sm",children:["Nenhum item em ",B," para ",f]})})]});return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Previso e DRE de Caixa"}),b.jsxs("div",{className:"flex gap-3",children:[b.jsxs("div",{className:"relative w-64",children:[b.jsx(vl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),b.jsx("input",{type:"text",placeholder:"Buscar no DRE...",value:S,onChange:te=>E(te.target.value),className:"w-full pl-10 pr-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),b.jsx("select",{value:f,onChange:te=>d(parseInt(te.target.value)),className:"px-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-medium text-gray-700",children:W.map(te=>b.jsx("option",{value:te,children:te},te))}),b.jsxs("button",{onClick:()=>{const te=new Date().toISOString().slice(0,7);u(null),_({description:"",amount:"",type:"INCOME",recorrente:!1,mes:te,endMonth:te,categoryId:"",subCategoryId:""}),a(!0)},className:"flex items-center gap-2 px-5 py-2 bg-emerald-600 text-white rounded-xl hover:bg-emerald-700 transition-all font-bold shadow-lg shadow-emerald-100",children:[b.jsx(Qr,{size:18}),"Nova Receita"]}),b.jsxs("button",{onClick:()=>{const te=new Date().toISOString().slice(0,7);u(null),_({description:"",amount:"",type:"EXPENSE",recorrente:!1,mes:te,endMonth:te,categoryId:"",subCategoryId:""}),a(!0)},className:"flex items-center gap-2 px-5 py-2 bg-rose-600 text-white rounded-xl hover:bg-rose-700 transition-all font-bold shadow-lg shadow-rose-100",children:[b.jsx(Qr,{size:18}),"Nova Despesa"]})]})]}),b.jsx("div",{className:"mb-12",children:b.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-sm border border-slate-200",children:[b.jsx("div",{className:"mb-8 flex flex-col md:flex-row md:items-center justify-between gap-4",children:b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("div",{className:"p-3 bg-indigo-600 rounded-2xl text-white shadow-lg shadow-indigo-100",children:b.jsx(Ci,{size:24})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-xl font-black text-slate-800",children:"Performance: Previsto x Realizado"}),b.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Anlise de aderncia ao planejamento financeiro"})]})]})}),b.jsx("div",{className:"h-[300px] w-full",children:b.jsx(Pa,{width:"100%",height:"100%",children:b.jsxs(zj,{data:O,margin:{top:20,right:30,left:10,bottom:5},barGap:12,children:[b.jsxs("defs",{children:[b.jsxs("linearGradient",{id:"barGradientPrevisto",x1:"0",y1:"0",x2:"0",y2:"1",children:[b.jsx("stop",{offset:"0%",stopColor:"#fcd34d",stopOpacity:.8}),b.jsx("stop",{offset:"100%",stopColor:"#f59e0b",stopOpacity:1})]}),b.jsxs("linearGradient",{id:"barGradientRealizado",x1:"0",y1:"0",x2:"0",y2:"1",children:[b.jsx("stop",{offset:"0%",stopColor:"#818cf8",stopOpacity:1}),b.jsx("stop",{offset:"100%",stopColor:"#4f46e5",stopOpacity:1})]})]}),b.jsx(Dh,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),b.jsx(zh,{dataKey:"name",axisLine:!1,tickLine:!1,style:{fontSize:"13px",fontWeight:"800",fill:"#1e293b"},dy:15}),b.jsx($h,{axisLine:!1,tickLine:!1,style:{fontSize:"11px",fontWeight:"700",fill:"#94a3b8"},tickFormatter:te=>`R$${(te/1e3).toFixed(0)}k`}),b.jsx(Ra,{cursor:{fill:"#f8fafc",radius:12},content:({active:te,payload:B,label:ce})=>{if(te&&B&&B.length){const me=B[0].payload;return b.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-2xl border border-slate-100 min-w-[220px] animate-in fade-in zoom-in duration-200",children:[b.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mb-3",children:[ce," - Resumo Performance"]}),b.jsxs("div",{className:"space-y-3",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("span",{className:"text-xs font-bold text-slate-500",children:"Planejado:"}),b.jsxs("span",{className:"text-sm font-black text-slate-700",children:["R$ ",me.Previsto.toLocaleString("pt-BR")]})]}),b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("span",{className:"text-xs font-bold text-slate-500",children:"Executado:"}),b.jsxs("span",{className:"text-sm font-black text-indigo-600",children:["R$ ",me.Realizado.toLocaleString("pt-BR")]})]})]})]})}return null}}),b.jsx(dl,{verticalAlign:"top",align:"right",iconType:"rect",wrapperStyle:{paddingBottom:"30px",fontSize:"12px",fontWeight:"900",textTransform:"uppercase",letterSpacing:"0.1em"}}),b.jsx(Uh,{dataKey:"Previsto",fill:"url(#barGradientPrevisto)",radius:[10,10,0,0],barSize:28,animationDuration:1800,animationBegin:200}),b.jsx(Uh,{dataKey:"Realizado",fill:"url(#barGradientRealizado)",radius:[10,10,0,0],barSize:28,animationDuration:1800,animationBegin:400})]})})})]})}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[b.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm transition-all hover:shadow-md",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsxs("span",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest",children:["Receita Projetada ",f]}),b.jsx("div",{className:"p-2 bg-emerald-50 rounded-xl",children:b.jsx(Ci,{size:16,className:"text-emerald-600"})})]}),b.jsxs("p",{className:"text-2xl font-black text-slate-900",children:["R$ ",Number(se).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),b.jsxs("div",{className:"bg-white p-6 rounded-3xl border border-slate-200 shadow-sm transition-all hover:shadow-md",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsxs("span",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest",children:["Despesa Projetada ",f]}),b.jsx("div",{className:"p-2 bg-rose-50 rounded-xl",children:b.jsx(xv,{size:16,className:"text-rose-600"})})]}),b.jsxs("p",{className:"text-2xl font-black text-slate-900",children:["R$ ",Number(j).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),b.jsxs("div",{className:`p-6 rounded-3xl border shadow-sm transition-all hover:shadow-lg ${G>=0?"bg-slate-900 border-slate-800":"bg-rose-900 border-rose-800"}`,children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsxs("span",{className:"text-[11px] font-black text-slate-300 uppercase tracking-widest",children:["Resultado Final ",f]}),b.jsx("div",{className:`p-2 rounded-xl ${G>=0?"bg-emerald-500/10":"bg-white/10"}`,children:G>=0?b.jsx(Ci,{size:16,className:"text-emerald-400"}):b.jsx(xv,{size:16,className:"text-rose-400"})})]}),b.jsxs("p",{className:"text-2xl font-black text-white",children:["R$ ",Number(G).toLocaleString("pt-BR",{minimumFractionDigits:2})]}),b.jsx("p",{className:"text-[10px] font-bold text-slate-400 mt-1 uppercase tracking-tighter",children:G>=0?"Lucro Projetado":"Prejuzo Projetado"})]})]}),b.jsxs("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden",children:[b.jsxs("div",{className:"bg-slate-900 px-8 py-5 flex justify-between items-center",children:[b.jsxs("h2",{className:"text-lg font-black text-white",children:["DRE Projetado - Fluxo de Caixa ",f]}),b.jsx("div",{className:"flex items-center gap-6",children:b.jsxs("div",{className:"text-right",children:[b.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider",children:"Resultado Anual"}),b.jsxs("p",{className:`text-xl font-black ${G>=0?"text-emerald-400":"text-rose-400"}`,children:["R$ ",G.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})})]}),b.jsx("div",{className:"overflow-x-auto overflow-y-visible",children:b.jsxs("table",{className:"w-full scrollbar-thin scrollbar-thumb-slate-200",children:[b.jsx("thead",{className:"bg-slate-50 border-b border-slate-100",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-8 py-5 text-left text-[11px] font-black text-slate-500 uppercase tracking-widest sticky left-0 bg-slate-50 z-10 min-w-[280px]",children:"Descrio da Conta"}),re.map((te,B)=>b.jsx("th",{className:"px-4 py-5 text-right text-[11px] font-black text-slate-500 uppercase min-w-[100px]",children:te},B)),b.jsx("th",{className:"px-8 py-5 text-right text-[11px] font-black text-slate-900 uppercase bg-slate-100 min-w-[130px]",children:"Total Anual"}),b.jsx("th",{className:"px-4 py-5 text-center text-[11px] font-black text-slate-500 uppercase min-w-[90px]",children:"Aes"})]})}),b.jsxs("tbody",{className:"divide-y divide-slate-50",children:[ue($,"Receitas & Entradas de Caixa",b.jsx(Ci,{size:14,className:"text-emerald-500"}),"bg-emerald-50/30","bg-emerald-400","text-emerald-800"),b.jsxs("tr",{className:"bg-emerald-50/20 font-black border-y border-emerald-100/50 group",children:[b.jsx("td",{className:"px-8 py-5 text-emerald-800 sticky left-0 bg-emerald-50/20 text-[11px] uppercase tracking-widest z-20 shadow-[4px_0_8px_-4px_rgba(16,185,129,0.1)]",children:"Total de Entradas"}),q.map((te,B)=>b.jsx("td",{className:"px-4 py-5 text-right text-emerald-700 text-[12px] tabular-nums font-bold",children:te>0?te.toLocaleString("pt-BR",{minimumFractionDigits:2}):""},B)),b.jsx("td",{className:"px-8 py-5 text-right text-emerald-900 bg-emerald-100/30 font-black text-[13px] tabular-nums border-x border-emerald-200/20",children:se.toLocaleString("pt-BR",{minimumFractionDigits:2})}),b.jsx("td",{className:"bg-emerald-50/20 text-center",children:b.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 mx-auto opacity-20"})})]}),b.jsx("tr",{className:"h-4 bg-slate-50/30"}),ue(J,"Despesas & Projetos de Sada",b.jsx(xv,{size:14,className:"text-rose-500"}),"bg-rose-50/30","bg-rose-400","text-rose-800"),b.jsxs("tr",{className:"bg-rose-50/20 font-black border-y border-rose-100/50 group",children:[b.jsx("td",{className:"px-8 py-5 text-rose-800 sticky left-0 bg-rose-50/20 text-[11px] uppercase tracking-widest z-20 shadow-[4px_0_8px_-4px_rgba(244,63,94,0.1)]",children:"Total de Sadas"}),Z.map((te,B)=>b.jsx("td",{className:"px-4 py-5 text-right text-rose-700 text-[12px] tabular-nums font-bold",children:te>0?te.toLocaleString("pt-BR",{minimumFractionDigits:2}):""},B)),b.jsx("td",{className:"px-8 py-5 text-right text-rose-900 bg-rose-100/30 font-black text-[13px] tabular-nums border-x border-rose-200/20",children:j.toLocaleString("pt-BR",{minimumFractionDigits:2})}),b.jsx("td",{className:"bg-rose-50/20 text-center",children:b.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-rose-400 mx-auto opacity-20"})})]}),b.jsxs("tr",{className:"bg-slate-900 text-white font-black border-t-2 border-slate-800",children:[b.jsxs("td",{className:"px-8 py-7 sticky left-0 bg-slate-900 text-[12px] uppercase tracking-[0.2em] z-30 flex items-center gap-4",children:[b.jsx("div",{className:`p-2 rounded-xl ${G>=0?"bg-emerald-500/20":"bg-rose-500/20"}`,children:b.jsx(Ci,{size:18,className:G>=0?"text-emerald-400":"text-rose-400"})}),"Resultado Lquido"]}),ae.map((te,B)=>b.jsx("td",{className:`px-4 py-7 text-right text-[13px] tabular-nums ${te>=0?"text-emerald-400":"text-rose-400"}`,children:te.toLocaleString("pt-BR",{minimumFractionDigits:2})},B)),b.jsx("td",{className:`px-8 py-7 text-right bg-black font-black text-[15px] tabular-nums border-l border-slate-800 ${G>=0?"text-emerald-400 font-black":"text-rose-400"}`,children:G.toLocaleString("pt-BR",{minimumFractionDigits:2})}),b.jsx("td",{className:"bg-slate-900"})]})]})]})}),b.jsx("div",{className:"px-8 py-4 bg-slate-50 border-t border-slate-100",children:b.jsxs("div",{className:"flex items-center gap-4 text-[10px] text-slate-500 font-bold uppercase tracking-widest",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:"w-2.5 h-2.5 bg-slate-300 rounded"}),b.jsx("span",{children:"Itens Recorrentes destacados"})]}),b.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[b.jsx("span",{className:"text-slate-400",children:"Total de itens:"}),b.jsx("span",{className:"bg-slate-900 text-white px-2 py-0.5 rounded text-[10px] font-black",children:he.length})]})]})})]}),i&&b.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:b.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-3xl shadow-2xl p-8 animate-in fade-in zoom-in duration-200 max-h-[95vh] overflow-y-auto scrollbar-thin scrollbar-thumb-slate-200",children:[b.jsxs("div",{className:"flex items-center justify-between mb-8",children:[b.jsx("h2",{className:"text-2xl font-black text-slate-900",children:l?"Editar Lanamento":"Novo Lanamento"}),b.jsx("button",{onClick:()=>a(!1),className:"text-slate-400 hover:text-slate-600",children:b.jsx(Qr,{size:24,className:"rotate-45"})})]}),b.jsxs("form",{onSubmit:D,className:"space-y-6",children:[b.jsxs("div",{className:"flex gap-2 p-1 bg-slate-100 rounded-2xl mb-4",children:[b.jsx("button",{type:"button",onClick:()=>_({...v,type:"EXPENSE"}),className:`flex-1 py-3 rounded-xl font-bold text-sm transition-all ${v.type==="EXPENSE"?"bg-white text-rose-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:"Sada (Despesa)"}),b.jsx("button",{type:"button",onClick:()=>_({...v,type:"INCOME"}),className:`flex-1 py-3 rounded-xl font-bold text-sm transition-all ${v.type==="INCOME"?"bg-white text-emerald-600 shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:"Entrada (Receita)"})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Descrio"}),b.jsx("input",{type:"text",required:!0,value:v.description,onChange:te=>_({...v,description:te.target.value}),className:"w-full px-5 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-slate-900 font-bold text-slate-800",placeholder:"Ex: Aluguel, Vendas, Salrios"})]}),b.jsxs("div",{className:"md:col-span-1",children:[b.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Valor (R$)"}),b.jsx("input",{type:"number",step:"0.01",required:!0,value:v.amount,onChange:te=>_({...v,amount:te.target.value}),className:"w-full px-5 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-slate-900 font-bold text-slate-800",placeholder:"0,00"})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Ms Incio"}),b.jsx("input",{type:"month",required:!0,value:v.mes,onChange:te=>{const B=te.target.value;_(ce=>ce.endMonth===ce.mes||!ce.endMonth?{...ce,mes:B,endMonth:B}:{...ce,mes:B})},className:"w-full px-5 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-slate-900 font-bold text-slate-800"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Ms Fim"}),b.jsx("input",{type:"month",required:!0,value:v.endMonth,onChange:te=>_({...v,endMonth:te.target.value}),className:"w-full px-5 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-slate-900 font-bold text-slate-800"})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Categoria"}),b.jsxs("select",{required:!0,value:v.categoryId,onChange:te=>_({...v,categoryId:te.target.value,subCategoryId:""}),className:"w-full px-5 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-slate-900 font-bold text-slate-800",children:[b.jsx("option",{value:"",children:"Selecione..."}),r.filter(te=>te.type===v.type).map(te=>b.jsx("option",{value:te.id,children:te.name},te.id))]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2",children:"Subcategoria"}),b.jsxs("select",{value:v.subCategoryId,onChange:te=>_({...v,subCategoryId:te.target.value}),className:"w-full px-5 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-slate-900 font-bold text-slate-800",disabled:!v.categoryId||!((Ce=(pe=r.find(te=>String(te.id)===String(v.categoryId)))==null?void 0:pe.subCategories)!=null&&Ce.length),children:[b.jsx("option",{value:"",children:"Nenhuma"}),(_e=(xe=r.find(te=>String(te.id)===String(v.categoryId)))==null?void 0:xe.subCategories)==null?void 0:_e.map(te=>b.jsx("option",{value:te.id,children:te.name},te.id))]})]})]}),b.jsxs("div",{className:"flex items-center p-4 bg-slate-50 rounded-2xl",children:[b.jsx("input",{type:"checkbox",id:"recorrente",checked:v.recorrente,onChange:te=>_({...v,recorrente:te.target.checked}),className:"w-5 h-5 text-slate-900 border-slate-300 rounded-lg focus:ring-slate-900"}),b.jsx("label",{htmlFor:"recorrente",className:"ml-3 text-sm font-bold text-slate-700",children:"Lanamento recorrente"})]}),b.jsxs("div",{className:"flex gap-4 pt-4",children:[b.jsx("button",{type:"button",onClick:()=>{a(!1),u(null),_({description:"",amount:"",type:"EXPENSE",recorrente:!1,mes:new Date().toISOString().slice(0,7),endMonth:"",categoryId:"",subCategoryId:""})},className:"flex-1 py-4 text-slate-500 font-bold hover:bg-slate-50 rounded-2xl transition-all",children:"Cancelar"}),b.jsx("button",{type:"submit",className:"flex-1 py-4 bg-slate-900 text-white font-black rounded-2xl hover:bg-slate-800 transition-all shadow-xl shadow-slate-200",children:l?"Atualizar":"Salvar"})]})]})]})}),b.jsx(qo,{isOpen:h.isOpen,title:"Excluir Previses",message:`Tem certeza que deseja excluir todas as previses de "${h.description}"? Esta ao no pode ser desfeita.`,confirmText:"Excluir",cancelText:"Cancelar",onConfirm:M,onCancel:()=>m({isOpen:!1,ids:[],description:""})}),T&&P&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>{C(null),I(null)}}),b.jsxs("div",{className:"fixed bg-white border border-gray-200 rounded-lg shadow-xl z-50 min-w-[150px]",style:{top:`${P.top}px`,left:`${P.left}px`},children:[b.jsxs("button",{onClick:()=>{const te=he.find(B=>B.id===T);if(te){const B=Object.keys(te.months)[0],ce=z.find(me=>me.description===te.description&&me.type===te.type&&parseInt(me.mes.split("-")[1])===parseInt(B));ce&&R(ce)}C(null),I(null)},className:"w-full px-4 py-3 text-left text-sm font-bold text-slate-700 hover:bg-slate-50 flex items-center gap-3 rounded-xl transition-all",children:[b.jsx(ja,{size:16}),"Editar Tudo"]}),b.jsxs("button",{onClick:()=>{const te=he.find(B=>B.id===T);if(te){const B=Object.values(te.months).map(ce=>ce.id);m({isOpen:!0,ids:B,description:te.description})}C(null),I(null)},className:"w-full px-4 py-3 text-left text-sm font-bold text-rose-600 hover:bg-rose-50 flex items-center gap-3 rounded-xl transition-all",children:[b.jsx(kr,{size:16}),"Excluir Tudo"]})]})]})]})},Zne=({contracts:e,setContracts:t,setBills:n,setTransactions:r})=>{const[i,a]=A.useState(!1),[l,u]=A.useState({isOpen:!1,id:null}),[f,d]=A.useState(!1),[h,m]=A.useState(null),[v,_]=A.useState(null),[S,E]=A.useState(null),[T,C]=A.useState({nome_cliente:"",servico:"",pago:"",receber:"",data_pagamento:"",inicio_contrato:"",final_contrato:"",parcela:""}),[P,I]=A.useState(""),[O,R]=A.useState(null),D=(j,G)=>{if(!j||!G)return 0;const W=new Date(j),re=new Date(G),he=(re.getFullYear()-W.getFullYear())*12+(re.getMonth()-W.getMonth())+1;return Math.max(1,he)},M=(j,G)=>{const W={...T,[j]:G};if(C(W),W.inicio_contrato&&W.final_contrato){const re=D(W.inicio_contrato,W.final_contrato);R(re),W.parcela&&parseInt(W.parcela)>re&&C({...W,parcela:re.toString()})}else R(null)},z=j=>{var re;E(j.id);const G=he=>{if(!he)return"";if(he.match(/^\d{4}-\d{2}-\d{2}$/))return he;const $=new Date(he);if(isNaN($.getTime()))return"";const J=$.getTimezoneOffset()*6e4;return new Date($.getTime()+J).toISOString().split("T")[0]},W={nome_cliente:j.nome_cliente,servico:j.servico,pago:j.pago.toString(),receber:j.receber.toString(),data_pagamento:G(j.data_pagamento),inicio_contrato:G(j.inicio_contrato),final_contrato:G(j.final_contrato),parcela:((re=j.parcela)==null?void 0:re.toString())||""};if(C(W),j.inicio_contrato&&j.final_contrato){const he=D(j.inicio_contrato,j.final_contrato);R(he)}a(!0),_(null)},U=async(j,G,W)=>{const re=j["Nome cliente"]||j.nome_cliente,he=W/G,$=new Date(j.inicio_contrato),J=[];console.log(" Criando parcelas:",{nomeCliente:re,parcelas:G,valorPorParcela:he});for(let ue=0;ue<G;ue++){const pe=new Date($);pe.setMonth(pe.getMonth()+ue),J.push({data:pe.toISOString().split("T")[0],descricao:re,entrada:he,sada:0})}try{const{data:ue,error:pe}=await Be.from("contas_pagar_receber").insert(J).select();if(pe)throw pe;console.log(" Parcelas criadas no banco:",ue.length);const Ce=ue.map(xe=>({id:xe.id,data:xe.data,descricao:xe.descricao,entrada:xe.entrada,saida:xe.sada||0}));n(xe=>[...Ce,...xe]),console.log(" Estado local de Contas atualizado com",Ce.length,"parcelas")}catch(ue){console.error(" Erro ao criar contas a receber:",ue)}},K=async(j,G)=>{if(!(G<=0))try{const W=j["Nome cliente"]||j.nome_cliente,re=new Date().toISOString().split("T")[0];console.log(" Criando entrada no Fluxo de Caixa:",{nomeCliente:W,data:re,valorPago:G});const{data:he,error:$}=await Be.from("Fluxo de caixa").insert([{Data:re,Descrio:W,Valor:G,Saldo:0,tipo:"INCOME",categoria_id:null,subcategoria_id:null}]).select();if($)throw console.error(" Erro do Supabase ao criar fluxo de caixa:",$),$;console.log(" Entrada criada no Fluxo de Caixa:",he[0]);const J={id:he[0].id,date:he[0].Data||he[0].data,description:he[0].Descrio||he[0].descricao,amount:he[0].Valor||he[0].valor,balance:he[0].Saldo||he[0].saldo,type:"INCOME",categoryId:"",subCategoryId:""};r(ue=>[J,...ue]),console.log(" Estado local do Fluxo de Caixa atualizado")}catch(W){console.error(" Erro ao criar entrada no fluxo de caixa:",W),alert(`Erro ao adicionar ao Fluxo de Caixa: ${W.message||"Erro desconhecido"}`)}},L=async j=>{j.preventDefault();const G={"Nome cliente":T.nome_cliente,Servio:T.servico,Pago:parseFloat(T.pago),Receber:parseFloat(T.receber),data_pagamento:T.data_pagamento||null,inicio_contrato:T.inicio_contrato,final_contrato:T.final_contrato,parcela:T.parcela?parseInt(T.parcela):null};try{const W=parseFloat(T.pago);if(S){const{data:re,error:he}=await Be.from("Contratos").update(G).eq("id",S).select();if(he)throw he;const $={id:re[0].id,nome_cliente:re[0]["Nome cliente"],servico:re[0].Servio,pago:re[0].Pago,receber:re[0].Receber,data_pagamento:re[0].data_pagamento,inicio_contrato:re[0].inicio_contrato,final_contrato:re[0].final_contrato,parcela:re[0].parcela};t(J=>J.map(ue=>ue.id===S?$:ue)),W>0&&await K(G,W)}else{const{data:re,error:he}=await Be.from("Contratos").insert([G]).select();if(he)throw he;const $={id:re[0].id,nome_cliente:re[0]["Nome cliente"],servico:re[0].Servio,pago:re[0].Pago,receber:re[0].Receber,data_pagamento:re[0].data_pagamento,inicio_contrato:re[0].inicio_contrato,final_contrato:re[0].final_contrato,parcela:re[0].parcela};t(pe=>[$,...pe]);const J=parseInt(T.parcela)||0,ue=parseFloat(T.receber);console.log(" Verificando criao de parcelas:",{parcelas:J,valorReceber:ue}),J>0&&ue>0?(console.log(" Criando parcelas em Contas a Receber..."),await U(G,J,ue),alert(` Contrato criado com sucesso!

${J} parcelas de R$ ${(ue/J).toFixed(2)} foram adicionadas em "Contas a Pagar/Receber"`)):ue>0&&(console.log(" Criando entrada nica em Contas a Receber..."),await U(G,1,ue),alert(` Contrato criado com sucesso!

R$ ${ue.toFixed(2)} foi adicionado em "Contas a Pagar/Receber"`)),W>0&&await K(G,W)}a(!1),E(null),R(null),C({nome_cliente:"",servico:"",pago:"",receber:"",data_pagamento:"",inicio_contrato:"",final_contrato:"",parcela:""})}catch(W){console.error("Erro ao salvar contrato:",W),alert(`Erro ao salvar: ${W.message||"Erro desconhecido"}`)}},q=async j=>{try{const G=e.find(J=>J.id===j);if(!G){alert("Contrato no encontrado");return}const W=G.nome_cliente,{error:re}=await Be.from("contas_pagar_receber").delete().eq("descricao",W);re&&console.error("Erro ao deletar contas relacionadas:",re),n(J=>J.filter(ue=>ue.descricao!==W));const{error:he}=await Be.from("Fluxo de caixa").delete().eq("Descrio",W);he&&console.error("Erro ao deletar do Fluxo de Caixa:",he),r(J=>J.filter(ue=>ue.description!==W));const{error:$}=await Be.from("Contratos").delete().eq("id",j);if($)throw $;t(J=>J.filter(ue=>ue.id!==j)),_(null),u({isOpen:!1,id:null}),console.log(` Contrato, contas e fluxo de caixa de "${W}" foram removidos`),alert(` Contrato removido com sucesso!

Todas as parcelas de "${W}" foram removidas de "Contas a Pagar/Receber" e do "Fluxo de Caixa".`)}catch(G){console.error("Erro ao deletar:",G),alert("Erro ao remover contrato.")}},Z=j=>{m(j),d(!0)},ae=j=>j.pago>=j.receber?{label:"PAGO",class:"bg-green-50 text-green-600 border border-green-200"}:{label:"PENDENTE",class:"bg-yellow-50 text-yellow-600 border border-yellow-200"},se=e.filter(j=>{if(!P)return!0;const G=P.toLowerCase(),W=j.nome_cliente.toLowerCase(),re=j.servico.toLowerCase();return W.includes(G)||re.includes(G)});return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Contratos"}),b.jsxs("div",{className:"flex gap-3",children:[b.jsxs("div",{className:"relative w-80",children:[b.jsx(vl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),b.jsx("input",{type:"text",placeholder:"Buscar por cliente, servio ou data...",value:P,onChange:j=>I(j.target.value),className:"w-full pl-10 pr-4 py-2 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),b.jsxs("button",{onClick:()=>a(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[b.jsx(Qr,{size:18}),"Novo Contrato"]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[se.map(j=>{const G=ae(j);return b.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 hover:shadow-lg transition-shadow relative",children:[b.jsxs("div",{className:"flex justify-between items-start mb-3",children:[b.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded ${G.class}`,children:G.label}),b.jsxs("div",{className:"relative",children:[b.jsx("button",{onClick:()=>_(v===j.id?null:j.id),className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-100 rounded transition-colors",children:b.jsx(PR,{size:18})}),v===j.id&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>_(null)}),b.jsxs("div",{className:"absolute right-0 top-8 z-20 bg-white border border-gray-200 rounded-lg shadow-lg py-1 w-40",children:[b.jsxs("button",{onClick:()=>z(j),className:"w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-50 flex items-center gap-2",children:[b.jsx(ja,{size:14}),"Editar"]}),b.jsxs("button",{onClick:()=>{u({isOpen:!0,id:j.id}),_(null)},className:"w-full px-4 py-2 text-left text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[b.jsx(kr,{size:14}),"Excluir"]})]})]})]})]}),b.jsx("h3",{className:"text-base font-bold text-gray-900 mb-1",children:j.nome_cliente}),b.jsx("p",{className:"text-sm text-gray-500 mb-4",children:j.servico}),b.jsxs("div",{className:"space-y-2 mb-4",children:[b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{className:"text-gray-500",children:"Pago"}),b.jsxs("span",{className:"font-bold text-green-600",children:["R$ ",j.pago.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{className:"text-gray-500",children:"A Receber"}),b.jsxs("span",{className:"font-bold text-blue-600",children:["R$ ",j.receber.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),j.parcela&&b.jsxs("div",{className:"flex justify-between text-sm",children:[b.jsx("span",{className:"text-gray-500",children:"Parcelas"}),b.jsxs("span",{className:"font-medium text-purple-600",children:[j.parcela,"x"]})]})]}),b.jsx("button",{onClick:()=>Z(j),className:"w-full text-blue-600 hover:text-blue-700 font-medium text-sm py-2 hover:bg-blue-50 rounded transition-colors",children:"Detalhes"})]},j.id)}),e.length===0&&b.jsxs("div",{className:"col-span-full text-center py-12",children:[b.jsx(Fb,{size:48,className:"mx-auto text-gray-300 mb-3"}),b.jsx("p",{className:"text-gray-400 font-medium",children:"Nenhum contrato cadastrado"})]})]}),f&&h&&b.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:b.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-2xl shadow-xl p-6",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Detalhes do Contrato"}),b.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:b.jsx(Wu,{size:24})})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Cliente"}),b.jsx("p",{className:"text-lg font-bold text-gray-900",children:h.nome_cliente})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Servio"}),b.jsx("p",{className:"text-lg font-bold text-gray-900",children:h.servico})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Data de Pagamento"}),b.jsx("p",{className:"text-base text-gray-900",children:h.data_pagamento?(()=>{const G=h.data_pagamento.split("T")[0].split(" ")[0].split("-");return G.length===3?`${G[2]}/${G[1]}/${G[0]}`:h.data_pagamento})():"No pago"})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Valor Pago"}),b.jsxs("p",{className:"text-xl font-bold text-green-600",children:["R$ ",h.pago.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Valor a Receber"}),b.jsxs("p",{className:"text-xl font-bold text-blue-600",children:["R$ ",h.receber.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Incio do Contrato"}),b.jsx("p",{className:"text-base text-gray-900",children:(()=>{const G=h.inicio_contrato.split("T")[0].split(" ")[0].split("-");return G.length===3?`${G[2]}/${G[1]}/${G[0]}`:h.inicio_contrato})()})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Fim do Contrato"}),b.jsx("p",{className:"text-base text-gray-900",children:(()=>{const j=h.final_contrato,W=j.split("T")[0].split(" ")[0].split("-");return W.length===3?`${W[2]}/${W[1]}/${W[0]}`:j})()})]})]}),h.parcela&&b.jsxs("div",{children:[b.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Parcelas"}),b.jsxs("p",{className:"text-lg font-bold text-purple-600",children:[h.parcela,"x de R$ ",(h.receber/h.parcela).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Status"}),b.jsx("p",{className:`inline-block mt-1 text-xs font-bold px-3 py-1 rounded ${ae(h).class}`,children:ae(h).label})]})]}),b.jsxs("div",{className:"flex gap-3 mt-6",children:[b.jsx("button",{onClick:()=>{d(!1),z(h)},className:"flex-1 py-2 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Editar"}),b.jsx("button",{onClick:()=>d(!1),className:"flex-1 py-2 text-gray-600 font-medium hover:bg-gray-50 rounded-lg transition-colors",children:"Fechar"})]})]})}),i&&b.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:b.jsxs("div",{className:"bg-white w-full max-w-lg rounded-2xl shadow-xl p-6 max-h-[90vh] overflow-y-auto",children:[b.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:S?"Editar Contrato":"Novo Contrato"}),b.jsxs("form",{onSubmit:L,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Cliente"}),b.jsx("input",{type:"text",required:!0,value:T.nome_cliente,onChange:j=>C({...T,nome_cliente:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Acme Corp"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Servio"}),b.jsx("input",{type:"text",required:!0,value:T.servico,onChange:j=>C({...T,servico:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Consultoria TI Anual"})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pago"}),b.jsx("input",{type:"number",step:"0.01",required:!0,value:T.pago,onChange:j=>C({...T,pago:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0,00"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"A Receber"}),b.jsx("input",{type:"number",step:"0.01",required:!0,value:T.receber,onChange:j=>C({...T,receber:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0,00"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Pagamento (opcional)"}),b.jsx("input",{type:"date",value:T.data_pagamento,onChange:j=>C({...T,data_pagamento:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Incio do Contrato"}),b.jsx("input",{type:"date",required:!0,value:T.inicio_contrato,onChange:j=>M("inicio_contrato",j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fim do Contrato"}),b.jsx("input",{type:"date",required:!0,value:T.final_contrato,onChange:j=>M("final_contrato",j.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),O!==null&&b.jsxs("p",{className:"text-xs text-blue-600 bg-blue-50 p-2 rounded",children:[" Durao do contrato: ",b.jsxs("strong",{children:[O," meses"]})," (parcelas mensais)"]}),b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm font-medium text-purple-700 mb-1",children:["Parcelas (Opcional)",O!==null&&b.jsxs("span",{className:"ml-2 text-xs font-normal text-purple-500",children:["Mximo: ",O,"x (baseado na durao do contrato)"]})]}),b.jsx("input",{type:"number",min:"1",max:O||void 0,value:T.parcela,onChange:j=>{const G=parseInt(j.target.value);O&&G>O?(C({...T,parcela:O.toString()}),alert(`O nmero mximo de parcelas  ${O}x (baseado na durao do contrato de ${O} meses)`)):C({...T,parcela:j.target.value})},className:"w-full px-4 py-2 border border-purple-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:O?`Mx: ${O}x`:"Defina as datas primeiro",disabled:!O}),b.jsx("p",{className:"text-xs text-purple-600 mt-1",children:' Cria automaticamente em "Contas a Receber" mensalmente (1 parcela por ms)'})]}),b.jsxs("div",{className:"flex gap-3 pt-4",children:[b.jsx("button",{type:"button",onClick:()=>{a(!1),E(null),R(null),C({nome_cliente:"",servico:"",pago:"",receber:"",data_pagamento:"",inicio_contrato:"",final_contrato:"",parcela:""})},className:"flex-1 py-2 text-gray-600 font-medium hover:bg-gray-50 rounded-lg transition-colors",children:"Cancelar"}),b.jsx("button",{type:"submit",className:"flex-1 py-2 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 transition-colors",children:S?"Atualizar":"Salvar"})]})]})]})}),b.jsx(qo,{isOpen:l.isOpen,title:"Excluir Contrato",message:"Tem certeza que deseja excluir este contrato? Isso tambm remover todas as parcelas relacionadas em Contas a Pagar/Receber e a entrada no Fluxo de Caixa. Esta ao no pode ser desfeita.",confirmText:"Excluir",cancelText:"Cancelar",onConfirm:()=>l.id&&q(l.id),onCancel:()=>u({isOpen:!1,id:null})})]})},Qne=({categories:e,setCategories:t})=>{const[n,r]=A.useState(!1),[i,a]=A.useState(!1),[l,u]=A.useState(null),[f,d]=A.useState(null),[h,m]=A.useState(new Set),[v,_]=A.useState({name:"",type:"INCOME",color:"#10b981"}),[S,E]=A.useState({name:""}),[T,C]=A.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),P=M=>{const z=new Set(h);z.has(M)?z.delete(M):z.add(M),m(z)},I=async M=>{M.preventDefault();try{if(l){const{data:z,error:U}=await Be.from("Categoria").update({Categoria:v.name,etiquetas:v.type==="INCOME"?"entrada":"sada",cor:v.color}).eq("id",l).select();if(U)throw U;t(K=>K.map(L=>L.id===l?{...L,name:v.name,type:v.type,color:v.color}:L))}else{const{data:z,error:U}=await Be.from("Categoria").insert([{Categoria:v.name,etiquetas:v.type==="INCOME"?"entrada":"sada",cor:v.color}]).select();if(U)throw U;const K={id:z[0].id,name:v.name,type:v.type,color:v.color,subCategories:[]};t(L=>[...L,K])}r(!1),u(null),_({name:"",type:"INCOME",color:"#10b981"})}catch(z){console.error("Erro ao salvar categoria:",z),alert(`Erro: ${z.message||"Falha na conexo"}`)}},O=async M=>{if(M.preventDefault(),!!f)try{const{data:z,error:U}=await Be.from("Subcategoria").insert([{nome:S.name,categoria_id:f}]).select();if(U)throw U;const K={id:z[0].id,name:z[0].nome};t(L=>L.map(q=>q.id===f?{...q,subCategories:[...q.subCategories,K]}:q)),a(!1),E({name:""})}catch(z){console.error("Erro ao salvar subcategoria:",z),alert(`Erro: ${z.message||"Falha ao salvar subcategoria"}`)}},R=async M=>{C({isOpen:!0,title:"Excluir Categoria",message:"Tem certeza que deseja excluir esta categoria? Esta ao no pode ser desfeita e pode afetar registros vinculados.",type:"danger",onConfirm:async()=>{try{const{error:z}=await Be.from("Categoria").delete().eq("id",M);if(z)throw z;t(U=>U.filter(K=>K.id!==M))}catch{alert("Erro ao deletar categoria")}}})},D=async(M,z)=>{C({isOpen:!0,title:"Excluir Subcategoria",message:"Deseja realmente remover esta subcategoria?",type:"warning",onConfirm:async()=>{try{const{error:U}=await Be.from("Subcategoria").delete().eq("id",z);if(U)throw U;t(K=>K.map(L=>L.id===M?{...L,subCategories:L.subCategories.filter(q=>q.id!==z)}:L))}catch(U){alert(`Erro ao deletar subcategoria: ${U.message||"Erro desconhecido"}`)}}})};return b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{className:"flex justify-between items-center",children:[b.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Categorias"}),b.jsxs("button",{onClick:()=>{u(null),_({name:"",type:"INCOME",color:"#10b981"}),r(!0)},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[b.jsx(Qr,{size:18}),"Nova Categoria"]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[b.jsx("div",{className:"bg-green-600 px-5 py-3",children:b.jsx("h2",{className:"text-lg font-bold text-white",children:" Receitas"})}),b.jsxs("div",{className:"p-4 space-y-2",children:[e.filter(M=>M.type==="INCOME").map(M=>b.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[b.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 hover:bg-gray-100 transition-colors",children:[b.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[b.jsx("button",{onClick:()=>P(M.id),className:"text-gray-600 hover:text-gray-900",children:h.has(M.id)?b.jsx(fA,{size:18}):b.jsx(hA,{size:18})}),b.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-200",style:{backgroundColor:M.color}}),b.jsx("span",{className:"font-medium text-gray-900",children:M.name}),b.jsxs("span",{className:"text-xs text-gray-500",children:["(",M.subCategories.length,")"]})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:()=>{d(M.id),a(!0)},className:"text-blue-600 hover:bg-blue-50 p-1 rounded",title:"Adicionar subcategoria",children:b.jsx(Qr,{size:16})}),b.jsx("button",{onClick:()=>{u(M.id),_({name:M.name,type:M.type,color:M.color||"#10b981"}),r(!0)},className:"text-blue-600 hover:bg-blue-50 p-1 rounded",children:b.jsx(ja,{size:16})}),b.jsx("button",{onClick:()=>R(M.id),className:"text-red-600 hover:bg-red-50 p-1 rounded",children:b.jsx(kr,{size:16})})]})]}),h.has(M.id)&&M.subCategories.length>0&&b.jsx("div",{className:"bg-white p-3 pl-10 space-y-1 border-t border-gray-200",children:M.subCategories.map(z=>b.jsxs("div",{className:"flex items-center justify-between py-2 px-3 hover:bg-gray-50 rounded group",children:[b.jsxs("span",{className:"text-sm text-gray-700",children:[" ",z.name]}),b.jsx("button",{onClick:()=>D(M.id,z.id),className:"opacity-0 group-hover:opacity-100 text-red-600 hover:bg-red-50 p-1 rounded",children:b.jsx(kr,{size:14})})]},z.id))})]},M.id)),e.filter(M=>M.type==="INCOME").length===0&&b.jsx("p",{className:"text-sm text-gray-400 text-center py-8",children:"Nenhuma categoria de receita"})]})]}),b.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[b.jsx("div",{className:"bg-red-600 px-5 py-3",children:b.jsx("h2",{className:"text-lg font-bold text-white",children:" Despesas"})}),b.jsxs("div",{className:"p-4 space-y-2",children:[e.filter(M=>M.type==="EXPENSE").map(M=>b.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[b.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 hover:bg-gray-100 transition-colors",children:[b.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[b.jsx("button",{onClick:()=>P(M.id),className:"text-gray-600 hover:text-gray-900",children:h.has(M.id)?b.jsx(fA,{size:18}):b.jsx(hA,{size:18})}),b.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-200",style:{backgroundColor:M.color}}),b.jsx("span",{className:"font-medium text-gray-900",children:M.name}),b.jsxs("span",{className:"text-xs text-gray-500",children:["(",M.subCategories.length,")"]})]}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:()=>{d(M.id),a(!0)},className:"text-blue-600 hover:bg-blue-50 p-1 rounded",title:"Adicionar subcategoria",children:b.jsx(Qr,{size:16})}),b.jsx("button",{onClick:()=>{u(M.id),_({name:M.name,type:M.type,color:M.color||"#ef4444"}),r(!0)},className:"text-blue-600 hover:bg-blue-50 p-1 rounded",children:b.jsx(ja,{size:16})}),b.jsx("button",{onClick:()=>R(M.id),className:"text-red-600 hover:bg-red-50 p-1 rounded",children:b.jsx(kr,{size:16})})]})]}),h.has(M.id)&&M.subCategories.length>0&&b.jsx("div",{className:"bg-white p-3 pl-10 space-y-1 border-t border-gray-200",children:M.subCategories.map(z=>b.jsxs("div",{className:"flex items-center justify-between py-2 px-3 hover:bg-gray-50 rounded group",children:[b.jsxs("span",{className:"text-sm text-gray-700",children:[" ",z.name]}),b.jsx("button",{onClick:()=>D(M.id,z.id),className:"opacity-0 group-hover:opacity-100 text-red-600 hover:bg-red-50 p-1 rounded",children:b.jsx(kr,{size:14})})]},z.id))})]},M.id)),e.filter(M=>M.type==="EXPENSE").length===0&&b.jsx("p",{className:"text-sm text-gray-400 text-center py-8",children:"Nenhuma categoria de despesa"})]})]})]}),n&&b.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:b.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-xl p-6",children:[b.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:l?"Editar Categoria":"Nova Categoria"}),b.jsxs("form",{onSubmit:I,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Categoria"}),b.jsx("input",{type:"text",required:!0,value:v.name,onChange:M=>_({...v,name:M.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Salrio, Aluguel"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),b.jsxs("select",{value:v.type,onChange:M=>_({...v,type:M.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[b.jsx("option",{value:"INCOME",children:"Receita"}),b.jsx("option",{value:"EXPENSE",children:"Despesa"})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cor"}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("input",{type:"color",value:v.color,onChange:M=>_({...v,color:M.target.value}),className:"h-10 w-20 p-1 rounded border border-gray-300 cursor-pointer"}),b.jsx("input",{type:"text",value:v.color,onChange:M=>_({...v,color:M.target.value}),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 uppercase",placeholder:"#000000"})]})]}),b.jsxs("div",{className:"flex gap-3 pt-4",children:[b.jsx("button",{type:"button",onClick:()=>{r(!1),u(null),_({name:"",type:"INCOME",color:"#10b981"})},className:"flex-1 py-2 text-gray-600 font-medium hover:bg-gray-50 rounded-lg transition-colors",children:"Cancelar"}),b.jsx("button",{type:"submit",className:"flex-1 py-2 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 transition-colors",children:l?"Atualizar":"Salvar"})]})]})]})}),i&&b.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:b.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-xl p-6",children:[b.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Nova Subcategoria"}),b.jsxs("form",{onSubmit:O,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome da Subcategoria"}),b.jsx("input",{type:"text",required:!0,value:S.name,onChange:M=>E({name:M.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Freelance, Aluguel Comercial"})]}),b.jsxs("div",{className:"flex gap-3 pt-4",children:[b.jsx("button",{type:"button",onClick:()=>{a(!1),E({name:""})},className:"flex-1 py-2 text-gray-600 font-medium hover:bg-gray-50 rounded-lg transition-colors",children:"Cancelar"}),b.jsx("button",{type:"submit",className:"flex-1 py-2 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 transition-colors",children:"Adicionar"})]})]})]})}),b.jsx(qo,{isOpen:T.isOpen,title:T.title,message:T.message,type:T.type,onConfirm:T.onConfirm,onCancel:()=>C({...T,isOpen:!1})})]})},ere=({setTransactions:e,categories:t,onComplete:n})=>{const[r,i]=A.useState([]),[a,l]=A.useState(null),[u,f]=A.useState("idle"),[d,h]=A.useState(""),m=A.useRef(null),v=T=>{var I;const C=(I=T.target.files)==null?void 0:I[0];if(!C)return;const P=new FileReader;P.onload=O=>{var U,K;const D=((U=O.target)==null?void 0:U.result).split(`
`),M=[],z=D[0].toLowerCase().includes("data")?1:0;for(let L=z;L<D.length;L++){const q=D[L].trim();if(!q)continue;const Z=q.split(/[,;]/);if(Z.length<3)continue;const ae=Z[0].trim(),se=Z[1].trim();let j=Z[2].trim();const G=j.includes("-")||j.startsWith("("),W=j.includes("+");j=j.replace("R$","").replace(/\./g,"").replace(",",".").replace("+","").replace("-","").replace("(","").replace(")","");let re=parseFloat(j)||0;G?re=-Math.abs(re):W&&(re=Math.abs(re));const he=(K=Z[3])==null?void 0:K.trim().replace("R$","").replace(/\./g,"").replace(",","."),$=parseFloat(he)||0;M.push({tempId:crypto.randomUUID(),date:_(ae),description:se,amount:Math.abs(re),balance:$,type:re>=0?"INCOME":"EXPENSE",categoryId:"",subCategoryId:""})}i(L=>[...L,...M]),f("idle")},P.readAsText(C),m.current&&(m.current.value="")},_=T=>{const C=T.split("/");return C.length===3?`${C[2]}-${C[1].padStart(2,"0")}-${C[0].padStart(2,"0")}`:T},S=T=>{i(C=>C.filter(P=>P.tempId!==T))},E=async()=>{f("importing"),h("Conectando ao Supabase e enviando dados...");try{console.log(" Dados staged antes de processar:",r.slice(0,2));const T=r.map(({tempId:O,type:R,...D})=>{console.log(" Processando data:",D.date,"tipo:",typeof D.date,"type:",R);let M;try{if(D.date.includes("T")?M=new Date(D.date):M=new Date(D.date+"T00:00:00"),isNaN(M.getTime()))throw new Error("Data invlida: "+D.date)}catch(U){console.error(" Erro ao processar data:",D.date,U),M=new Date}const z=R==="EXPENSE"?-Math.abs(D.amount):Math.abs(D.amount);return{Data:M.toISOString(),Descrio:D.description,Valor:z,Saldo:D.balance,tipo:R,tags:D.tags||[]}});console.log(" Dados a serem inseridos:",T),console.log(" Exemplo do primeiro registro:",T[0]);const{data:C,error:P}=await Be.from("Fluxo de caixa").insert(T).select();if(P)throw P;const I=C.map(O=>({id:O.id,date:O.Data,description:O.Descrio,amount:Math.abs(O.Valor),balance:O.Saldo,type:O.tipo||(O.Valor>=0?"INCOME":"EXPENSE"),categoryId:O.categoria_id||"",subCategoryId:O.subcategoria_id||"",notas:O.notas||"",tags:Array.isArray(O.tags)?O.tags:[]}));e(O=>[...I,...O]),f("success"),h(`Sucesso! ${C.length} registros sincronizados na tabela "Fluxo de caixa".`),setTimeout(()=>{i([]),n()},2500)}catch(T){console.error("Erro na importao Supabase:",T),f("error"),h(`Erro ao sincronizar: ${T.message||"Verifique sua conexo"}`)}};return b.jsxs("div",{className:"space-y-6",children:[u!=="idle"&&b.jsxs("div",{className:`p-4 rounded-2xl border flex items-center gap-3 animate-in fade-in slide-in-from-top-4 duration-300 ${u==="importing"?"bg-indigo-50 border-indigo-100 text-indigo-700":u==="success"?"bg-emerald-50 border-emerald-100 text-emerald-700":"bg-rose-50 border-rose-100 text-rose-700"}`,children:[u==="importing"?b.jsx(Yu,{size:20,className:"animate-spin"}):u==="success"?b.jsx(qb,{size:20}):b.jsx(t$,{size:20}),b.jsx("span",{className:"font-bold text-sm",children:d}),u==="error"&&b.jsx("button",{onClick:()=>f("idle"),className:"ml-auto text-rose-400 hover:text-rose-600",children:b.jsx(Wu,{size:16})})]}),b.jsxs("div",{className:"bg-white p-10 rounded-3xl border-2 border-dashed border-slate-200 flex flex-col items-center justify-center text-center transition-all hover:border-indigo-300 group",children:[b.jsx("div",{className:"p-5 bg-indigo-50 rounded-2xl text-indigo-600 mb-4 group-hover:scale-110 transition-transform",children:b.jsx(MR,{size:48})}),b.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Importar Fluxo de Caixa Cloud"}),b.jsxs("p",{className:"text-slate-500 max-w-sm mb-8 leading-relaxed",children:["Selecione seu CSV para mapear os dados para a tabela ",b.jsx("strong",{children:'"Fluxo de caixa"'})," no Supabase."]}),b.jsx("input",{type:"file",accept:".csv",onChange:v,ref:m,className:"hidden",id:"csv-upload"}),b.jsxs("label",{htmlFor:"csv-upload",className:"px-8 py-4 bg-slate-900 text-white font-bold rounded-2xl hover:bg-indigo-600 transition-all cursor-pointer shadow-xl shadow-slate-200 flex items-center gap-2",children:[b.jsx(pA,{size:20})," Selecionar CSV"]})]}),r.length>0&&b.jsxs("div",{className:"bg-white rounded-3xl border border-slate-200 shadow-sm overflow-hidden animate-in fade-in slide-in-from-bottom-4 duration-500",children:[b.jsxs("div",{className:"p-6 border-b border-slate-100 flex flex-col sm:flex-row justify-between items-center gap-4 bg-slate-50/50",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-slate-800 text-lg",children:"Reviso Pr-Nuvem"}),b.jsxs("p",{className:"text-sm text-slate-500 flex items-center gap-1",children:[r.length," registros pendentes de sincronizao."]})]}),b.jsxs("div",{className:"flex gap-3 w-full sm:w-auto",children:[b.jsx("button",{disabled:u==="importing",onClick:()=>i([]),className:"flex-1 sm:flex-none px-6 py-3 text-slate-600 font-bold hover:bg-slate-200 rounded-xl transition-colors",children:"Descartar"}),b.jsx("button",{disabled:u==="importing"||u==="success",onClick:E,className:"flex-1 sm:flex-none px-6 py-3 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 transition-all flex items-center justify-center gap-2 shadow-lg shadow-indigo-100 min-w-[200px]",children:u==="importing"?b.jsxs(b.Fragment,{children:[b.jsx(Yu,{size:20,className:"animate-spin"}),"Sincronizando..."]}):u==="success"?b.jsxs(b.Fragment,{children:[b.jsx(IR,{size:20}),"Finalizado"]}):b.jsxs(b.Fragment,{children:[b.jsx(pA,{size:20}),"Sincronizar no Supabase"]})})]})]}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full text-left border-collapse",children:[b.jsx("thead",{className:"bg-slate-100/50 text-slate-500 text-[10px] font-black uppercase tracking-widest",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-4",children:"Data"}),b.jsx("th",{className:"px-6 py-4",children:"Descrio"}),b.jsx("th",{className:"px-6 py-4 text-right",children:"Valor"}),b.jsx("th",{className:"px-6 py-4 text-right",children:"Saldo (CSV)"}),b.jsx("th",{className:"px-6 py-4 text-center",children:"Aes"})]})}),b.jsx("tbody",{className:"divide-y divide-slate-100",children:r.map(T=>{var C;return b.jsxs("tr",{className:"hover:bg-indigo-50/30 transition-colors group/row",children:[b.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-600",children:new Date(T.date).toLocaleDateString("pt-BR")}),b.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-800",children:T.description}),b.jsxs("td",{className:`px-6 py-4 text-sm font-black text-right ${T.type==="INCOME"?"text-emerald-600":"text-rose-600"}`,children:["R$ ",T.amount.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),b.jsxs("td",{className:"px-6 py-4 text-sm font-bold text-slate-400 text-right bg-slate-50/30",children:["R$ ",(C=T.balance)==null?void 0:C.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),b.jsx("td",{className:"px-6 py-4 text-center",children:b.jsx("button",{onClick:()=>S(T.tempId),className:"p-2 text-slate-400 hover:text-rose-600 rounded-lg",children:b.jsx(kr,{size:16})})})]},T.tempId)})})]})})]})]})};var tre={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let nre,rre;function ire(){return{geminiUrl:nre,vertexUrl:rre}}function are(e,t,n,r){var i,a;if(!(e!=null&&e.baseUrl)){const l=ire();return t?(i=l.vertexUrl)!==null&&i!==void 0?i:n:(a=l.geminiUrl)!==null&&a!==void 0?a:r}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ji{}function ye(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(t,i)){const a=t[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function y(e,t,n){for(let a=0;a<t.length-1;a++){const l=t[a];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in e))if(Array.isArray(n))e[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(e[u])){const f=e[u];if(Array.isArray(n))for(let d=0;d<f.length;d++){const h=f[d];y(h,t.slice(a+1),n[d])}else for(const d of f)y(d,t.slice(a+1),n)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in e||(e[u]=[{}]);const f=e[u];y(f[0],t.slice(a+1),n);return}(!e[l]||typeof e[l]!="object")&&(e[l]={}),e=e[l]}const r=t[t.length-1],i=e[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function g(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;const i=t[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in e){const l=e[a];return Array.isArray(l)?l.map(u=>g(u,t.slice(r+1),n)):n}else return n}else e=e[i]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function ore(e,t){for(const[n,r]of Object.entries(t)){const i=n.split("."),a=r.split("."),l=new Set;let u=-1;for(let f=0;f<i.length;f++)if(i[f]==="*"){u=f;break}if(u!==-1&&a.length>u)for(let f=u;f<a.length;f++){const d=a[f];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&l.add(d)}Cb(e,i,a,0,l)}}function Cb(e,t,n,r,i){if(r>=t.length||typeof e!="object"||e===null)return;const a=t[r];if(a.endsWith("[]")){const l=a.slice(0,-2),u=e;if(l in u&&Array.isArray(u[l]))for(const f of u[l])Cb(f,t,n,r+1,i)}else if(a==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const l=e,u=Object.keys(l).filter(d=>!d.startsWith("_")&&!i.has(d)),f={};for(const d of u)f[d]=l[d];for(const[d,h]of Object.entries(f)){const m=[];for(const v of n.slice(r))v==="*"?m.push(d):m.push(v);y(l,m,h)}for(const d of u)delete l[d]}}else{const l=e;a in l&&Cb(l[a],t,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function K_(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sre(e){const t={},n=g(e,["operationName"]);n!=null&&y(t,["operationName"],n);const r=g(e,["resourceName"]);return r!=null&&y(t,["_url","resourceName"],r),t}function lre(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=g(e,["done"]);i!=null&&y(t,["done"],i);const a=g(e,["error"]);a!=null&&y(t,["error"],a);const l=g(e,["response","generateVideoResponse"]);return l!=null&&y(t,["response"],cre(l)),t}function ure(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=g(e,["done"]);i!=null&&y(t,["done"],i);const a=g(e,["error"]);a!=null&&y(t,["error"],a);const l=g(e,["response"]);return l!=null&&y(t,["response"],dre(l)),t}function cre(e){const t={},n=g(e,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>fre(l))),y(t,["generatedVideos"],a)}const r=g(e,["raiMediaFilteredCount"]);r!=null&&y(t,["raiMediaFilteredCount"],r);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&y(t,["raiMediaFilteredReasons"],i),t}function dre(e){const t={},n=g(e,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>hre(l))),y(t,["generatedVideos"],a)}const r=g(e,["raiMediaFilteredCount"]);r!=null&&y(t,["raiMediaFilteredCount"],r);const i=g(e,["raiMediaFilteredReasons"]);return i!=null&&y(t,["raiMediaFilteredReasons"],i),t}function fre(e){const t={},n=g(e,["video"]);return n!=null&&y(t,["video"],bre(n)),t}function hre(e){const t={},n=g(e,["_self"]);return n!=null&&y(t,["video"],xre(n)),t}function pre(e){const t={},n=g(e,["operationName"]);return n!=null&&y(t,["_url","operationName"],n),t}function mre(e){const t={},n=g(e,["operationName"]);return n!=null&&y(t,["_url","operationName"],n),t}function gre(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=g(e,["done"]);i!=null&&y(t,["done"],i);const a=g(e,["error"]);a!=null&&y(t,["error"],a);const l=g(e,["response"]);return l!=null&&y(t,["response"],vre(l)),t}function vre(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["parent"]);r!=null&&y(t,["parent"],r);const i=g(e,["documentName"]);return i!=null&&y(t,["documentName"],i),t}function lL(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=g(e,["done"]);i!=null&&y(t,["done"],i);const a=g(e,["error"]);a!=null&&y(t,["error"],a);const l=g(e,["response"]);return l!=null&&y(t,["response"],yre(l)),t}function yre(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["parent"]);r!=null&&y(t,["parent"],r);const i=g(e,["documentName"]);return i!=null&&y(t,["documentName"],i),t}function bre(e){const t={},n=g(e,["uri"]);n!=null&&y(t,["uri"],n);const r=g(e,["encodedVideo"]);r!=null&&y(t,["videoBytes"],K_(r));const i=g(e,["encoding"]);return i!=null&&y(t,["mimeType"],i),t}function xre(e){const t={},n=g(e,["gcsUri"]);n!=null&&y(t,["uri"],n);const r=g(e,["bytesBase64Encoded"]);r!=null&&y(t,["videoBytes"],K_(r));const i=g(e,["mimeType"]);return i!=null&&y(t,["mimeType"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var KI;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(KI||(KI={}));var YI;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(YI||(YI={}));var WI;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(WI||(WI={}));var Ma;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Ma||(Ma={}));var JI;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(JI||(JI={}));var XI;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(XI||(XI={}));var ZI;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(ZI||(ZI={}));var QI;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(QI||(QI={}));var eP;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(eP||(eP={}));var tP;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(tP||(tP={}));var nP;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(nP||(nP={}));var rP;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(rP||(rP={}));var iP;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(iP||(iP={}));var aP;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(aP||(aP={}));var oP;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(oP||(oP={}));var sP;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(sP||(sP={}));var lP;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(lP||(lP={}));var uP;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(uP||(uP={}));var cP;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(cP||(cP={}));var dP;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(dP||(dP={}));var fP;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(fP||(fP={}));var Vh;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Vh||(Vh={}));var hP;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(hP||(hP={}));var pP;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(pP||(pP={}));var mP;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(mP||(mP={}));var Nb;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Nb||(Nb={}));var gP;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(gP||(gP={}));var vP;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(vP||(vP={}));var Ob;(function(e){e.COLLECTION="COLLECTION"})(Ob||(Ob={}));var yP;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(yP||(yP={}));var bP;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(bP||(bP={}));var xP;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(xP||(xP={}));var _P;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(_P||(_P={}));var wP;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(wP||(wP={}));var SP;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(SP||(SP={}));var EP;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(EP||(EP={}));var TP;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(TP||(TP={}));var AP;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(AP||(AP={}));var CP;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(CP||(CP={}));var NP;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(NP||(NP={}));var OP;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(OP||(OP={}));var IP;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(IP||(IP={}));var PP;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING",e.DISTILLATION="DISTILLATION"})(PP||(PP={}));var RP;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(RP||(RP={}));var MP;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(MP||(MP={}));var DP;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED",e.REGISTERED="REGISTERED"})(DP||(DP={}));var kP;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(kP||(kP={}));var jP;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(jP||(jP={}));var LP;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(LP||(LP={}));var UP;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.ACTIVITY_START="ACTIVITY_START",e.ACTIVITY_END="ACTIVITY_END"})(UP||(UP={}));var zP;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(zP||(zP={}));var $P;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})($P||($P={}));var BP;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(BP||(BP={}));var qP;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(qP||(qP={}));var FP;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(FP||(FP={}));var GP;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(GP||(GP={}));var Zs;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Zs||(Zs={}));class Ib{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Lu{get text(){var t,n,r,i,a,l,u,f;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",h=!1;const m=[];for(const v of(f=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[_,S]of Object.entries(v))_!=="text"&&_!=="thought"&&_!=="thoughtSignature"&&(S!==null||S!==void 0)&&m.push(_);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;h=!0,d+=v.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?d:void 0}get data(){var t,n,r,i,a,l,u,f;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const h=[];for(const m of(f=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[v,_]of Object.entries(m))v!=="inlineData"&&(_!==null||_!==void 0)&&h.push(v);m.inlineData&&typeof m.inlineData.data=="string"&&(d+=atob(m.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var t,n,r,i,a,l,u,f;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(f=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var t,n,r,i,a,l,u,f,d;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(f=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var t,n,r,i,a,l,u,f,d;if(((i=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(f=(u=(l=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.output}}class HP{}class VP{}class _re{}class wre{}class Sre{}class Ere{}class KP{}class YP{}class WP{}class Tre{}class Kh{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Kh;let i;const a=t;return n?i=ure(a):i=lre(a),Object.assign(r,i),r}}class JP{}class XP{}class ZP{}class QP{}class Are{}class Cre{}class Nre{}class Y_{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Y_,a=gre(t);return Object.assign(r,a),r}}class Ore{}class Ire{}class Pre{}class Rre{}class eR{}class Mre{get text(){var t,n,r;let i="",a=!1;const l=[];for(const u of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[f,d]of Object.entries(u))f!=="text"&&f!=="thought"&&d!==null&&l.push(f);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;a=!0,i+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var t,n,r;let i="";const a=[];for(const l of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,f]of Object.entries(l))u!=="inlineData"&&f!==null&&a.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Dre{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class W_{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new W_,a=lL(t);return Object.assign(r,a),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tt(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function uL(e,t){const n=tt(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function cL(e){return Array.isArray(e)?e.map(t=>Yh(t)):[Yh(e)]}function Yh(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function dL(e){const t=Yh(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function fL(e){const t=Yh(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function tR(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function hL(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>tR(t)):[tR(e)]}function Pb(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function nR(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function rR(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function Sn(e){if(e==null)throw new Error("ContentUnion is required");return Pb(e)?e:{role:"user",parts:hL(e)}}function J_(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=Sn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=Sn(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Sn(n)):[Sn(t)]}function _r(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(nR(e)||rR(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Sn(e)]}const t=[],n=[],r=Pb(e[0]);for(const i of e){const a=Pb(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)t.push(i);else{if(nR(i)||rR(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||t.push({role:"user",parts:hL(n)}),t}function kre(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(Ma).includes(n[0].toUpperCase())?n[0].toUpperCase():Ma.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(Ma).includes(r.toUpperCase())?r.toUpperCase():Ma.TYPE_UNSPECIFIED})}}function al(e){const t={},n=["items"],r=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=e.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(t.nullable=!0,e=a[1]):a[1].type==="null"&&(t.nullable=!0,e=a[0])),e.type instanceof Array&&kre(e.type,t);for(const[l,u]of Object.entries(e))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;t.type=Object.values(Ma).includes(u.toUpperCase())?u.toUpperCase():Ma.TYPE_UNSPECIFIED}else if(n.includes(l))t[l]=al(u);else if(r.includes(l)){const f=[];for(const d of u){if(d.type=="null"){t.nullable=!0;continue}f.push(al(d))}t[l]=f}else if(i.includes(l)){const f={};for(const[d,h]of Object.entries(u))f[d]=al(h);t[l]=f}else{if(l==="additionalProperties")continue;t[l]=u}return t}function X_(e){return al(e)}function Z_(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Q_(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Ol(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=al(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=al(t.response));return e}function Il(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function jre(e,t,n,r=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}function Xi(e,t){if(typeof t!="string")throw new Error("name must be a string");return jre(e,t,"cachedContents")}function pL(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Ga(e){return K_(e)}function Lre(e){return e!=null&&typeof e=="object"&&"name"in e}function Ure(e){return e!=null&&typeof e=="object"&&"video"in e}function zre(e){return e!=null&&typeof e=="object"&&"uri"in e}function mL(e){var t;let n;if(Lre(e)&&(n=e.name),!(zre(e)&&(n=e.uri,n===void 0))&&!(Ure(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function gL(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function vL(e){for(const t of["models","tunedModels","publisherModels"])if($re(e,t))return e[t];return[]}function $re(e,t){return e!==null&&typeof e=="object"&&t in e}function Bre(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function qre(e,t={}){const n=[],r=new Set;for(const i of e){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const l=Bre(i,t);l.functionDeclarations&&n.push(...l.functionDeclarations)}return{functionDeclarations:n}}function yL(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Fre(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function bL(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return e;let a=!1;for(const l of i){if(typeof l!="object"||l===null)continue;const f=l.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){a=!0;break}}return a&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function Pl(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function xL(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gre(e){const t={},n=g(e,["responsesFile"]);n!=null&&y(t,["fileName"],n);const r=g(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>Eie(l))),y(t,["inlinedResponses"],a)}const i=g(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["inlinedEmbedContentResponses"],a)}return t}function Hre(e){const t={},n=g(e,["predictionsFormat"]);n!=null&&y(t,["format"],n);const r=g(e,["gcsDestination","outputUriPrefix"]);r!=null&&y(t,["gcsUri"],r);const i=g(e,["bigqueryDestination","outputUri"]);return i!=null&&y(t,["bigqueryUri"],i),t}function Vre(e){const t={},n=g(e,["format"]);n!=null&&y(t,["predictionsFormat"],n);const r=g(e,["gcsUri"]);r!=null&&y(t,["gcsDestination","outputUriPrefix"],r);const i=g(e,["bigqueryUri"]);if(i!=null&&y(t,["bigqueryDestination","outputUri"],i),g(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(g(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function zf(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["metadata","displayName"]);r!=null&&y(t,["displayName"],r);const i=g(e,["metadata","state"]);i!=null&&y(t,["state"],xL(i));const a=g(e,["metadata","createTime"]);a!=null&&y(t,["createTime"],a);const l=g(e,["metadata","endTime"]);l!=null&&y(t,["endTime"],l);const u=g(e,["metadata","updateTime"]);u!=null&&y(t,["updateTime"],u);const f=g(e,["metadata","model"]);f!=null&&y(t,["model"],f);const d=g(e,["metadata","output"]);return d!=null&&y(t,["dest"],Gre(bL(d))),t}function Rb(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["displayName"]);r!=null&&y(t,["displayName"],r);const i=g(e,["state"]);i!=null&&y(t,["state"],xL(i));const a=g(e,["error"]);a!=null&&y(t,["error"],a);const l=g(e,["createTime"]);l!=null&&y(t,["createTime"],l);const u=g(e,["startTime"]);u!=null&&y(t,["startTime"],u);const f=g(e,["endTime"]);f!=null&&y(t,["endTime"],f);const d=g(e,["updateTime"]);d!=null&&y(t,["updateTime"],d);const h=g(e,["model"]);h!=null&&y(t,["model"],h);const m=g(e,["inputConfig"]);m!=null&&y(t,["src"],Kre(m));const v=g(e,["outputConfig"]);v!=null&&y(t,["dest"],Hre(bL(v)));const _=g(e,["completionStats"]);return _!=null&&y(t,["completionStats"],_),t}function Kre(e){const t={},n=g(e,["instancesFormat"]);n!=null&&y(t,["format"],n);const r=g(e,["gcsSource","uris"]);r!=null&&y(t,["gcsUri"],r);const i=g(e,["bigquerySource","inputUri"]);return i!=null&&y(t,["bigqueryUri"],i),t}function Yre(e,t){const n={};if(g(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=g(t,["fileName"]);r!=null&&y(n,["fileName"],r);const i=g(t,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>Sie(e,l))),y(n,["requests","requests"],a)}return n}function Wre(e){const t={},n=g(e,["format"]);n!=null&&y(t,["instancesFormat"],n);const r=g(e,["gcsUri"]);r!=null&&y(t,["gcsSource","uris"],r);const i=g(e,["bigqueryUri"]);if(i!=null&&y(t,["bigquerySource","inputUri"],i),g(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function Jre(e){const t={},n=g(e,["data"]);if(n!=null&&y(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function Xre(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],Pl(e,r)),n}function Zre(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],Pl(e,r)),n}function Qre(e){const t={},n=g(e,["content"]);n!=null&&y(t,["content"],n);const r=g(e,["citationMetadata"]);r!=null&&y(t,["citationMetadata"],eie(r));const i=g(e,["tokenCount"]);i!=null&&y(t,["tokenCount"],i);const a=g(e,["finishReason"]);a!=null&&y(t,["finishReason"],a);const l=g(e,["avgLogprobs"]);l!=null&&y(t,["avgLogprobs"],l);const u=g(e,["groundingMetadata"]);u!=null&&y(t,["groundingMetadata"],u);const f=g(e,["index"]);f!=null&&y(t,["index"],f);const d=g(e,["logprobsResult"]);d!=null&&y(t,["logprobsResult"],d);const h=g(e,["safetyRatings"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(_=>_)),y(t,["safetyRatings"],v)}const m=g(e,["urlContextMetadata"]);return m!=null&&y(t,["urlContextMetadata"],m),t}function eie(e){const t={},n=g(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(t,["citations"],r)}return t}function _L(e){const t={},n=g(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Pie(a))),y(t,["parts"],i)}const r=g(e,["role"]);return r!=null&&y(t,["role"],r),t}function tie(e,t){const n={},r=g(e,["displayName"]);if(t!==void 0&&r!=null&&y(t,["batch","displayName"],r),g(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function nie(e,t){const n={},r=g(e,["displayName"]);t!==void 0&&r!=null&&y(t,["displayName"],r);const i=g(e,["dest"]);return t!==void 0&&i!=null&&y(t,["outputConfig"],Vre(Fre(i))),n}function iR(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],tt(e,r));const i=g(t,["src"]);i!=null&&y(n,["batch","inputConfig"],Yre(e,yL(e,i)));const a=g(t,["config"]);return a!=null&&tie(a,n),n}function rie(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["model"],tt(e,r));const i=g(t,["src"]);i!=null&&y(n,["inputConfig"],Wre(yL(e,i)));const a=g(t,["config"]);return a!=null&&nie(a,n),n}function iie(e,t){const n={},r=g(e,["displayName"]);return t!==void 0&&r!=null&&y(t,["batch","displayName"],r),n}function aie(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["_url","model"],tt(e,r));const i=g(t,["src"]);i!=null&&y(n,["batch","inputConfig"],fie(e,i));const a=g(t,["config"]);return a!=null&&iie(a,n),n}function oie(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],Pl(e,r)),n}function sie(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],Pl(e,r)),n}function lie(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["name"]);r!=null&&y(t,["name"],r);const i=g(e,["done"]);i!=null&&y(t,["done"],i);const a=g(e,["error"]);return a!=null&&y(t,["error"],a),t}function uie(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["name"]);r!=null&&y(t,["name"],r);const i=g(e,["done"]);i!=null&&y(t,["done"],i);const a=g(e,["error"]);return a!=null&&y(t,["error"],a),t}function cie(e,t){const n={},r=g(t,["contents"]);if(r!=null){let a=J_(e,r);Array.isArray(a)&&(a=a.map(l=>l)),y(n,["requests[]","request","content"],a)}const i=g(t,["config"]);return i!=null&&(y(n,["_self"],die(i,n)),ore(n,{"requests[].*":"requests[].request.*"})),n}function die(e,t){const n={},r=g(e,["taskType"]);t!==void 0&&r!=null&&y(t,["requests[]","taskType"],r);const i=g(e,["title"]);t!==void 0&&i!=null&&y(t,["requests[]","title"],i);const a=g(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&y(t,["requests[]","outputDimensionality"],a),g(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function fie(e,t){const n={},r=g(t,["fileName"]);r!=null&&y(n,["file_name"],r);const i=g(t,["inlinedRequests"]);return i!=null&&y(n,["requests"],cie(e,i)),n}function hie(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function pie(e){const t={},n=g(e,["id"]);n!=null&&y(t,["id"],n);const r=g(e,["args"]);r!=null&&y(t,["args"],r);const i=g(e,["name"]);if(i!=null&&y(t,["name"],i),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function mie(e){const t={},n=g(e,["allowedFunctionNames"]);n!=null&&y(t,["allowedFunctionNames"],n);const r=g(e,["mode"]);if(r!=null&&y(t,["mode"],r),g(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function gie(e,t,n){const r={},i=g(t,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],_L(Sn(i)));const a=g(t,["temperature"]);a!=null&&y(r,["temperature"],a);const l=g(t,["topP"]);l!=null&&y(r,["topP"],l);const u=g(t,["topK"]);u!=null&&y(r,["topK"],u);const f=g(t,["candidateCount"]);f!=null&&y(r,["candidateCount"],f);const d=g(t,["maxOutputTokens"]);d!=null&&y(r,["maxOutputTokens"],d);const h=g(t,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const m=g(t,["responseLogprobs"]);m!=null&&y(r,["responseLogprobs"],m);const v=g(t,["logprobs"]);v!=null&&y(r,["logprobs"],v);const _=g(t,["presencePenalty"]);_!=null&&y(r,["presencePenalty"],_);const S=g(t,["frequencyPenalty"]);S!=null&&y(r,["frequencyPenalty"],S);const E=g(t,["seed"]);E!=null&&y(r,["seed"],E);const T=g(t,["responseMimeType"]);T!=null&&y(r,["responseMimeType"],T);const C=g(t,["responseSchema"]);C!=null&&y(r,["responseSchema"],X_(C));const P=g(t,["responseJsonSchema"]);if(P!=null&&y(r,["responseJsonSchema"],P),g(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const I=g(t,["safetySettings"]);if(n!==void 0&&I!=null){let Z=I;Array.isArray(Z)&&(Z=Z.map(ae=>Rie(ae))),y(n,["safetySettings"],Z)}const O=g(t,["tools"]);if(n!==void 0&&O!=null){let Z=Il(O);Array.isArray(Z)&&(Z=Z.map(ae=>Die(Ol(ae)))),y(n,["tools"],Z)}const R=g(t,["toolConfig"]);if(n!==void 0&&R!=null&&y(n,["toolConfig"],Mie(R)),g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=g(t,["cachedContent"]);n!==void 0&&D!=null&&y(n,["cachedContent"],Xi(e,D));const M=g(t,["responseModalities"]);M!=null&&y(r,["responseModalities"],M);const z=g(t,["mediaResolution"]);z!=null&&y(r,["mediaResolution"],z);const U=g(t,["speechConfig"]);if(U!=null&&y(r,["speechConfig"],Z_(U)),g(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const K=g(t,["thinkingConfig"]);K!=null&&y(r,["thinkingConfig"],K);const L=g(t,["imageConfig"]);L!=null&&y(r,["imageConfig"],wie(L));const q=g(t,["enableEnhancedCivicAnswers"]);if(q!=null&&y(r,["enableEnhancedCivicAnswers"],q),g(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function vie(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(d=>Qre(d))),y(t,["candidates"],f)}const i=g(e,["modelVersion"]);i!=null&&y(t,["modelVersion"],i);const a=g(e,["promptFeedback"]);a!=null&&y(t,["promptFeedback"],a);const l=g(e,["responseId"]);l!=null&&y(t,["responseId"],l);const u=g(e,["usageMetadata"]);return u!=null&&y(t,["usageMetadata"],u),t}function yie(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],Pl(e,r)),n}function bie(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],Pl(e,r)),n}function xie(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function _ie(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function wie(e){const t={},n=g(e,["aspectRatio"]);n!=null&&y(t,["aspectRatio"],n);const r=g(e,["imageSize"]);if(r!=null&&y(t,["imageSize"],r),g(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(g(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function Sie(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["request","model"],tt(e,r));const i=g(t,["contents"]);if(i!=null){let u=_r(i);Array.isArray(u)&&(u=u.map(f=>_L(f))),y(n,["request","contents"],u)}const a=g(t,["metadata"]);a!=null&&y(n,["metadata"],a);const l=g(t,["config"]);return l!=null&&y(n,["request","generationConfig"],gie(e,l,g(n,["request"],{}))),n}function Eie(e){const t={},n=g(e,["response"]);n!=null&&y(t,["response"],vie(n));const r=g(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=g(e,["error"]);return i!=null&&y(t,["error"],i),t}function Tie(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);if(t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),g(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Aie(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);t!==void 0&&i!=null&&y(t,["_query","pageToken"],i);const a=g(e,["filter"]);return t!==void 0&&a!=null&&y(t,["_query","filter"],a),n}function Cie(e){const t={},n=g(e,["config"]);return n!=null&&Tie(n,t),t}function Nie(e){const t={},n=g(e,["config"]);return n!=null&&Aie(n,t),t}function Oie(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=g(e,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>zf(l))),y(t,["batchJobs"],a)}return t}function Iie(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=g(e,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>Rb(l))),y(t,["batchJobs"],a)}return t}function Pie(e){const t={},n=g(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=g(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const i=g(e,["executableCode"]);i!=null&&y(t,["executableCode"],i);const a=g(e,["fileData"]);a!=null&&y(t,["fileData"],hie(a));const l=g(e,["functionCall"]);l!=null&&y(t,["functionCall"],pie(l));const u=g(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const f=g(e,["inlineData"]);f!=null&&y(t,["inlineData"],Jre(f));const d=g(e,["text"]);d!=null&&y(t,["text"],d);const h=g(e,["thought"]);h!=null&&y(t,["thought"],h);const m=g(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const v=g(e,["videoMetadata"]);return v!=null&&y(t,["videoMetadata"],v),t}function Rie(e){const t={},n=g(e,["category"]);if(n!=null&&y(t,["category"],n),g(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(e,["threshold"]);return r!=null&&y(t,["threshold"],r),t}function Mie(e){const t={},n=g(e,["retrievalConfig"]);n!=null&&y(t,["retrievalConfig"],n);const r=g(e,["functionCallingConfig"]);return r!=null&&y(t,["functionCallingConfig"],mie(r)),t}function Die(e){const t={};if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=g(e,["computerUse"]);n!=null&&y(t,["computerUse"],n);const r=g(e,["fileSearch"]);r!=null&&y(t,["fileSearch"],r);const i=g(e,["codeExecution"]);if(i!=null&&y(t,["codeExecution"],i),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=g(e,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(m=>m)),y(t,["functionDeclarations"],h)}const l=g(e,["googleMaps"]);l!=null&&y(t,["googleMaps"],xie(l));const u=g(e,["googleSearch"]);u!=null&&y(t,["googleSearch"],_ie(u));const f=g(e,["googleSearchRetrieval"]);f!=null&&y(t,["googleSearchRetrieval"],f);const d=g(e,["urlContext"]);return d!=null&&y(t,["urlContext"],d),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Bi;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Bi||(Bi={}));class Fo{constructor(t,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,i)}init(t,n,r){var i,a;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!r||Object.keys(r).length===0?l={config:{}}:typeof r=="object"?l=Object.assign({},r):l=r,l.config&&(l.config.pageToken=n.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(a=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kie extends Ji{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Fo(Bi.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=iR(this.apiClient,t),r=n._url,i=ye("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,f=u.requests,d=[];for(const h of f){const m=Object.assign({},h);if(m.systemInstruction){const v=m.systemInstruction;delete m.systemInstruction;const _=m.request;_.systemInstruction=v,m.request=_}d.push(m)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(t),l=this.getBigqueryUri(t);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(l)r.dest=`${l}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=rie(this.apiClient,t);return u=ye("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>Rb(h))}else{const d=iR(this.apiClient,t);return u=ye("{model}:batchGenerateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>zf(h))}}async createEmbeddingsInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=aie(this.apiClient,t);return a=ye("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>zf(f))}}async get(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=bie(this.apiClient,t);return u=ye("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>Rb(h))}else{const d=yie(this.apiClient,t);return u=ye("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>zf(h))}}async cancel(t){var n,r,i,a;let l="",u={};if(this.apiClient.isVertexAI()){const f=Zre(this.apiClient,t);l=ye("batchPredictionJobs/{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=Xre(this.apiClient,t);l=ye("batches/{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=Nie(t);return u=ye("batchPredictionJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=Iie(h),v=new eR;return Object.assign(v,m),v})}else{const d=Cie(t);return u=ye("batches",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=Oie(h),v=new eR;return Object.assign(v,m),v})}}async delete(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=sie(this.apiClient,t);return u=ye("batchPredictionJobs/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>uie(h))}else{const d=oie(this.apiClient,t);return u=ye("batches/{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>lie(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jie(e){const t={},n=g(e,["data"]);if(n!=null&&y(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function aR(e){const t={},n=g(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>aae(a))),y(t,["parts"],i)}const r=g(e,["role"]);return r!=null&&y(t,["role"],r),t}function Lie(e,t){const n={},r=g(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const i=g(e,["expireTime"]);t!==void 0&&i!=null&&y(t,["expireTime"],i);const a=g(e,["displayName"]);t!==void 0&&a!=null&&y(t,["displayName"],a);const l=g(e,["contents"]);if(t!==void 0&&l!=null){let h=_r(l);Array.isArray(h)&&(h=h.map(m=>aR(m))),y(t,["contents"],h)}const u=g(e,["systemInstruction"]);t!==void 0&&u!=null&&y(t,["systemInstruction"],aR(Sn(u)));const f=g(e,["tools"]);if(t!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(m=>sae(m))),y(t,["tools"],h)}const d=g(e,["toolConfig"]);if(t!==void 0&&d!=null&&y(t,["toolConfig"],oae(d)),g(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Uie(e,t){const n={},r=g(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const i=g(e,["expireTime"]);t!==void 0&&i!=null&&y(t,["expireTime"],i);const a=g(e,["displayName"]);t!==void 0&&a!=null&&y(t,["displayName"],a);const l=g(e,["contents"]);if(t!==void 0&&l!=null){let m=_r(l);Array.isArray(m)&&(m=m.map(v=>v)),y(t,["contents"],m)}const u=g(e,["systemInstruction"]);t!==void 0&&u!=null&&y(t,["systemInstruction"],Sn(u));const f=g(e,["tools"]);if(t!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(v=>lae(v))),y(t,["tools"],m)}const d=g(e,["toolConfig"]);t!==void 0&&d!=null&&y(t,["toolConfig"],d);const h=g(e,["kmsKeyName"]);return t!==void 0&&h!=null&&y(t,["encryption_spec","kmsKeyName"],h),n}function zie(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["model"],uL(e,r));const i=g(t,["config"]);return i!=null&&Lie(i,n),n}function $ie(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["model"],uL(e,r));const i=g(t,["config"]);return i!=null&&Uie(i,n),n}function Bie(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],Xi(e,r)),n}function qie(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],Xi(e,r)),n}function Fie(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function Gie(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function Hie(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function Vie(e){const t={},n=g(e,["id"]);n!=null&&y(t,["id"],n);const r=g(e,["args"]);r!=null&&y(t,["args"],r);const i=g(e,["name"]);if(i!=null&&y(t,["name"],i),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Kie(e){const t={},n=g(e,["allowedFunctionNames"]);n!=null&&y(t,["allowedFunctionNames"],n);const r=g(e,["mode"]);if(r!=null&&y(t,["mode"],r),g(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function Yie(e){const t={},n=g(e,["description"]);n!=null&&y(t,["description"],n);const r=g(e,["name"]);r!=null&&y(t,["name"],r);const i=g(e,["parameters"]);i!=null&&y(t,["parameters"],i);const a=g(e,["parametersJsonSchema"]);a!=null&&y(t,["parametersJsonSchema"],a);const l=g(e,["response"]);l!=null&&y(t,["response"],l);const u=g(e,["responseJsonSchema"]);if(u!=null&&y(t,["responseJsonSchema"],u),g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function Wie(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],Xi(e,r)),n}function Jie(e,t){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],Xi(e,r)),n}function Xie(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function Zie(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function Qie(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function eae(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function tae(e){const t={},n=g(e,["config"]);return n!=null&&Qie(n,t),t}function nae(e){const t={},n=g(e,["config"]);return n!=null&&eae(n,t),t}function rae(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=g(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["cachedContents"],a)}return t}function iae(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=g(e,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["cachedContents"],a)}return t}function aae(e){const t={},n=g(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=g(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const i=g(e,["executableCode"]);i!=null&&y(t,["executableCode"],i);const a=g(e,["fileData"]);a!=null&&y(t,["fileData"],Hie(a));const l=g(e,["functionCall"]);l!=null&&y(t,["functionCall"],Vie(l));const u=g(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const f=g(e,["inlineData"]);f!=null&&y(t,["inlineData"],jie(f));const d=g(e,["text"]);d!=null&&y(t,["text"],d);const h=g(e,["thought"]);h!=null&&y(t,["thought"],h);const m=g(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const v=g(e,["videoMetadata"]);return v!=null&&y(t,["videoMetadata"],v),t}function oae(e){const t={},n=g(e,["retrievalConfig"]);n!=null&&y(t,["retrievalConfig"],n);const r=g(e,["functionCallingConfig"]);return r!=null&&y(t,["functionCallingConfig"],Kie(r)),t}function sae(e){const t={};if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=g(e,["computerUse"]);n!=null&&y(t,["computerUse"],n);const r=g(e,["fileSearch"]);r!=null&&y(t,["fileSearch"],r);const i=g(e,["codeExecution"]);if(i!=null&&y(t,["codeExecution"],i),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=g(e,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(m=>m)),y(t,["functionDeclarations"],h)}const l=g(e,["googleMaps"]);l!=null&&y(t,["googleMaps"],Xie(l));const u=g(e,["googleSearch"]);u!=null&&y(t,["googleSearch"],Zie(u));const f=g(e,["googleSearchRetrieval"]);f!=null&&y(t,["googleSearchRetrieval"],f);const d=g(e,["urlContext"]);return d!=null&&y(t,["urlContext"],d),t}function lae(e){const t={},n=g(e,["retrieval"]);n!=null&&y(t,["retrieval"],n);const r=g(e,["computerUse"]);if(r!=null&&y(t,["computerUse"],r),g(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=g(e,["codeExecution"]);i!=null&&y(t,["codeExecution"],i);const a=g(e,["enterpriseWebSearch"]);a!=null&&y(t,["enterpriseWebSearch"],a);const l=g(e,["functionDeclarations"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(v=>Yie(v))),y(t,["functionDeclarations"],m)}const u=g(e,["googleMaps"]);u!=null&&y(t,["googleMaps"],u);const f=g(e,["googleSearch"]);f!=null&&y(t,["googleSearch"],f);const d=g(e,["googleSearchRetrieval"]);d!=null&&y(t,["googleSearchRetrieval"],d);const h=g(e,["urlContext"]);return h!=null&&y(t,["urlContext"],h),t}function uae(e,t){const n={},r=g(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const i=g(e,["expireTime"]);return t!==void 0&&i!=null&&y(t,["expireTime"],i),n}function cae(e,t){const n={},r=g(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const i=g(e,["expireTime"]);return t!==void 0&&i!=null&&y(t,["expireTime"],i),n}function dae(e,t){const n={},r=g(t,["name"]);r!=null&&y(n,["_url","name"],Xi(e,r));const i=g(t,["config"]);return i!=null&&uae(i,n),n}function fae(e,t){const n={},r=g(t,["name"]);r!=null&&y(n,["_url","name"],Xi(e,r));const i=g(t,["config"]);return i!=null&&cae(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hae extends Ji{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Fo(Bi.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=$ie(this.apiClient,t);return u=ye("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=zie(this.apiClient,t);return u=ye("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async get(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=Jie(this.apiClient,t);return u=ye("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=Wie(this.apiClient,t);return u=ye("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async delete(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=qie(this.apiClient,t);return u=ye("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=Gie(h),v=new ZP;return Object.assign(v,m),v})}else{const d=Bie(this.apiClient,t);return u=ye("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=Fie(h),v=new ZP;return Object.assign(v,m),v})}}async update(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=fae(this.apiClient,t);return u=ye("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>h)}else{const d=dae(this.apiClient,t);return u=ye("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>h)}}async listInternal(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=nae(t);return u=ye("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=iae(h),v=new QP;return Object.assign(v,m),v})}else{const d=tae(t);return u=ye("cachedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=rae(h),v=new QP;return Object.assign(v,m),v})}}}function Wh(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function oR(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function je(e){return this instanceof je?(this.v=e,this):new je(e)}function Lr(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(_){return function(S){return Promise.resolve(S).then(_,m)}}function u(_,S){r[_]&&(i[_]=function(E){return new Promise(function(T,C){a.push([_,E,T,C])>1||f(_,E)})},S&&(i[_]=S(i[_])))}function f(_,S){try{d(r[_](S))}catch(E){v(a[0][3],E)}}function d(_){_.value instanceof je?Promise.resolve(_.value.v).then(h,m):v(a[0][2],_)}function h(_){f("next",_)}function m(_){f("throw",_)}function v(_,S){_(S),a.shift(),a.length&&f(a[0][0],a[0][1])}}function Ur(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof oR=="function"?oR(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=e[a]&&function(l){return new Promise(function(u,f){l=e[a](l),i(u,f,l.done,l.value)})}}function i(a,l,u,f){Promise.resolve(f).then(function(d){a({value:d,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pae(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:wL(n)}function wL(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function mae(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function sR(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const i=[];let a=!0;for(;r<n&&e[r].role==="model";)i.push(e[r]),a&&!wL(e[r])&&(a=!1),r++;a?t.push(...i):t.pop()}return t}class gae{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new vae(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class vae{constructor(t,n,r,i={},a=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),mae(a)}async sendMessage(t){var n;await this.sendPromise;const r=Sn(t.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,l,u;const f=await i,d=(l=(a=f.candidates)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.content,h=f.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let v=[];h!=null&&(v=(u=h.slice(m))!==null&&u!==void 0?u:[]);const _=d?[d]:[];this.recordHistory(r,_,v)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(t){var n;await this.sendPromise;const r=Sn(t.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(t=!1){const n=t?sR(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return Lr(this,arguments,function*(){var i,a,l,u,f,d;const h=[];try{for(var m=!0,v=Ur(t),_;_=yield je(v.next()),i=_.done,!i;m=!0){u=_.value,m=!1;const S=u;if(pae(S)){const E=(d=(f=S.candidates)===null||f===void 0?void 0:f[0])===null||d===void 0?void 0:d.content;E!==void 0&&h.push(E)}yield yield je(S)}}catch(S){a={error:S}}finally{try{!m&&!i&&(l=v.return)&&(yield je(l.call(v)))}finally{if(a)throw a.error}}this.recordHistory(n,h)})}recordHistory(t,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...sR(r)):this.history.push(t),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gc extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,gc.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yae(e){const t={},n=g(e,["file"]);return n!=null&&y(t,["file"],n),t}function bae(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function xae(e){const t={},n=g(e,["name"]);return n!=null&&y(t,["_url","file"],mL(n)),t}function _ae(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function wae(e){const t={},n=g(e,["name"]);return n!=null&&y(t,["_url","file"],mL(n)),t}function Sae(e){const t={},n=g(e,["uris"]);return n!=null&&y(t,["uris"],n),t}function Eae(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function Tae(e){const t={},n=g(e,["config"]);return n!=null&&Eae(n,t),t}function Aae(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=g(e,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["files"],a)}return t}function Cae(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),y(t,["files"],i)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nae extends Ji{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Fo(Bi.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async registerFiles(t){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(t){return this.registerFilesInternal(t)}async listInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Tae(t);return a=ye("files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=Aae(f),h=new Ore;return Object.assign(h,d),h})}}async createInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=yae(t);return a=ye("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=bae(f),h=new Ire;return Object.assign(h,d),h})}}async get(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=wae(t);return a=ye("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=xae(t);return a=ye("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=_ae(f),h=new Pre;return Object.assign(h,d),h})}}async registerFilesInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Sae(t);return a=ye("files:register",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=Cae(f),h=new Rre;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $f(e){const t={},n=g(e,["data"]);if(n!=null&&y(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function Oae(e){const t={},n=g(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>Hae(a))),y(t,["parts"],i)}const r=g(e,["role"]);return r!=null&&y(t,["role"],r),t}function Iae(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function Pae(e){const t={},n=g(e,["id"]);n!=null&&y(t,["id"],n);const r=g(e,["args"]);r!=null&&y(t,["args"],r);const i=g(e,["name"]);if(i!=null&&y(t,["name"],i),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Rae(e){const t={},n=g(e,["description"]);n!=null&&y(t,["description"],n);const r=g(e,["name"]);r!=null&&y(t,["name"],r);const i=g(e,["parameters"]);i!=null&&y(t,["parameters"],i);const a=g(e,["parametersJsonSchema"]);a!=null&&y(t,["parametersJsonSchema"],a);const l=g(e,["response"]);l!=null&&y(t,["response"],l);const u=g(e,["responseJsonSchema"]);if(u!=null&&y(t,["responseJsonSchema"],u),g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function Mae(e){const t={},n=g(e,["modelSelectionConfig"]);n!=null&&y(t,["modelConfig"],n);const r=g(e,["responseJsonSchema"]);r!=null&&y(t,["responseJsonSchema"],r);const i=g(e,["audioTimestamp"]);i!=null&&y(t,["audioTimestamp"],i);const a=g(e,["candidateCount"]);a!=null&&y(t,["candidateCount"],a);const l=g(e,["enableAffectiveDialog"]);l!=null&&y(t,["enableAffectiveDialog"],l);const u=g(e,["frequencyPenalty"]);u!=null&&y(t,["frequencyPenalty"],u);const f=g(e,["logprobs"]);f!=null&&y(t,["logprobs"],f);const d=g(e,["maxOutputTokens"]);d!=null&&y(t,["maxOutputTokens"],d);const h=g(e,["mediaResolution"]);h!=null&&y(t,["mediaResolution"],h);const m=g(e,["presencePenalty"]);m!=null&&y(t,["presencePenalty"],m);const v=g(e,["responseLogprobs"]);v!=null&&y(t,["responseLogprobs"],v);const _=g(e,["responseMimeType"]);_!=null&&y(t,["responseMimeType"],_);const S=g(e,["responseModalities"]);S!=null&&y(t,["responseModalities"],S);const E=g(e,["responseSchema"]);E!=null&&y(t,["responseSchema"],E);const T=g(e,["routingConfig"]);T!=null&&y(t,["routingConfig"],T);const C=g(e,["seed"]);C!=null&&y(t,["seed"],C);const P=g(e,["speechConfig"]);P!=null&&y(t,["speechConfig"],P);const I=g(e,["stopSequences"]);I!=null&&y(t,["stopSequences"],I);const O=g(e,["temperature"]);O!=null&&y(t,["temperature"],O);const R=g(e,["thinkingConfig"]);R!=null&&y(t,["thinkingConfig"],R);const D=g(e,["topK"]);D!=null&&y(t,["topK"],D);const M=g(e,["topP"]);if(M!=null&&y(t,["topP"],M),g(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function Dae(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function kae(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function jae(e,t){const n={},r=g(e,["generationConfig"]);t!==void 0&&r!=null&&y(t,["setup","generationConfig"],r);const i=g(e,["responseModalities"]);t!==void 0&&i!=null&&y(t,["setup","generationConfig","responseModalities"],i);const a=g(e,["temperature"]);t!==void 0&&a!=null&&y(t,["setup","generationConfig","temperature"],a);const l=g(e,["topP"]);t!==void 0&&l!=null&&y(t,["setup","generationConfig","topP"],l);const u=g(e,["topK"]);t!==void 0&&u!=null&&y(t,["setup","generationConfig","topK"],u);const f=g(e,["maxOutputTokens"]);t!==void 0&&f!=null&&y(t,["setup","generationConfig","maxOutputTokens"],f);const d=g(e,["mediaResolution"]);t!==void 0&&d!=null&&y(t,["setup","generationConfig","mediaResolution"],d);const h=g(e,["seed"]);t!==void 0&&h!=null&&y(t,["setup","generationConfig","seed"],h);const m=g(e,["speechConfig"]);t!==void 0&&m!=null&&y(t,["setup","generationConfig","speechConfig"],Q_(m));const v=g(e,["thinkingConfig"]);t!==void 0&&v!=null&&y(t,["setup","generationConfig","thinkingConfig"],v);const _=g(e,["enableAffectiveDialog"]);t!==void 0&&_!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],_);const S=g(e,["systemInstruction"]);t!==void 0&&S!=null&&y(t,["setup","systemInstruction"],Oae(Sn(S)));const E=g(e,["tools"]);if(t!==void 0&&E!=null){let D=Il(E);Array.isArray(D)&&(D=D.map(M=>Kae(Ol(M)))),y(t,["setup","tools"],D)}const T=g(e,["sessionResumption"]);t!==void 0&&T!=null&&y(t,["setup","sessionResumption"],Vae(T));const C=g(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&y(t,["setup","inputAudioTranscription"],C);const P=g(e,["outputAudioTranscription"]);t!==void 0&&P!=null&&y(t,["setup","outputAudioTranscription"],P);const I=g(e,["realtimeInputConfig"]);t!==void 0&&I!=null&&y(t,["setup","realtimeInputConfig"],I);const O=g(e,["contextWindowCompression"]);t!==void 0&&O!=null&&y(t,["setup","contextWindowCompression"],O);const R=g(e,["proactivity"]);if(t!==void 0&&R!=null&&y(t,["setup","proactivity"],R),g(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Lae(e,t){const n={},r=g(e,["generationConfig"]);t!==void 0&&r!=null&&y(t,["setup","generationConfig"],Mae(r));const i=g(e,["responseModalities"]);t!==void 0&&i!=null&&y(t,["setup","generationConfig","responseModalities"],i);const a=g(e,["temperature"]);t!==void 0&&a!=null&&y(t,["setup","generationConfig","temperature"],a);const l=g(e,["topP"]);t!==void 0&&l!=null&&y(t,["setup","generationConfig","topP"],l);const u=g(e,["topK"]);t!==void 0&&u!=null&&y(t,["setup","generationConfig","topK"],u);const f=g(e,["maxOutputTokens"]);t!==void 0&&f!=null&&y(t,["setup","generationConfig","maxOutputTokens"],f);const d=g(e,["mediaResolution"]);t!==void 0&&d!=null&&y(t,["setup","generationConfig","mediaResolution"],d);const h=g(e,["seed"]);t!==void 0&&h!=null&&y(t,["setup","generationConfig","seed"],h);const m=g(e,["speechConfig"]);t!==void 0&&m!=null&&y(t,["setup","generationConfig","speechConfig"],Q_(m));const v=g(e,["thinkingConfig"]);t!==void 0&&v!=null&&y(t,["setup","generationConfig","thinkingConfig"],v);const _=g(e,["enableAffectiveDialog"]);t!==void 0&&_!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],_);const S=g(e,["systemInstruction"]);t!==void 0&&S!=null&&y(t,["setup","systemInstruction"],Sn(S));const E=g(e,["tools"]);if(t!==void 0&&E!=null){let M=Il(E);Array.isArray(M)&&(M=M.map(z=>Yae(Ol(z)))),y(t,["setup","tools"],M)}const T=g(e,["sessionResumption"]);t!==void 0&&T!=null&&y(t,["setup","sessionResumption"],T);const C=g(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&y(t,["setup","inputAudioTranscription"],C);const P=g(e,["outputAudioTranscription"]);t!==void 0&&P!=null&&y(t,["setup","outputAudioTranscription"],P);const I=g(e,["realtimeInputConfig"]);t!==void 0&&I!=null&&y(t,["setup","realtimeInputConfig"],I);const O=g(e,["contextWindowCompression"]);t!==void 0&&O!=null&&y(t,["setup","contextWindowCompression"],O);const R=g(e,["proactivity"]);t!==void 0&&R!=null&&y(t,["setup","proactivity"],R);const D=g(e,["explicitVadSignal"]);return t!==void 0&&D!=null&&y(t,["setup","explicitVadSignal"],D),n}function Uae(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["setup","model"],tt(e,r));const i=g(t,["config"]);return i!=null&&y(n,["config"],jae(i,n)),n}function zae(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["setup","model"],tt(e,r));const i=g(t,["config"]);return i!=null&&y(n,["config"],Lae(i,n)),n}function $ae(e){const t={},n=g(e,["musicGenerationConfig"]);return n!=null&&y(t,["musicGenerationConfig"],n),t}function Bae(e){const t={},n=g(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(t,["weightedPrompts"],r)}return t}function qae(e){const t={},n=g(e,["media"]);if(n!=null){let d=cL(n);Array.isArray(d)&&(d=d.map(h=>$f(h))),y(t,["mediaChunks"],d)}const r=g(e,["audio"]);r!=null&&y(t,["audio"],$f(fL(r)));const i=g(e,["audioStreamEnd"]);i!=null&&y(t,["audioStreamEnd"],i);const a=g(e,["video"]);a!=null&&y(t,["video"],$f(dL(a)));const l=g(e,["text"]);l!=null&&y(t,["text"],l);const u=g(e,["activityStart"]);u!=null&&y(t,["activityStart"],u);const f=g(e,["activityEnd"]);return f!=null&&y(t,["activityEnd"],f),t}function Fae(e){const t={},n=g(e,["media"]);if(n!=null){let d=cL(n);Array.isArray(d)&&(d=d.map(h=>h)),y(t,["mediaChunks"],d)}const r=g(e,["audio"]);r!=null&&y(t,["audio"],fL(r));const i=g(e,["audioStreamEnd"]);i!=null&&y(t,["audioStreamEnd"],i);const a=g(e,["video"]);a!=null&&y(t,["video"],dL(a));const l=g(e,["text"]);l!=null&&y(t,["text"],l);const u=g(e,["activityStart"]);u!=null&&y(t,["activityStart"],u);const f=g(e,["activityEnd"]);return f!=null&&y(t,["activityEnd"],f),t}function Gae(e){const t={},n=g(e,["setupComplete"]);n!=null&&y(t,["setupComplete"],n);const r=g(e,["serverContent"]);r!=null&&y(t,["serverContent"],r);const i=g(e,["toolCall"]);i!=null&&y(t,["toolCall"],i);const a=g(e,["toolCallCancellation"]);a!=null&&y(t,["toolCallCancellation"],a);const l=g(e,["usageMetadata"]);l!=null&&y(t,["usageMetadata"],Wae(l));const u=g(e,["goAway"]);u!=null&&y(t,["goAway"],u);const f=g(e,["sessionResumptionUpdate"]);f!=null&&y(t,["sessionResumptionUpdate"],f);const d=g(e,["voiceActivityDetectionSignal"]);d!=null&&y(t,["voiceActivityDetectionSignal"],d);const h=g(e,["voiceActivity"]);return h!=null&&y(t,["voiceActivity"],Jae(h)),t}function Hae(e){const t={},n=g(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=g(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const i=g(e,["executableCode"]);i!=null&&y(t,["executableCode"],i);const a=g(e,["fileData"]);a!=null&&y(t,["fileData"],Iae(a));const l=g(e,["functionCall"]);l!=null&&y(t,["functionCall"],Pae(l));const u=g(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const f=g(e,["inlineData"]);f!=null&&y(t,["inlineData"],$f(f));const d=g(e,["text"]);d!=null&&y(t,["text"],d);const h=g(e,["thought"]);h!=null&&y(t,["thought"],h);const m=g(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const v=g(e,["videoMetadata"]);return v!=null&&y(t,["videoMetadata"],v),t}function Vae(e){const t={},n=g(e,["handle"]);if(n!=null&&y(t,["handle"],n),g(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Kae(e){const t={};if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=g(e,["computerUse"]);n!=null&&y(t,["computerUse"],n);const r=g(e,["fileSearch"]);r!=null&&y(t,["fileSearch"],r);const i=g(e,["codeExecution"]);if(i!=null&&y(t,["codeExecution"],i),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=g(e,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(m=>m)),y(t,["functionDeclarations"],h)}const l=g(e,["googleMaps"]);l!=null&&y(t,["googleMaps"],Dae(l));const u=g(e,["googleSearch"]);u!=null&&y(t,["googleSearch"],kae(u));const f=g(e,["googleSearchRetrieval"]);f!=null&&y(t,["googleSearchRetrieval"],f);const d=g(e,["urlContext"]);return d!=null&&y(t,["urlContext"],d),t}function Yae(e){const t={},n=g(e,["retrieval"]);n!=null&&y(t,["retrieval"],n);const r=g(e,["computerUse"]);if(r!=null&&y(t,["computerUse"],r),g(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=g(e,["codeExecution"]);i!=null&&y(t,["codeExecution"],i);const a=g(e,["enterpriseWebSearch"]);a!=null&&y(t,["enterpriseWebSearch"],a);const l=g(e,["functionDeclarations"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(v=>Rae(v))),y(t,["functionDeclarations"],m)}const u=g(e,["googleMaps"]);u!=null&&y(t,["googleMaps"],u);const f=g(e,["googleSearch"]);f!=null&&y(t,["googleSearch"],f);const d=g(e,["googleSearchRetrieval"]);d!=null&&y(t,["googleSearchRetrieval"],d);const h=g(e,["urlContext"]);return h!=null&&y(t,["urlContext"],h),t}function Wae(e){const t={},n=g(e,["promptTokenCount"]);n!=null&&y(t,["promptTokenCount"],n);const r=g(e,["cachedContentTokenCount"]);r!=null&&y(t,["cachedContentTokenCount"],r);const i=g(e,["candidatesTokenCount"]);i!=null&&y(t,["responseTokenCount"],i);const a=g(e,["toolUsePromptTokenCount"]);a!=null&&y(t,["toolUsePromptTokenCount"],a);const l=g(e,["thoughtsTokenCount"]);l!=null&&y(t,["thoughtsTokenCount"],l);const u=g(e,["totalTokenCount"]);u!=null&&y(t,["totalTokenCount"],u);const f=g(e,["promptTokensDetails"]);if(f!=null){let _=f;Array.isArray(_)&&(_=_.map(S=>S)),y(t,["promptTokensDetails"],_)}const d=g(e,["cacheTokensDetails"]);if(d!=null){let _=d;Array.isArray(_)&&(_=_.map(S=>S)),y(t,["cacheTokensDetails"],_)}const h=g(e,["candidatesTokensDetails"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(S=>S)),y(t,["responseTokensDetails"],_)}const m=g(e,["toolUsePromptTokensDetails"]);if(m!=null){let _=m;Array.isArray(_)&&(_=_.map(S=>S)),y(t,["toolUsePromptTokensDetails"],_)}const v=g(e,["trafficType"]);return v!=null&&y(t,["trafficType"],v),t}function Jae(e){const t={},n=g(e,["type"]);return n!=null&&y(t,["voiceActivityType"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xae(e,t){const n={},r=g(e,["data"]);if(r!=null&&y(n,["data"],r),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=g(e,["mimeType"]);return i!=null&&y(n,["mimeType"],i),n}function Zae(e,t){const n={},r=g(e,["content"]);r!=null&&y(n,["content"],r);const i=g(e,["citationMetadata"]);i!=null&&y(n,["citationMetadata"],Qae(i));const a=g(e,["tokenCount"]);a!=null&&y(n,["tokenCount"],a);const l=g(e,["finishReason"]);l!=null&&y(n,["finishReason"],l);const u=g(e,["avgLogprobs"]);u!=null&&y(n,["avgLogprobs"],u);const f=g(e,["groundingMetadata"]);f!=null&&y(n,["groundingMetadata"],f);const d=g(e,["index"]);d!=null&&y(n,["index"],d);const h=g(e,["logprobsResult"]);h!=null&&y(n,["logprobsResult"],h);const m=g(e,["safetyRatings"]);if(m!=null){let _=m;Array.isArray(_)&&(_=_.map(S=>S)),y(n,["safetyRatings"],_)}const v=g(e,["urlContextMetadata"]);return v!=null&&y(n,["urlContextMetadata"],v),n}function Qae(e,t){const n={},r=g(e,["citationSources"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),y(n,["citations"],i)}return n}function eoe(e,t,n){const r={},i=g(t,["model"]);i!=null&&y(r,["_url","model"],tt(e,i));const a=g(t,["contents"]);if(a!=null){let l=_r(a);Array.isArray(l)&&(l=l.map(u=>u)),y(r,["contents"],l)}return r}function toe(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["tokensInfo"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(n,["tokensInfo"],a)}return n}function noe(e,t){const n={},r=g(e,["values"]);r!=null&&y(n,["values"],r);const i=g(e,["statistics"]);return i!=null&&y(n,["statistics"],roe(i)),n}function roe(e,t){const n={},r=g(e,["truncated"]);r!=null&&y(n,["truncated"],r);const i=g(e,["token_count"]);return i!=null&&y(n,["tokenCount"],i),n}function Yp(e,t){const n={},r=g(e,["parts"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>fse(l))),y(n,["parts"],a)}const i=g(e,["role"]);return i!=null&&y(n,["role"],i),n}function ioe(e,t){const n={},r=g(e,["controlType"]);r!=null&&y(n,["controlType"],r);const i=g(e,["enableControlImageComputation"]);return i!=null&&y(n,["computeControl"],i),n}function aoe(e,t){const n={};if(g(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(g(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(g(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function ooe(e,t,n){const r={},i=g(e,["systemInstruction"]);t!==void 0&&i!=null&&y(t,["systemInstruction"],Sn(i));const a=g(e,["tools"]);if(t!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>AL(f))),y(t,["tools"],u)}const l=g(e,["generationConfig"]);return t!==void 0&&l!=null&&y(t,["generationConfig"],Xoe(l)),r}function soe(e,t,n){const r={},i=g(t,["model"]);i!=null&&y(r,["_url","model"],tt(e,i));const a=g(t,["contents"]);if(a!=null){let u=_r(a);Array.isArray(u)&&(u=u.map(f=>Yp(f))),y(r,["contents"],u)}const l=g(t,["config"]);return l!=null&&aoe(l),r}function loe(e,t,n){const r={},i=g(t,["model"]);i!=null&&y(r,["_url","model"],tt(e,i));const a=g(t,["contents"]);if(a!=null){let u=_r(a);Array.isArray(u)&&(u=u.map(f=>f)),y(r,["contents"],u)}const l=g(t,["config"]);return l!=null&&ooe(l,r),r}function uoe(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["totalTokens"]);i!=null&&y(n,["totalTokens"],i);const a=g(e,["cachedContentTokenCount"]);return a!=null&&y(n,["cachedContentTokenCount"],a),n}function coe(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["totalTokens"]);return i!=null&&y(n,["totalTokens"],i),n}function doe(e,t,n){const r={},i=g(t,["model"]);return i!=null&&y(r,["_url","name"],tt(e,i)),r}function foe(e,t,n){const r={},i=g(t,["model"]);return i!=null&&y(r,["_url","name"],tt(e,i)),r}function hoe(e,t){const n={},r=g(e,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function poe(e,t){const n={},r=g(e,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function moe(e,t,n){const r={},i=g(e,["outputGcsUri"]);t!==void 0&&i!=null&&y(t,["parameters","storageUri"],i);const a=g(e,["negativePrompt"]);t!==void 0&&a!=null&&y(t,["parameters","negativePrompt"],a);const l=g(e,["numberOfImages"]);t!==void 0&&l!=null&&y(t,["parameters","sampleCount"],l);const u=g(e,["aspectRatio"]);t!==void 0&&u!=null&&y(t,["parameters","aspectRatio"],u);const f=g(e,["guidanceScale"]);t!==void 0&&f!=null&&y(t,["parameters","guidanceScale"],f);const d=g(e,["seed"]);t!==void 0&&d!=null&&y(t,["parameters","seed"],d);const h=g(e,["safetyFilterLevel"]);t!==void 0&&h!=null&&y(t,["parameters","safetySetting"],h);const m=g(e,["personGeneration"]);t!==void 0&&m!=null&&y(t,["parameters","personGeneration"],m);const v=g(e,["includeSafetyAttributes"]);t!==void 0&&v!=null&&y(t,["parameters","includeSafetyAttributes"],v);const _=g(e,["includeRaiReason"]);t!==void 0&&_!=null&&y(t,["parameters","includeRaiReason"],_);const S=g(e,["language"]);t!==void 0&&S!=null&&y(t,["parameters","language"],S);const E=g(e,["outputMimeType"]);t!==void 0&&E!=null&&y(t,["parameters","outputOptions","mimeType"],E);const T=g(e,["outputCompressionQuality"]);t!==void 0&&T!=null&&y(t,["parameters","outputOptions","compressionQuality"],T);const C=g(e,["addWatermark"]);t!==void 0&&C!=null&&y(t,["parameters","addWatermark"],C);const P=g(e,["labels"]);t!==void 0&&P!=null&&y(t,["labels"],P);const I=g(e,["editMode"]);t!==void 0&&I!=null&&y(t,["parameters","editMode"],I);const O=g(e,["baseSteps"]);return t!==void 0&&O!=null&&y(t,["parameters","editConfig","baseSteps"],O),r}function goe(e,t,n){const r={},i=g(t,["model"]);i!=null&&y(r,["_url","model"],tt(e,i));const a=g(t,["prompt"]);a!=null&&y(r,["instances[0]","prompt"],a);const l=g(t,["referenceImages"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(d=>yse(d))),y(r,["instances[0]","referenceImages"],f)}const u=g(t,["config"]);return u!=null&&moe(u,r),r}function voe(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>Wp(l))),y(n,["generatedImages"],a)}return n}function yoe(e,t,n){const r={},i=g(e,["taskType"]);t!==void 0&&i!=null&&y(t,["requests[]","taskType"],i);const a=g(e,["title"]);t!==void 0&&a!=null&&y(t,["requests[]","title"],a);const l=g(e,["outputDimensionality"]);if(t!==void 0&&l!=null&&y(t,["requests[]","outputDimensionality"],l),g(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function boe(e,t,n){const r={},i=g(e,["taskType"]);t!==void 0&&i!=null&&y(t,["instances[]","task_type"],i);const a=g(e,["title"]);t!==void 0&&a!=null&&y(t,["instances[]","title"],a);const l=g(e,["outputDimensionality"]);t!==void 0&&l!=null&&y(t,["parameters","outputDimensionality"],l);const u=g(e,["mimeType"]);t!==void 0&&u!=null&&y(t,["instances[]","mimeType"],u);const f=g(e,["autoTruncate"]);return t!==void 0&&f!=null&&y(t,["parameters","autoTruncate"],f),r}function xoe(e,t,n){const r={},i=g(t,["model"]);i!=null&&y(r,["_url","model"],tt(e,i));const a=g(t,["contents"]);if(a!=null){let f=J_(e,a);Array.isArray(f)&&(f=f.map(d=>d)),y(r,["requests[]","content"],f)}const l=g(t,["config"]);l!=null&&yoe(l,r);const u=g(t,["model"]);return u!==void 0&&y(r,["requests[]","model"],tt(e,u)),r}function _oe(e,t,n){const r={},i=g(t,["model"]);i!=null&&y(r,["_url","model"],tt(e,i));const a=g(t,["contents"]);if(a!=null){let u=J_(e,a);Array.isArray(u)&&(u=u.map(f=>f)),y(r,["instances[]","content"],u)}const l=g(t,["config"]);return l!=null&&boe(l,r),r}function woe(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>u)),y(n,["embeddings"],l)}const a=g(e,["metadata"]);return a!=null&&y(n,["metadata"],a),n}function Soe(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["predictions[]","embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>noe(u))),y(n,["embeddings"],l)}const a=g(e,["metadata"]);return a!=null&&y(n,["metadata"],a),n}function Eoe(e,t){const n={},r=g(e,["endpoint"]);r!=null&&y(n,["name"],r);const i=g(e,["deployedModelId"]);return i!=null&&y(n,["deployedModelId"],i),n}function Toe(e,t){const n={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["fileUri"]);r!=null&&y(n,["fileUri"],r);const i=g(e,["mimeType"]);return i!=null&&y(n,["mimeType"],i),n}function Aoe(e,t){const n={},r=g(e,["id"]);r!=null&&y(n,["id"],r);const i=g(e,["args"]);i!=null&&y(n,["args"],i);const a=g(e,["name"]);if(a!=null&&y(n,["name"],a),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function Coe(e,t){const n={},r=g(e,["allowedFunctionNames"]);r!=null&&y(n,["allowedFunctionNames"],r);const i=g(e,["mode"]);if(i!=null&&y(n,["mode"],i),g(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function Noe(e,t){const n={},r=g(e,["description"]);r!=null&&y(n,["description"],r);const i=g(e,["name"]);i!=null&&y(n,["name"],i);const a=g(e,["parameters"]);a!=null&&y(n,["parameters"],a);const l=g(e,["parametersJsonSchema"]);l!=null&&y(n,["parametersJsonSchema"],l);const u=g(e,["response"]);u!=null&&y(n,["response"],u);const f=g(e,["responseJsonSchema"]);if(f!=null&&y(n,["responseJsonSchema"],f),g(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function Ooe(e,t,n,r){const i={},a=g(t,["systemInstruction"]);n!==void 0&&a!=null&&y(n,["systemInstruction"],Yp(Sn(a)));const l=g(t,["temperature"]);l!=null&&y(i,["temperature"],l);const u=g(t,["topP"]);u!=null&&y(i,["topP"],u);const f=g(t,["topK"]);f!=null&&y(i,["topK"],f);const d=g(t,["candidateCount"]);d!=null&&y(i,["candidateCount"],d);const h=g(t,["maxOutputTokens"]);h!=null&&y(i,["maxOutputTokens"],h);const m=g(t,["stopSequences"]);m!=null&&y(i,["stopSequences"],m);const v=g(t,["responseLogprobs"]);v!=null&&y(i,["responseLogprobs"],v);const _=g(t,["logprobs"]);_!=null&&y(i,["logprobs"],_);const S=g(t,["presencePenalty"]);S!=null&&y(i,["presencePenalty"],S);const E=g(t,["frequencyPenalty"]);E!=null&&y(i,["frequencyPenalty"],E);const T=g(t,["seed"]);T!=null&&y(i,["seed"],T);const C=g(t,["responseMimeType"]);C!=null&&y(i,["responseMimeType"],C);const P=g(t,["responseSchema"]);P!=null&&y(i,["responseSchema"],X_(P));const I=g(t,["responseJsonSchema"]);if(I!=null&&y(i,["responseJsonSchema"],I),g(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=g(t,["safetySettings"]);if(n!==void 0&&O!=null){let ae=O;Array.isArray(ae)&&(ae=ae.map(se=>bse(se))),y(n,["safetySettings"],ae)}const R=g(t,["tools"]);if(n!==void 0&&R!=null){let ae=Il(R);Array.isArray(ae)&&(ae=ae.map(se=>Ase(Ol(se)))),y(n,["tools"],ae)}const D=g(t,["toolConfig"]);if(n!==void 0&&D!=null&&y(n,["toolConfig"],Tse(D)),g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=g(t,["cachedContent"]);n!==void 0&&M!=null&&y(n,["cachedContent"],Xi(e,M));const z=g(t,["responseModalities"]);z!=null&&y(i,["responseModalities"],z);const U=g(t,["mediaResolution"]);U!=null&&y(i,["mediaResolution"],U);const K=g(t,["speechConfig"]);if(K!=null&&y(i,["speechConfig"],Z_(K)),g(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const L=g(t,["thinkingConfig"]);L!=null&&y(i,["thinkingConfig"],L);const q=g(t,["imageConfig"]);q!=null&&y(i,["imageConfig"],nse(q));const Z=g(t,["enableEnhancedCivicAnswers"]);if(Z!=null&&y(i,["enableEnhancedCivicAnswers"],Z),g(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function Ioe(e,t,n,r){const i={},a=g(t,["systemInstruction"]);n!==void 0&&a!=null&&y(n,["systemInstruction"],Sn(a));const l=g(t,["temperature"]);l!=null&&y(i,["temperature"],l);const u=g(t,["topP"]);u!=null&&y(i,["topP"],u);const f=g(t,["topK"]);f!=null&&y(i,["topK"],f);const d=g(t,["candidateCount"]);d!=null&&y(i,["candidateCount"],d);const h=g(t,["maxOutputTokens"]);h!=null&&y(i,["maxOutputTokens"],h);const m=g(t,["stopSequences"]);m!=null&&y(i,["stopSequences"],m);const v=g(t,["responseLogprobs"]);v!=null&&y(i,["responseLogprobs"],v);const _=g(t,["logprobs"]);_!=null&&y(i,["logprobs"],_);const S=g(t,["presencePenalty"]);S!=null&&y(i,["presencePenalty"],S);const E=g(t,["frequencyPenalty"]);E!=null&&y(i,["frequencyPenalty"],E);const T=g(t,["seed"]);T!=null&&y(i,["seed"],T);const C=g(t,["responseMimeType"]);C!=null&&y(i,["responseMimeType"],C);const P=g(t,["responseSchema"]);P!=null&&y(i,["responseSchema"],X_(P));const I=g(t,["responseJsonSchema"]);I!=null&&y(i,["responseJsonSchema"],I);const O=g(t,["routingConfig"]);O!=null&&y(i,["routingConfig"],O);const R=g(t,["modelSelectionConfig"]);R!=null&&y(i,["modelConfig"],R);const D=g(t,["safetySettings"]);if(n!==void 0&&D!=null){let W=D;Array.isArray(W)&&(W=W.map(re=>re)),y(n,["safetySettings"],W)}const M=g(t,["tools"]);if(n!==void 0&&M!=null){let W=Il(M);Array.isArray(W)&&(W=W.map(re=>AL(Ol(re)))),y(n,["tools"],W)}const z=g(t,["toolConfig"]);n!==void 0&&z!=null&&y(n,["toolConfig"],z);const U=g(t,["labels"]);n!==void 0&&U!=null&&y(n,["labels"],U);const K=g(t,["cachedContent"]);n!==void 0&&K!=null&&y(n,["cachedContent"],Xi(e,K));const L=g(t,["responseModalities"]);L!=null&&y(i,["responseModalities"],L);const q=g(t,["mediaResolution"]);q!=null&&y(i,["mediaResolution"],q);const Z=g(t,["speechConfig"]);Z!=null&&y(i,["speechConfig"],Z_(Z));const ae=g(t,["audioTimestamp"]);ae!=null&&y(i,["audioTimestamp"],ae);const se=g(t,["thinkingConfig"]);se!=null&&y(i,["thinkingConfig"],se);const j=g(t,["imageConfig"]);if(j!=null&&y(i,["imageConfig"],rse(j)),g(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const G=g(t,["modelArmorConfig"]);return n!==void 0&&G!=null&&y(n,["modelArmorConfig"],G),i}function lR(e,t,n){const r={},i=g(t,["model"]);i!=null&&y(r,["_url","model"],tt(e,i));const a=g(t,["contents"]);if(a!=null){let u=_r(a);Array.isArray(u)&&(u=u.map(f=>Yp(f))),y(r,["contents"],u)}const l=g(t,["config"]);return l!=null&&y(r,["generationConfig"],Ooe(e,l,r)),r}function uR(e,t,n){const r={},i=g(t,["model"]);i!=null&&y(r,["_url","model"],tt(e,i));const a=g(t,["contents"]);if(a!=null){let u=_r(a);Array.isArray(u)&&(u=u.map(f=>f)),y(r,["contents"],u)}const l=g(t,["config"]);return l!=null&&y(r,["generationConfig"],Ioe(e,l,r)),r}function cR(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(h=>Zae(h))),y(n,["candidates"],d)}const a=g(e,["modelVersion"]);a!=null&&y(n,["modelVersion"],a);const l=g(e,["promptFeedback"]);l!=null&&y(n,["promptFeedback"],l);const u=g(e,["responseId"]);u!=null&&y(n,["responseId"],u);const f=g(e,["usageMetadata"]);return f!=null&&y(n,["usageMetadata"],f),n}function dR(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(m=>m)),y(n,["candidates"],h)}const a=g(e,["createTime"]);a!=null&&y(n,["createTime"],a);const l=g(e,["modelVersion"]);l!=null&&y(n,["modelVersion"],l);const u=g(e,["promptFeedback"]);u!=null&&y(n,["promptFeedback"],u);const f=g(e,["responseId"]);f!=null&&y(n,["responseId"],f);const d=g(e,["usageMetadata"]);return d!=null&&y(n,["usageMetadata"],d),n}function Poe(e,t,n){const r={};if(g(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=g(e,["numberOfImages"]);t!==void 0&&i!=null&&y(t,["parameters","sampleCount"],i);const a=g(e,["aspectRatio"]);t!==void 0&&a!=null&&y(t,["parameters","aspectRatio"],a);const l=g(e,["guidanceScale"]);if(t!==void 0&&l!=null&&y(t,["parameters","guidanceScale"],l),g(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=g(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&y(t,["parameters","safetySetting"],u);const f=g(e,["personGeneration"]);t!==void 0&&f!=null&&y(t,["parameters","personGeneration"],f);const d=g(e,["includeSafetyAttributes"]);t!==void 0&&d!=null&&y(t,["parameters","includeSafetyAttributes"],d);const h=g(e,["includeRaiReason"]);t!==void 0&&h!=null&&y(t,["parameters","includeRaiReason"],h);const m=g(e,["language"]);t!==void 0&&m!=null&&y(t,["parameters","language"],m);const v=g(e,["outputMimeType"]);t!==void 0&&v!=null&&y(t,["parameters","outputOptions","mimeType"],v);const _=g(e,["outputCompressionQuality"]);if(t!==void 0&&_!=null&&y(t,["parameters","outputOptions","compressionQuality"],_),g(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=g(e,["imageSize"]);if(t!==void 0&&S!=null&&y(t,["parameters","sampleImageSize"],S),g(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function Roe(e,t,n){const r={},i=g(e,["outputGcsUri"]);t!==void 0&&i!=null&&y(t,["parameters","storageUri"],i);const a=g(e,["negativePrompt"]);t!==void 0&&a!=null&&y(t,["parameters","negativePrompt"],a);const l=g(e,["numberOfImages"]);t!==void 0&&l!=null&&y(t,["parameters","sampleCount"],l);const u=g(e,["aspectRatio"]);t!==void 0&&u!=null&&y(t,["parameters","aspectRatio"],u);const f=g(e,["guidanceScale"]);t!==void 0&&f!=null&&y(t,["parameters","guidanceScale"],f);const d=g(e,["seed"]);t!==void 0&&d!=null&&y(t,["parameters","seed"],d);const h=g(e,["safetyFilterLevel"]);t!==void 0&&h!=null&&y(t,["parameters","safetySetting"],h);const m=g(e,["personGeneration"]);t!==void 0&&m!=null&&y(t,["parameters","personGeneration"],m);const v=g(e,["includeSafetyAttributes"]);t!==void 0&&v!=null&&y(t,["parameters","includeSafetyAttributes"],v);const _=g(e,["includeRaiReason"]);t!==void 0&&_!=null&&y(t,["parameters","includeRaiReason"],_);const S=g(e,["language"]);t!==void 0&&S!=null&&y(t,["parameters","language"],S);const E=g(e,["outputMimeType"]);t!==void 0&&E!=null&&y(t,["parameters","outputOptions","mimeType"],E);const T=g(e,["outputCompressionQuality"]);t!==void 0&&T!=null&&y(t,["parameters","outputOptions","compressionQuality"],T);const C=g(e,["addWatermark"]);t!==void 0&&C!=null&&y(t,["parameters","addWatermark"],C);const P=g(e,["labels"]);t!==void 0&&P!=null&&y(t,["labels"],P);const I=g(e,["imageSize"]);t!==void 0&&I!=null&&y(t,["parameters","sampleImageSize"],I);const O=g(e,["enhancePrompt"]);return t!==void 0&&O!=null&&y(t,["parameters","enhancePrompt"],O),r}function Moe(e,t,n){const r={},i=g(t,["model"]);i!=null&&y(r,["_url","model"],tt(e,i));const a=g(t,["prompt"]);a!=null&&y(r,["instances[0]","prompt"],a);const l=g(t,["config"]);return l!=null&&Poe(l,r),r}function Doe(e,t,n){const r={},i=g(t,["model"]);i!=null&&y(r,["_url","model"],tt(e,i));const a=g(t,["prompt"]);a!=null&&y(r,["instances[0]","prompt"],a);const l=g(t,["config"]);return l!=null&&Roe(l,r),r}function koe(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>Koe(u))),y(n,["generatedImages"],l)}const a=g(e,["positivePromptSafetyAttributes"]);return a!=null&&y(n,["positivePromptSafetyAttributes"],EL(a)),n}function joe(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>Wp(u))),y(n,["generatedImages"],l)}const a=g(e,["positivePromptSafetyAttributes"]);return a!=null&&y(n,["positivePromptSafetyAttributes"],TL(a)),n}function Loe(e,t,n){const r={},i=g(e,["numberOfVideos"]);if(t!==void 0&&i!=null&&y(t,["parameters","sampleCount"],i),g(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=g(e,["durationSeconds"]);if(t!==void 0&&a!=null&&y(t,["parameters","durationSeconds"],a),g(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=g(e,["aspectRatio"]);t!==void 0&&l!=null&&y(t,["parameters","aspectRatio"],l);const u=g(e,["resolution"]);t!==void 0&&u!=null&&y(t,["parameters","resolution"],u);const f=g(e,["personGeneration"]);if(t!==void 0&&f!=null&&y(t,["parameters","personGeneration"],f),g(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=g(e,["negativePrompt"]);t!==void 0&&d!=null&&y(t,["parameters","negativePrompt"],d);const h=g(e,["enhancePrompt"]);if(t!==void 0&&h!=null&&y(t,["parameters","enhancePrompt"],h),g(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const m=g(e,["lastFrame"]);t!==void 0&&m!=null&&y(t,["instances[0]","lastFrame"],Jp(m));const v=g(e,["referenceImages"]);if(t!==void 0&&v!=null){let _=v;Array.isArray(_)&&(_=_.map(S=>zse(S))),y(t,["instances[0]","referenceImages"],_)}if(g(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(g(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function Uoe(e,t,n){const r={},i=g(e,["numberOfVideos"]);t!==void 0&&i!=null&&y(t,["parameters","sampleCount"],i);const a=g(e,["outputGcsUri"]);t!==void 0&&a!=null&&y(t,["parameters","storageUri"],a);const l=g(e,["fps"]);t!==void 0&&l!=null&&y(t,["parameters","fps"],l);const u=g(e,["durationSeconds"]);t!==void 0&&u!=null&&y(t,["parameters","durationSeconds"],u);const f=g(e,["seed"]);t!==void 0&&f!=null&&y(t,["parameters","seed"],f);const d=g(e,["aspectRatio"]);t!==void 0&&d!=null&&y(t,["parameters","aspectRatio"],d);const h=g(e,["resolution"]);t!==void 0&&h!=null&&y(t,["parameters","resolution"],h);const m=g(e,["personGeneration"]);t!==void 0&&m!=null&&y(t,["parameters","personGeneration"],m);const v=g(e,["pubsubTopic"]);t!==void 0&&v!=null&&y(t,["parameters","pubsubTopic"],v);const _=g(e,["negativePrompt"]);t!==void 0&&_!=null&&y(t,["parameters","negativePrompt"],_);const S=g(e,["enhancePrompt"]);t!==void 0&&S!=null&&y(t,["parameters","enhancePrompt"],S);const E=g(e,["generateAudio"]);t!==void 0&&E!=null&&y(t,["parameters","generateAudio"],E);const T=g(e,["lastFrame"]);t!==void 0&&T!=null&&y(t,["instances[0]","lastFrame"],Fr(T));const C=g(e,["referenceImages"]);if(t!==void 0&&C!=null){let O=C;Array.isArray(O)&&(O=O.map(R=>$se(R))),y(t,["instances[0]","referenceImages"],O)}const P=g(e,["mask"]);t!==void 0&&P!=null&&y(t,["instances[0]","mask"],Use(P));const I=g(e,["compressionQuality"]);return t!==void 0&&I!=null&&y(t,["parameters","compressionQuality"],I),r}function zoe(e,t){const n={},r=g(e,["name"]);r!=null&&y(n,["name"],r);const i=g(e,["metadata"]);i!=null&&y(n,["metadata"],i);const a=g(e,["done"]);a!=null&&y(n,["done"],a);const l=g(e,["error"]);l!=null&&y(n,["error"],l);const u=g(e,["response","generateVideoResponse"]);return u!=null&&y(n,["response"],Foe(u)),n}function $oe(e,t){const n={},r=g(e,["name"]);r!=null&&y(n,["name"],r);const i=g(e,["metadata"]);i!=null&&y(n,["metadata"],i);const a=g(e,["done"]);a!=null&&y(n,["done"],a);const l=g(e,["error"]);l!=null&&y(n,["error"],l);const u=g(e,["response"]);return u!=null&&y(n,["response"],Goe(u)),n}function Boe(e,t,n){const r={},i=g(t,["model"]);i!=null&&y(r,["_url","model"],tt(e,i));const a=g(t,["prompt"]);a!=null&&y(r,["instances[0]","prompt"],a);const l=g(t,["image"]);l!=null&&y(r,["instances[0]","image"],Jp(l));const u=g(t,["video"]);u!=null&&y(r,["instances[0]","video"],CL(u));const f=g(t,["source"]);f!=null&&Hoe(f,r);const d=g(t,["config"]);return d!=null&&Loe(d,r),r}function qoe(e,t,n){const r={},i=g(t,["model"]);i!=null&&y(r,["_url","model"],tt(e,i));const a=g(t,["prompt"]);a!=null&&y(r,["instances[0]","prompt"],a);const l=g(t,["image"]);l!=null&&y(r,["instances[0]","image"],Fr(l));const u=g(t,["video"]);u!=null&&y(r,["instances[0]","video"],NL(u));const f=g(t,["source"]);f!=null&&Voe(f,r);const d=g(t,["config"]);return d!=null&&Uoe(d,r),r}function Foe(e,t){const n={},r=g(e,["generatedSamples"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Woe(u))),y(n,["generatedVideos"],l)}const i=g(e,["raiMediaFilteredCount"]);i!=null&&y(n,["raiMediaFilteredCount"],i);const a=g(e,["raiMediaFilteredReasons"]);return a!=null&&y(n,["raiMediaFilteredReasons"],a),n}function Goe(e,t){const n={},r=g(e,["videos"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Joe(u))),y(n,["generatedVideos"],l)}const i=g(e,["raiMediaFilteredCount"]);i!=null&&y(n,["raiMediaFilteredCount"],i);const a=g(e,["raiMediaFilteredReasons"]);return a!=null&&y(n,["raiMediaFilteredReasons"],a),n}function Hoe(e,t,n){const r={},i=g(e,["prompt"]);t!==void 0&&i!=null&&y(t,["instances[0]","prompt"],i);const a=g(e,["image"]);t!==void 0&&a!=null&&y(t,["instances[0]","image"],Jp(a));const l=g(e,["video"]);return t!==void 0&&l!=null&&y(t,["instances[0]","video"],CL(l)),r}function Voe(e,t,n){const r={},i=g(e,["prompt"]);t!==void 0&&i!=null&&y(t,["instances[0]","prompt"],i);const a=g(e,["image"]);t!==void 0&&a!=null&&y(t,["instances[0]","image"],Fr(a));const l=g(e,["video"]);return t!==void 0&&l!=null&&y(t,["instances[0]","video"],NL(l)),r}function Koe(e,t){const n={},r=g(e,["_self"]);r!=null&&y(n,["image"],ise(r));const i=g(e,["raiFilteredReason"]);i!=null&&y(n,["raiFilteredReason"],i);const a=g(e,["_self"]);return a!=null&&y(n,["safetyAttributes"],EL(a)),n}function Wp(e,t){const n={},r=g(e,["_self"]);r!=null&&y(n,["image"],SL(r));const i=g(e,["raiFilteredReason"]);i!=null&&y(n,["raiFilteredReason"],i);const a=g(e,["_self"]);a!=null&&y(n,["safetyAttributes"],TL(a));const l=g(e,["prompt"]);return l!=null&&y(n,["enhancedPrompt"],l),n}function Yoe(e,t){const n={},r=g(e,["_self"]);r!=null&&y(n,["mask"],SL(r));const i=g(e,["labels"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(n,["labels"],a)}return n}function Woe(e,t){const n={},r=g(e,["video"]);return r!=null&&y(n,["video"],jse(r)),n}function Joe(e,t){const n={},r=g(e,["_self"]);return r!=null&&y(n,["video"],Lse(r)),n}function Xoe(e,t){const n={},r=g(e,["modelSelectionConfig"]);r!=null&&y(n,["modelConfig"],r);const i=g(e,["responseJsonSchema"]);i!=null&&y(n,["responseJsonSchema"],i);const a=g(e,["audioTimestamp"]);a!=null&&y(n,["audioTimestamp"],a);const l=g(e,["candidateCount"]);l!=null&&y(n,["candidateCount"],l);const u=g(e,["enableAffectiveDialog"]);u!=null&&y(n,["enableAffectiveDialog"],u);const f=g(e,["frequencyPenalty"]);f!=null&&y(n,["frequencyPenalty"],f);const d=g(e,["logprobs"]);d!=null&&y(n,["logprobs"],d);const h=g(e,["maxOutputTokens"]);h!=null&&y(n,["maxOutputTokens"],h);const m=g(e,["mediaResolution"]);m!=null&&y(n,["mediaResolution"],m);const v=g(e,["presencePenalty"]);v!=null&&y(n,["presencePenalty"],v);const _=g(e,["responseLogprobs"]);_!=null&&y(n,["responseLogprobs"],_);const S=g(e,["responseMimeType"]);S!=null&&y(n,["responseMimeType"],S);const E=g(e,["responseModalities"]);E!=null&&y(n,["responseModalities"],E);const T=g(e,["responseSchema"]);T!=null&&y(n,["responseSchema"],T);const C=g(e,["routingConfig"]);C!=null&&y(n,["routingConfig"],C);const P=g(e,["seed"]);P!=null&&y(n,["seed"],P);const I=g(e,["speechConfig"]);I!=null&&y(n,["speechConfig"],I);const O=g(e,["stopSequences"]);O!=null&&y(n,["stopSequences"],O);const R=g(e,["temperature"]);R!=null&&y(n,["temperature"],R);const D=g(e,["thinkingConfig"]);D!=null&&y(n,["thinkingConfig"],D);const M=g(e,["topK"]);M!=null&&y(n,["topK"],M);const z=g(e,["topP"]);if(z!=null&&y(n,["topP"],z),g(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function Zoe(e,t,n){const r={},i=g(t,["model"]);return i!=null&&y(r,["_url","name"],tt(e,i)),r}function Qoe(e,t,n){const r={},i=g(t,["model"]);return i!=null&&y(r,["_url","name"],tt(e,i)),r}function ese(e,t){const n={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=g(e,["enableWidget"]);return r!=null&&y(n,["enableWidget"],r),n}function tse(e,t){const n={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=g(e,["timeRangeFilter"]);return r!=null&&y(n,["timeRangeFilter"],r),n}function nse(e,t){const n={},r=g(e,["aspectRatio"]);r!=null&&y(n,["aspectRatio"],r);const i=g(e,["imageSize"]);if(i!=null&&y(n,["imageSize"],i),g(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(g(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function rse(e,t){const n={},r=g(e,["aspectRatio"]);r!=null&&y(n,["aspectRatio"],r);const i=g(e,["imageSize"]);i!=null&&y(n,["imageSize"],i);const a=g(e,["personGeneration"]);a!=null&&y(n,["personGeneration"],a);const l=g(e,["outputMimeType"]);l!=null&&y(n,["imageOutputOptions","mimeType"],l);const u=g(e,["outputCompressionQuality"]);return u!=null&&y(n,["imageOutputOptions","compressionQuality"],u),n}function ise(e,t){const n={},r=g(e,["bytesBase64Encoded"]);r!=null&&y(n,["imageBytes"],Ga(r));const i=g(e,["mimeType"]);return i!=null&&y(n,["mimeType"],i),n}function SL(e,t){const n={},r=g(e,["gcsUri"]);r!=null&&y(n,["gcsUri"],r);const i=g(e,["bytesBase64Encoded"]);i!=null&&y(n,["imageBytes"],Ga(i));const a=g(e,["mimeType"]);return a!=null&&y(n,["mimeType"],a),n}function Jp(e,t){const n={};if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=g(e,["imageBytes"]);r!=null&&y(n,["bytesBase64Encoded"],Ga(r));const i=g(e,["mimeType"]);return i!=null&&y(n,["mimeType"],i),n}function Fr(e,t){const n={},r=g(e,["gcsUri"]);r!=null&&y(n,["gcsUri"],r);const i=g(e,["imageBytes"]);i!=null&&y(n,["bytesBase64Encoded"],Ga(i));const a=g(e,["mimeType"]);return a!=null&&y(n,["mimeType"],a),n}function ase(e,t,n,r){const i={},a=g(t,["pageSize"]);n!==void 0&&a!=null&&y(n,["_query","pageSize"],a);const l=g(t,["pageToken"]);n!==void 0&&l!=null&&y(n,["_query","pageToken"],l);const u=g(t,["filter"]);n!==void 0&&u!=null&&y(n,["_query","filter"],u);const f=g(t,["queryBase"]);return n!==void 0&&f!=null&&y(n,["_url","models_url"],gL(e,f)),i}function ose(e,t,n,r){const i={},a=g(t,["pageSize"]);n!==void 0&&a!=null&&y(n,["_query","pageSize"],a);const l=g(t,["pageToken"]);n!==void 0&&l!=null&&y(n,["_query","pageToken"],l);const u=g(t,["filter"]);n!==void 0&&u!=null&&y(n,["_query","filter"],u);const f=g(t,["queryBase"]);return n!==void 0&&f!=null&&y(n,["_url","models_url"],gL(e,f)),i}function sse(e,t,n){const r={},i=g(t,["config"]);return i!=null&&ase(e,i,r),r}function lse(e,t,n){const r={},i=g(t,["config"]);return i!=null&&ose(e,i,r),r}function use(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const a=g(e,["_self"]);if(a!=null){let l=vL(a);Array.isArray(l)&&(l=l.map(u=>Mb(u))),y(n,["models"],l)}return n}function cse(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const a=g(e,["_self"]);if(a!=null){let l=vL(a);Array.isArray(l)&&(l=l.map(u=>Db(u))),y(n,["models"],l)}return n}function dse(e,t){const n={},r=g(e,["maskMode"]);r!=null&&y(n,["maskMode"],r);const i=g(e,["segmentationClasses"]);i!=null&&y(n,["maskClasses"],i);const a=g(e,["maskDilation"]);return a!=null&&y(n,["dilation"],a),n}function Mb(e,t){const n={},r=g(e,["name"]);r!=null&&y(n,["name"],r);const i=g(e,["displayName"]);i!=null&&y(n,["displayName"],i);const a=g(e,["description"]);a!=null&&y(n,["description"],a);const l=g(e,["version"]);l!=null&&y(n,["version"],l);const u=g(e,["_self"]);u!=null&&y(n,["tunedModelInfo"],Cse(u));const f=g(e,["inputTokenLimit"]);f!=null&&y(n,["inputTokenLimit"],f);const d=g(e,["outputTokenLimit"]);d!=null&&y(n,["outputTokenLimit"],d);const h=g(e,["supportedGenerationMethods"]);h!=null&&y(n,["supportedActions"],h);const m=g(e,["temperature"]);m!=null&&y(n,["temperature"],m);const v=g(e,["maxTemperature"]);v!=null&&y(n,["maxTemperature"],v);const _=g(e,["topP"]);_!=null&&y(n,["topP"],_);const S=g(e,["topK"]);S!=null&&y(n,["topK"],S);const E=g(e,["thinking"]);return E!=null&&y(n,["thinking"],E),n}function Db(e,t){const n={},r=g(e,["name"]);r!=null&&y(n,["name"],r);const i=g(e,["displayName"]);i!=null&&y(n,["displayName"],i);const a=g(e,["description"]);a!=null&&y(n,["description"],a);const l=g(e,["versionId"]);l!=null&&y(n,["version"],l);const u=g(e,["deployedModels"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(_=>Eoe(_))),y(n,["endpoints"],v)}const f=g(e,["labels"]);f!=null&&y(n,["labels"],f);const d=g(e,["_self"]);d!=null&&y(n,["tunedModelInfo"],Nse(d));const h=g(e,["defaultCheckpointId"]);h!=null&&y(n,["defaultCheckpointId"],h);const m=g(e,["checkpoints"]);if(m!=null){let v=m;Array.isArray(v)&&(v=v.map(_=>_)),y(n,["checkpoints"],v)}return n}function fse(e,t){const n={},r=g(e,["mediaResolution"]);r!=null&&y(n,["mediaResolution"],r);const i=g(e,["codeExecutionResult"]);i!=null&&y(n,["codeExecutionResult"],i);const a=g(e,["executableCode"]);a!=null&&y(n,["executableCode"],a);const l=g(e,["fileData"]);l!=null&&y(n,["fileData"],Toe(l));const u=g(e,["functionCall"]);u!=null&&y(n,["functionCall"],Aoe(u));const f=g(e,["functionResponse"]);f!=null&&y(n,["functionResponse"],f);const d=g(e,["inlineData"]);d!=null&&y(n,["inlineData"],Xae(d));const h=g(e,["text"]);h!=null&&y(n,["text"],h);const m=g(e,["thought"]);m!=null&&y(n,["thought"],m);const v=g(e,["thoughtSignature"]);v!=null&&y(n,["thoughtSignature"],v);const _=g(e,["videoMetadata"]);return _!=null&&y(n,["videoMetadata"],_),n}function hse(e,t){const n={},r=g(e,["productImage"]);return r!=null&&y(n,["image"],Fr(r)),n}function pse(e,t,n){const r={},i=g(e,["numberOfImages"]);t!==void 0&&i!=null&&y(t,["parameters","sampleCount"],i);const a=g(e,["baseSteps"]);t!==void 0&&a!=null&&y(t,["parameters","baseSteps"],a);const l=g(e,["outputGcsUri"]);t!==void 0&&l!=null&&y(t,["parameters","storageUri"],l);const u=g(e,["seed"]);t!==void 0&&u!=null&&y(t,["parameters","seed"],u);const f=g(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&y(t,["parameters","safetySetting"],f);const d=g(e,["personGeneration"]);t!==void 0&&d!=null&&y(t,["parameters","personGeneration"],d);const h=g(e,["addWatermark"]);t!==void 0&&h!=null&&y(t,["parameters","addWatermark"],h);const m=g(e,["outputMimeType"]);t!==void 0&&m!=null&&y(t,["parameters","outputOptions","mimeType"],m);const v=g(e,["outputCompressionQuality"]);t!==void 0&&v!=null&&y(t,["parameters","outputOptions","compressionQuality"],v);const _=g(e,["enhancePrompt"]);t!==void 0&&_!=null&&y(t,["parameters","enhancePrompt"],_);const S=g(e,["labels"]);return t!==void 0&&S!=null&&y(t,["labels"],S),r}function mse(e,t,n){const r={},i=g(t,["model"]);i!=null&&y(r,["_url","model"],tt(e,i));const a=g(t,["source"]);a!=null&&vse(a,r);const l=g(t,["config"]);return l!=null&&pse(l,r),r}function gse(e,t){const n={},r=g(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Wp(a))),y(n,["generatedImages"],i)}return n}function vse(e,t,n){const r={},i=g(e,["prompt"]);t!==void 0&&i!=null&&y(t,["instances[0]","prompt"],i);const a=g(e,["personImage"]);t!==void 0&&a!=null&&y(t,["instances[0]","personImage","image"],Fr(a));const l=g(e,["productImages"]);if(t!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>hse(f))),y(t,["instances[0]","productImages"],u)}return r}function yse(e,t){const n={},r=g(e,["referenceImage"]);r!=null&&y(n,["referenceImage"],Fr(r));const i=g(e,["referenceId"]);i!=null&&y(n,["referenceId"],i);const a=g(e,["referenceType"]);a!=null&&y(n,["referenceType"],a);const l=g(e,["maskImageConfig"]);l!=null&&y(n,["maskImageConfig"],dse(l));const u=g(e,["controlImageConfig"]);u!=null&&y(n,["controlImageConfig"],ioe(u));const f=g(e,["styleImageConfig"]);f!=null&&y(n,["styleImageConfig"],f);const d=g(e,["subjectImageConfig"]);return d!=null&&y(n,["subjectImageConfig"],d),n}function EL(e,t){const n={},r=g(e,["safetyAttributes","categories"]);r!=null&&y(n,["categories"],r);const i=g(e,["safetyAttributes","scores"]);i!=null&&y(n,["scores"],i);const a=g(e,["contentType"]);return a!=null&&y(n,["contentType"],a),n}function TL(e,t){const n={},r=g(e,["safetyAttributes","categories"]);r!=null&&y(n,["categories"],r);const i=g(e,["safetyAttributes","scores"]);i!=null&&y(n,["scores"],i);const a=g(e,["contentType"]);return a!=null&&y(n,["contentType"],a),n}function bse(e,t){const n={},r=g(e,["category"]);if(r!=null&&y(n,["category"],r),g(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=g(e,["threshold"]);return i!=null&&y(n,["threshold"],i),n}function xse(e,t){const n={},r=g(e,["image"]);return r!=null&&y(n,["image"],Fr(r)),n}function _se(e,t,n){const r={},i=g(e,["mode"]);t!==void 0&&i!=null&&y(t,["parameters","mode"],i);const a=g(e,["maxPredictions"]);t!==void 0&&a!=null&&y(t,["parameters","maxPredictions"],a);const l=g(e,["confidenceThreshold"]);t!==void 0&&l!=null&&y(t,["parameters","confidenceThreshold"],l);const u=g(e,["maskDilation"]);t!==void 0&&u!=null&&y(t,["parameters","maskDilation"],u);const f=g(e,["binaryColorThreshold"]);t!==void 0&&f!=null&&y(t,["parameters","binaryColorThreshold"],f);const d=g(e,["labels"]);return t!==void 0&&d!=null&&y(t,["labels"],d),r}function wse(e,t,n){const r={},i=g(t,["model"]);i!=null&&y(r,["_url","model"],tt(e,i));const a=g(t,["source"]);a!=null&&Ese(a,r);const l=g(t,["config"]);return l!=null&&_se(l,r),r}function Sse(e,t){const n={},r=g(e,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>Yoe(a))),y(n,["generatedMasks"],i)}return n}function Ese(e,t,n){const r={},i=g(e,["prompt"]);t!==void 0&&i!=null&&y(t,["instances[0]","prompt"],i);const a=g(e,["image"]);t!==void 0&&a!=null&&y(t,["instances[0]","image"],Fr(a));const l=g(e,["scribbleImage"]);return t!==void 0&&l!=null&&y(t,["instances[0]","scribble"],xse(l)),r}function Tse(e,t){const n={},r=g(e,["retrievalConfig"]);r!=null&&y(n,["retrievalConfig"],r);const i=g(e,["functionCallingConfig"]);return i!=null&&y(n,["functionCallingConfig"],Coe(i)),n}function Ase(e,t){const n={};if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(e,["computerUse"]);r!=null&&y(n,["computerUse"],r);const i=g(e,["fileSearch"]);i!=null&&y(n,["fileSearch"],i);const a=g(e,["codeExecution"]);if(a!=null&&y(n,["codeExecution"],a),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=g(e,["functionDeclarations"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(v=>v)),y(n,["functionDeclarations"],m)}const u=g(e,["googleMaps"]);u!=null&&y(n,["googleMaps"],ese(u));const f=g(e,["googleSearch"]);f!=null&&y(n,["googleSearch"],tse(f));const d=g(e,["googleSearchRetrieval"]);d!=null&&y(n,["googleSearchRetrieval"],d);const h=g(e,["urlContext"]);return h!=null&&y(n,["urlContext"],h),n}function AL(e,t){const n={},r=g(e,["retrieval"]);r!=null&&y(n,["retrieval"],r);const i=g(e,["computerUse"]);if(i!=null&&y(n,["computerUse"],i),g(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=g(e,["codeExecution"]);a!=null&&y(n,["codeExecution"],a);const l=g(e,["enterpriseWebSearch"]);l!=null&&y(n,["enterpriseWebSearch"],l);const u=g(e,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(_=>Noe(_))),y(n,["functionDeclarations"],v)}const f=g(e,["googleMaps"]);f!=null&&y(n,["googleMaps"],f);const d=g(e,["googleSearch"]);d!=null&&y(n,["googleSearch"],d);const h=g(e,["googleSearchRetrieval"]);h!=null&&y(n,["googleSearchRetrieval"],h);const m=g(e,["urlContext"]);return m!=null&&y(n,["urlContext"],m),n}function Cse(e,t){const n={},r=g(e,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=g(e,["createTime"]);i!=null&&y(n,["createTime"],i);const a=g(e,["updateTime"]);return a!=null&&y(n,["updateTime"],a),n}function Nse(e,t){const n={},r=g(e,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&y(n,["baseModel"],r);const i=g(e,["createTime"]);i!=null&&y(n,["createTime"],i);const a=g(e,["updateTime"]);return a!=null&&y(n,["updateTime"],a),n}function Ose(e,t,n){const r={},i=g(e,["displayName"]);t!==void 0&&i!=null&&y(t,["displayName"],i);const a=g(e,["description"]);t!==void 0&&a!=null&&y(t,["description"],a);const l=g(e,["defaultCheckpointId"]);return t!==void 0&&l!=null&&y(t,["defaultCheckpointId"],l),r}function Ise(e,t,n){const r={},i=g(e,["displayName"]);t!==void 0&&i!=null&&y(t,["displayName"],i);const a=g(e,["description"]);t!==void 0&&a!=null&&y(t,["description"],a);const l=g(e,["defaultCheckpointId"]);return t!==void 0&&l!=null&&y(t,["defaultCheckpointId"],l),r}function Pse(e,t,n){const r={},i=g(t,["model"]);i!=null&&y(r,["_url","name"],tt(e,i));const a=g(t,["config"]);return a!=null&&Ose(a,r),r}function Rse(e,t,n){const r={},i=g(t,["model"]);i!=null&&y(r,["_url","model"],tt(e,i));const a=g(t,["config"]);return a!=null&&Ise(a,r),r}function Mse(e,t,n){const r={},i=g(e,["outputGcsUri"]);t!==void 0&&i!=null&&y(t,["parameters","storageUri"],i);const a=g(e,["safetyFilterLevel"]);t!==void 0&&a!=null&&y(t,["parameters","safetySetting"],a);const l=g(e,["personGeneration"]);t!==void 0&&l!=null&&y(t,["parameters","personGeneration"],l);const u=g(e,["includeRaiReason"]);t!==void 0&&u!=null&&y(t,["parameters","includeRaiReason"],u);const f=g(e,["outputMimeType"]);t!==void 0&&f!=null&&y(t,["parameters","outputOptions","mimeType"],f);const d=g(e,["outputCompressionQuality"]);t!==void 0&&d!=null&&y(t,["parameters","outputOptions","compressionQuality"],d);const h=g(e,["enhanceInputImage"]);t!==void 0&&h!=null&&y(t,["parameters","upscaleConfig","enhanceInputImage"],h);const m=g(e,["imagePreservationFactor"]);t!==void 0&&m!=null&&y(t,["parameters","upscaleConfig","imagePreservationFactor"],m);const v=g(e,["labels"]);t!==void 0&&v!=null&&y(t,["labels"],v);const _=g(e,["numberOfImages"]);t!==void 0&&_!=null&&y(t,["parameters","sampleCount"],_);const S=g(e,["mode"]);return t!==void 0&&S!=null&&y(t,["parameters","mode"],S),r}function Dse(e,t,n){const r={},i=g(t,["model"]);i!=null&&y(r,["_url","model"],tt(e,i));const a=g(t,["image"]);a!=null&&y(r,["instances[0]","image"],Fr(a));const l=g(t,["upscaleFactor"]);l!=null&&y(r,["parameters","upscaleConfig","upscaleFactor"],l);const u=g(t,["config"]);return u!=null&&Mse(u,r),r}function kse(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>Wp(l))),y(n,["generatedImages"],a)}return n}function jse(e,t){const n={},r=g(e,["uri"]);r!=null&&y(n,["uri"],r);const i=g(e,["encodedVideo"]);i!=null&&y(n,["videoBytes"],Ga(i));const a=g(e,["encoding"]);return a!=null&&y(n,["mimeType"],a),n}function Lse(e,t){const n={},r=g(e,["gcsUri"]);r!=null&&y(n,["uri"],r);const i=g(e,["bytesBase64Encoded"]);i!=null&&y(n,["videoBytes"],Ga(i));const a=g(e,["mimeType"]);return a!=null&&y(n,["mimeType"],a),n}function Use(e,t){const n={},r=g(e,["image"]);r!=null&&y(n,["_self"],Fr(r));const i=g(e,["maskMode"]);return i!=null&&y(n,["maskMode"],i),n}function zse(e,t){const n={},r=g(e,["image"]);r!=null&&y(n,["image"],Jp(r));const i=g(e,["referenceType"]);return i!=null&&y(n,["referenceType"],i),n}function $se(e,t){const n={},r=g(e,["image"]);r!=null&&y(n,["image"],Fr(r));const i=g(e,["referenceType"]);return i!=null&&y(n,["referenceType"],i),n}function CL(e,t){const n={},r=g(e,["uri"]);r!=null&&y(n,["uri"],r);const i=g(e,["videoBytes"]);i!=null&&y(n,["encodedVideo"],Ga(i));const a=g(e,["mimeType"]);return a!=null&&y(n,["encoding"],a),n}function NL(e,t){const n={},r=g(e,["uri"]);r!=null&&y(n,["gcsUri"],r);const i=g(e,["videoBytes"]);i!=null&&y(n,["bytesBase64Encoded"],Ga(i));const a=g(e,["mimeType"]);return a!=null&&y(n,["mimeType"],a),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Bse(e,t){const n={},r=g(e,["displayName"]);return t!==void 0&&r!=null&&y(t,["displayName"],r),n}function qse(e){const t={},n=g(e,["config"]);return n!=null&&Bse(n,t),t}function Fse(e,t){const n={},r=g(e,["force"]);return t!==void 0&&r!=null&&y(t,["_query","force"],r),n}function Gse(e){const t={},n=g(e,["name"]);n!=null&&y(t,["_url","name"],n);const r=g(e,["config"]);return r!=null&&Fse(r,t),t}function Hse(e){const t={},n=g(e,["name"]);return n!=null&&y(t,["_url","name"],n),t}function Vse(e,t){const n={},r=g(e,["customMetadata"]);if(t!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["customMetadata"],a)}const i=g(e,["chunkingConfig"]);return t!==void 0&&i!=null&&y(t,["chunkingConfig"],i),n}function Kse(e){const t={},n=g(e,["name"]);n!=null&&y(t,["name"],n);const r=g(e,["metadata"]);r!=null&&y(t,["metadata"],r);const i=g(e,["done"]);i!=null&&y(t,["done"],i);const a=g(e,["error"]);a!=null&&y(t,["error"],a);const l=g(e,["response"]);return l!=null&&y(t,["response"],Wse(l)),t}function Yse(e){const t={},n=g(e,["fileSearchStoreName"]);n!=null&&y(t,["_url","file_search_store_name"],n);const r=g(e,["fileName"]);r!=null&&y(t,["fileName"],r);const i=g(e,["config"]);return i!=null&&Vse(i,t),t}function Wse(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["parent"]);r!=null&&y(t,["parent"],r);const i=g(e,["documentName"]);return i!=null&&y(t,["documentName"],i),t}function Jse(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function Xse(e){const t={},n=g(e,["config"]);return n!=null&&Jse(n,t),t}function Zse(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=g(e,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["fileSearchStores"],a)}return t}function OL(e,t){const n={},r=g(e,["mimeType"]);t!==void 0&&r!=null&&y(t,["mimeType"],r);const i=g(e,["displayName"]);t!==void 0&&i!=null&&y(t,["displayName"],i);const a=g(e,["customMetadata"]);if(t!==void 0&&a!=null){let u=a;Array.isArray(u)&&(u=u.map(f=>f)),y(t,["customMetadata"],u)}const l=g(e,["chunkingConfig"]);return t!==void 0&&l!=null&&y(t,["chunkingConfig"],l),n}function Qse(e){const t={},n=g(e,["fileSearchStoreName"]);n!=null&&y(t,["_url","file_search_store_name"],n);const r=g(e,["config"]);return r!=null&&OL(r,t),t}function ele(e){const t={},n=g(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tle="Content-Type",nle="X-Server-Timeout",rle="User-Agent",kb="x-goog-api-client",ile="1.40.0",ale=`google-genai-sdk/${ile}`,ole="v1beta1",sle="v1beta";class lle{constructor(t){var n,r,i;this.clientOptions=Object.assign({},t),this.customBaseUrl=(n=t.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const a={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const u=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!u?(a.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?a.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(a.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),a.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:ole}else{if(!this.clientOptions.apiKey)throw new gc({message:"API key must be set when using the Gemini API.",status:403});a.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:sle,a.baseUrl="https://generativelanguage.googleapis.com/"}a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),t!==""&&i.push(t),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(t,n){return!(n.baseUrl&&n.baseUrlResourceScope===Ob.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t,n),i=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[l,u]of Object.entries(t.queryParams))i.searchParams.append(l,String(u));let a={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=t.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),t.abortSignal),this.unaryApiCall(i,a,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t,n),i=this.constructUrl(t.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=t.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),t.abortSignal),this.streamApiCall(i,a,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,i){if(n&&n.timeout||i){const a=new AbortController,l=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>a.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),t.signal=l}return n&&n.extraBody!==null&&ule(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await fR(i),new Ib(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await fR(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(t){return Lr(this,arguments,function*(){var r;const i=(r=t==null?void 0:t.body)===null||r===void 0?void 0:r.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";const u="data:",f=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:h}=yield je(i.read());if(d){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=a.decode(h,{stream:!0});try{const S=JSON.parse(m);if("error"in S){const E=JSON.parse(JSON.stringify(S.error)),T=E.status,C=E.code,P=`got status: ${T}. ${JSON.stringify(S)}`;if(C>=400&&C<600)throw new gc({message:P,status:C})}}catch(S){if(S.name==="ApiError")throw S}l+=m;let v=-1,_=0;for(;;){v=-1,_=0;for(const T of f){const C=l.indexOf(T);C!==-1&&(v===-1||C<v)&&(v=C,_=T.length)}if(v===-1)break;const S=l.substring(0,v);l=l.substring(v+_);const E=S.trim();if(E.startsWith(u)){const T=E.substring(u.length).trim();try{const C=new Response(T,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield je(new Ib(C))}catch(C){throw new Error(`exception parsing stream chunk ${T}. ${C}`)}}}}}finally{i.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=ale+" "+this.clientOptions.userAgentExtra;return t[rle]=n,t[kb]=n,t[tle]="application/json",t}async getHeadersInternal(t,n){const r=new Headers;if(t&&t.headers){for(const[i,a]of Object.entries(t.headers))r.append(i,a);t.timeout&&t.timeout>0&&r.append(nle,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(t){var n;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(t,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,l=await a.stat(t);i.sizeBytes=String(l.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const f={file:i},d=this.getFileName(t),h=ye("upload/v1beta/files",f._url),m=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,d,f,n==null?void 0:n.httpOptions);return a.upload(t,m,this)}async uploadFileToFileSearchStore(t,n,r){var i;const a=this.clientOptions.uploader,l=await a.stat(n),u=String(l.size),f=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:l.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${t}:uploadToFileSearchStore`,h=this.getFileName(n),m={};r!=null&&OL(r,m);const v=await this.fetchUploadUrl(d,u,f,h,m,r==null?void 0:r.httpOptions);return a.uploadToFileSearchStore(n,v,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,r,i,a,l){var u;let f={};l?f=l:f={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:t,body:JSON.stringify(a),httpMethod:"POST",httpOptions:f});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(u=d==null?void 0:d.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function fR(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new gc({message:i,status:n}):new Error(i)}}function ule(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const a=JSON.parse(e.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,l){const u=Object.assign({},a);for(const f in l)if(Object.prototype.hasOwnProperty.call(l,f)){const d=l[f],h=u[f];d&&typeof d=="object"&&!Array.isArray(d)&&h&&typeof h=="object"&&!Array.isArray(h)?u[f]=r(h,d):(h&&d&&typeof h!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof h}, New type: ${typeof d}. Overwriting.`),u[f]=d)}return u}const i=r(n,t);e.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cle="mcp_used/unknown";let dle=!1;function IL(e){for(const t of e)if(fle(t)||typeof t=="object"&&"inputSchema"in t)return!0;return dle}function PL(e){var t;const n=(t=e[kb])!==null&&t!==void 0?t:"";e[kb]=(n+` ${cle}`).trimStart()}function fle(e){return e!==null&&typeof e=="object"&&e instanceof ew}function hle(e){return Lr(this,arguments,function*(n,r=100){let i,a=0;for(;a<r;){const l=yield je(n.listTools({cursor:i}));for(const u of l.tools)yield yield je(u),a++;if(!l.nextCursor)break;i=l.nextCursor}})}class ew{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new ew(t,n)}async initialize(){var t,n,r,i;if(this.mcpTools.length>0)return;const a={},l=[];for(const h of this.mcpClients)try{for(var u=!0,f=(n=void 0,Ur(hle(h))),d;d=await f.next(),t=d.done,!t;u=!0){i=d.value,u=!1;const m=i;l.push(m);const v=m.name;if(a[v])throw new Error(`Duplicate function name ${v} found in MCP tools. Please ensure function names are unique.`);a[v]=h}}catch(m){n={error:m}}finally{try{!u&&!t&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}this.mcpTools=l,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),qre(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const l=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function ple(e,t,n){const r=new Dre;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),t(r)}class mle{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),l=yle(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),f=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const h=new Promise(I=>{d=I}),m=t.callbacks,v=function(){d({})},_=this.apiClient,S={onopen:v,onmessage:I=>{ple(_,m.onmessage,I)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(I){},onclose:(r=m==null?void 0:m.onclose)!==null&&r!==void 0?r:function(I){}},E=this.webSocketFactory.create(f,vle(l),S);E.connect(),await h;const P={setup:{model:tt(this.apiClient,t.model)}};return E.send(JSON.stringify(P)),new gle(E,this.apiClient)}}class gle{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Bae(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=$ae(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Zs.PLAY)}pause(){this.sendPlaybackControl(Zs.PAUSE)}stop(){this.sendPlaybackControl(Zs.STOP)}resetContext(){this.sendPlaybackControl(Zs.RESET_CONTEXT)}close(){this.conn.close()}}function vle(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function yle(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ble="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function xle(e,t,n){const r=new Mre;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(e.isVertexAI()){const l=Gae(a);Object.assign(r,l)}else Object.assign(r,a);t(r)}class _le{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new mle(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,i,a,l,u;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let h;const m=this.apiClient.getHeaders();t.config&&t.config.tools&&IL(t.config.tools)&&PL(m);const v=Tle(m);if(this.apiClient.isVertexAI()){const U=this.apiClient.getProject(),K=this.apiClient.getLocation(),L=this.apiClient.getApiKey(),q=!!U&&!!K||!!L;this.apiClient.getCustomBaseUrl()&&!q?h=f:(h=`${f}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(v,h))}else{const U=this.apiClient.getApiKey();let K="BidiGenerateContent",L="key";U!=null&&U.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),K="BidiGenerateContentConstrained",L="access_token"),h=`${f}/ws/google.ai.generativelanguage.${d}.GenerativeService.${K}?${L}=${U}`}let _=()=>{};const S=new Promise(U=>{_=U}),E=t.callbacks,T=function(){var U;(U=E==null?void 0:E.onopen)===null||U===void 0||U.call(E),_({})},C=this.apiClient,P={onopen:T,onmessage:U=>{xle(C,E.onmessage,U)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(U){},onclose:(r=E==null?void 0:E.onclose)!==null&&r!==void 0?r:function(U){}},I=this.webSocketFactory.create(h,Ele(v),P);I.connect(),await S;let O=tt(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&O.startsWith("publishers/")){const U=this.apiClient.getProject(),K=this.apiClient.getLocation();U&&K&&(O=`projects/${U}/locations/${K}/`+O)}let R={};this.apiClient.isVertexAI()&&((i=t.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Vh.AUDIO]}:t.config.responseModalities=[Vh.AUDIO]),!((a=t.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const D=(u=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],M=[];for(const U of D)if(this.isCallableTool(U)){const K=U;M.push(await K.tool())}else M.push(U);M.length>0&&(t.config.tools=M);const z={model:O,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?R=zae(this.apiClient,z):R=Uae(this.apiClient,z),delete R.config,I.send(JSON.stringify(R)),new Sle(I,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const wle={turnComplete:!0};class Sle{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=_r(n.turns),t.isVertexAI()||(r=r.map(i=>Yp(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!t.isVertexAI()&&!("id"in a))throw new Error(ble)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},wle),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Fae(t)}:n={realtimeInput:qae(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Ele(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function Tle(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hR=10;function pR(e){var t,n,r;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let i=!1;for(const l of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(ol(l)){i=!0;break}if(!i)return!0;const a=(r=e==null?void 0:e.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function ol(e){return"callTool"in e&&typeof e.callTool=="function"}function Ale(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(i=>ol(i)))!==null&&r!==void 0?r:!1}function mR(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((r,i)=>{if(ol(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(i)}),n}function gR(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cle extends Ji{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var r,i,a,l,u;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!Ale(n)||pR(n.config))return await this.generateContentInternal(f);const d=mR(n);if(d.length>0){const E=d.map(T=>`tools[${T}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${E}.`)}let h,m;const v=_r(f.contents),_=(a=(i=(r=f.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:hR;let S=0;for(;S<_&&(h=await this.generateContentInternal(f),!(!h.functionCalls||h.functionCalls.length===0));){const E=h.candidates[0].content,T=[];for(const C of(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(ol(C)){const I=await C.callTool(h.functionCalls);T.push(...I)}S++,m={role:"user",parts:T},f.contents=_r(f.contents),f.contents.push(E),f.contents.push(m),gR(f.config)&&(v.push(E),v.push(m))}return gR(f.config)&&(h.automaticFunctionCallingHistory=v),h},this.generateContentStream=async n=>{var r,i,a,l,u;if(this.maybeMoveToResponseJsonSchem(n),pR(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const f=mR(n);if(f.length>0){const m=f.map(v=>`tools[${v}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(a=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,h=(u=(l=n==null?void 0:n.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(d&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const l=[];if(r!=null&&r.generatedImages)for(const f of r.generatedImages)f&&(f!=null&&f.safetyAttributes)&&((i=f==null?void 0:f.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=f==null?void 0:f.safetyAttributes:l.push(f);let u;return a?u={generatedImages:l,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new Fo(Bi.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,a,l,u,f;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((l=(a=n.source)===null||a===void 0?void 0:a.video)===null||l===void 0)&&l.uri&&(!((f=(u=n.source)===null||u===void 0?void 0:u.video)===null||f===void 0)&&f.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,i;const a=(n=t.config)===null||n===void 0?void 0:n.tools;if(!a)return t;const l=await Promise.all(a.map(async f=>ol(f)?await f.tool():f)),u={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:l})};if(u.config.tools=l,t.config&&t.config.tools&&IL(t.config.tools)){const f=(i=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},f);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),PL(d),u.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(t){var n,r,i;const a=new Map;for(const l of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(ol(l)){const u=l,f=await u.tool();for(const d of(i=f.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(a.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);a.set(d.name,u)}}return a}async processAfcStream(t){var n,r,i;const a=(i=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:hR;let l=!1,u=0;const f=await this.initAfcToolsMap(t);return(function(d,h,m){return Lr(this,arguments,function*(){for(var v,_,S,E,T,C;u<a;){l&&(u++,l=!1);const R=yield je(d.processParamsMaybeAddMcpUsage(m)),D=yield je(d.generateContentStreamInternal(R)),M=[],z=[];try{for(var P=!0,I=(_=void 0,Ur(D)),O;O=yield je(I.next()),v=O.done,!v;P=!0){E=O.value,P=!1;const U=E;if(yield yield je(U),U.candidates&&(!((T=U.candidates[0])===null||T===void 0)&&T.content)){z.push(U.candidates[0].content);for(const K of(C=U.candidates[0].content.parts)!==null&&C!==void 0?C:[])if(u<a&&K.functionCall){if(!K.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(K.functionCall.name)){const L=yield je(h.get(K.functionCall.name).callTool([K.functionCall]));M.push(...L)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${K.functionCall.name}`)}}}}catch(U){_={error:U}}finally{try{!P&&!v&&(S=I.return)&&(yield je(S.call(I)))}finally{if(_)throw _.error}}if(M.length>0){l=!0;const U=new Lu;U.candidates=[{content:{role:"user",parts:M}}],yield yield je(U);const K=[];K.push(...z),K.push({role:"user",parts:M});const L=_r(m.contents).concat(K);m.contents=L}else break}})})(this,f,t)}async generateContentInternal(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=uR(this.apiClient,t);return u=ye("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=dR(h),v=new Lu;return Object.assign(v,m),v})}else{const d=lR(this.apiClient,t);return u=ye("{model}:generateContent",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=cR(h),v=new Lu;return Object.assign(v,m),v})}}async generateContentStreamInternal(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=uR(this.apiClient,t);return u=ye("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(m){return Lr(this,arguments,function*(){var v,_,S,E;try{for(var T=!0,C=Ur(m),P;P=yield je(C.next()),v=P.done,!v;T=!0){E=P.value,T=!1;const I=E,O=dR(yield je(I.json()),t);O.sdkHttpResponse={headers:I.headers};const R=new Lu;Object.assign(R,O),yield yield je(R)}}catch(I){_={error:I}}finally{try{!T&&!v&&(S=C.return)&&(yield je(S.call(C)))}finally{if(_)throw _.error}}})})}else{const d=lR(this.apiClient,t);return u=ye("{model}:streamGenerateContent?alt=sse",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),l.then(function(m){return Lr(this,arguments,function*(){var v,_,S,E;try{for(var T=!0,C=Ur(m),P;P=yield je(C.next()),v=P.done,!v;T=!0){E=P.value,T=!1;const I=E,O=cR(yield je(I.json()),t);O.sdkHttpResponse={headers:I.headers};const R=new Lu;Object.assign(R,O),yield yield je(R)}}catch(I){_={error:I}}finally{try{!T&&!v&&(S=C.return)&&(yield je(S.call(C)))}finally{if(_)throw _.error}}})})}}async embedContent(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=_oe(this.apiClient,t);return u=ye("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=Soe(h),v=new HP;return Object.assign(v,m),v})}else{const d=xoe(this.apiClient,t);return u=ye("{model}:batchEmbedContents",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=woe(h),v=new HP;return Object.assign(v,m),v})}}async generateImagesInternal(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=Doe(this.apiClient,t);return u=ye("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=joe(h),v=new VP;return Object.assign(v,m),v})}else{const d=Moe(this.apiClient,t);return u=ye("{model}:predict",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=koe(h),v=new VP;return Object.assign(v,m),v})}}async editImageInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=goe(this.apiClient,t);return a=ye("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=voe(f),h=new _re;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=Dse(this.apiClient,t);return a=ye("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=kse(f),h=new wre;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=mse(this.apiClient,t);return a=ye("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=gse(f),h=new Sre;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=wse(this.apiClient,t);return a=ye("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=Sse(f),h=new Ere;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=Qoe(this.apiClient,t);return u=ye("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>Db(h))}else{const d=Zoe(this.apiClient,t);return u=ye("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>Mb(h))}}async listInternal(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=lse(this.apiClient,t);return u=ye("{models_url}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=cse(h),v=new KP;return Object.assign(v,m),v})}else{const d=sse(this.apiClient,t);return u=ye("{models_url}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=use(h),v=new KP;return Object.assign(v,m),v})}}async update(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=Rse(this.apiClient,t);return u=ye("{model}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>Db(h))}else{const d=Pse(this.apiClient,t);return u=ye("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>Mb(h))}}async delete(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=foe(this.apiClient,t);return u=ye("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=poe(h),v=new YP;return Object.assign(v,m),v})}else{const d=doe(this.apiClient,t);return u=ye("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=hoe(h),v=new YP;return Object.assign(v,m),v})}}async countTokens(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=loe(this.apiClient,t);return u=ye("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=coe(h),v=new WP;return Object.assign(v,m),v})}else{const d=soe(this.apiClient,t);return u=ye("{model}:countTokens",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=uoe(h),v=new WP;return Object.assign(v,m),v})}}async computeTokens(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=eoe(this.apiClient,t);return a=ye("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>{const d=toe(f),h=new Tre;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=qoe(this.apiClient,t);return u=ye("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>{const m=$oe(h),v=new Kh;return Object.assign(v,m),v})}else{const d=Boe(this.apiClient,t);return u=ye("{model}:predictLongRunning",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l.then(h=>{const m=zoe(h),v=new Kh;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nle extends Ji{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=mre(t);return u=ye("{operationName}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l}else{const d=pre(t);return u=ye("{operationName}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),l}}async fetchPredictVideosOperationInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=sre(t);return a=ye("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ole(e){const t={},n=g(e,["data"]);if(n!=null&&y(t,["data"],n),g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function Ile(e){const t={},n=g(e,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>zle(a))),y(t,["parts"],i)}const r=g(e,["role"]);return r!=null&&y(t,["role"],r),t}function Ple(e,t,n){const r={},i=g(t,["expireTime"]);n!==void 0&&i!=null&&y(n,["expireTime"],i);const a=g(t,["newSessionExpireTime"]);n!==void 0&&a!=null&&y(n,["newSessionExpireTime"],a);const l=g(t,["uses"]);n!==void 0&&l!=null&&y(n,["uses"],l);const u=g(t,["liveConnectConstraints"]);n!==void 0&&u!=null&&y(n,["bidiGenerateContentSetup"],Ule(e,u));const f=g(t,["lockAdditionalFields"]);return n!==void 0&&f!=null&&y(n,["fieldMask"],f),r}function Rle(e,t){const n={},r=g(t,["config"]);return r!=null&&y(n,["config"],Ple(e,r,n)),n}function Mle(e){const t={};if(g(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=g(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function Dle(e){const t={},n=g(e,["id"]);n!=null&&y(t,["id"],n);const r=g(e,["args"]);r!=null&&y(t,["args"],r);const i=g(e,["name"]);if(i!=null&&y(t,["name"],i),g(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function kle(e){const t={};if(g(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function jle(e){const t={};if(g(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function Lle(e,t){const n={},r=g(e,["generationConfig"]);t!==void 0&&r!=null&&y(t,["setup","generationConfig"],r);const i=g(e,["responseModalities"]);t!==void 0&&i!=null&&y(t,["setup","generationConfig","responseModalities"],i);const a=g(e,["temperature"]);t!==void 0&&a!=null&&y(t,["setup","generationConfig","temperature"],a);const l=g(e,["topP"]);t!==void 0&&l!=null&&y(t,["setup","generationConfig","topP"],l);const u=g(e,["topK"]);t!==void 0&&u!=null&&y(t,["setup","generationConfig","topK"],u);const f=g(e,["maxOutputTokens"]);t!==void 0&&f!=null&&y(t,["setup","generationConfig","maxOutputTokens"],f);const d=g(e,["mediaResolution"]);t!==void 0&&d!=null&&y(t,["setup","generationConfig","mediaResolution"],d);const h=g(e,["seed"]);t!==void 0&&h!=null&&y(t,["setup","generationConfig","seed"],h);const m=g(e,["speechConfig"]);t!==void 0&&m!=null&&y(t,["setup","generationConfig","speechConfig"],Q_(m));const v=g(e,["thinkingConfig"]);t!==void 0&&v!=null&&y(t,["setup","generationConfig","thinkingConfig"],v);const _=g(e,["enableAffectiveDialog"]);t!==void 0&&_!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],_);const S=g(e,["systemInstruction"]);t!==void 0&&S!=null&&y(t,["setup","systemInstruction"],Ile(Sn(S)));const E=g(e,["tools"]);if(t!==void 0&&E!=null){let D=Il(E);Array.isArray(D)&&(D=D.map(M=>Ble(Ol(M)))),y(t,["setup","tools"],D)}const T=g(e,["sessionResumption"]);t!==void 0&&T!=null&&y(t,["setup","sessionResumption"],$le(T));const C=g(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&y(t,["setup","inputAudioTranscription"],C);const P=g(e,["outputAudioTranscription"]);t!==void 0&&P!=null&&y(t,["setup","outputAudioTranscription"],P);const I=g(e,["realtimeInputConfig"]);t!==void 0&&I!=null&&y(t,["setup","realtimeInputConfig"],I);const O=g(e,["contextWindowCompression"]);t!==void 0&&O!=null&&y(t,["setup","contextWindowCompression"],O);const R=g(e,["proactivity"]);if(t!==void 0&&R!=null&&y(t,["setup","proactivity"],R),g(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Ule(e,t){const n={},r=g(t,["model"]);r!=null&&y(n,["setup","model"],tt(e,r));const i=g(t,["config"]);return i!=null&&y(n,["config"],Lle(i,n)),n}function zle(e){const t={},n=g(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=g(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const i=g(e,["executableCode"]);i!=null&&y(t,["executableCode"],i);const a=g(e,["fileData"]);a!=null&&y(t,["fileData"],Mle(a));const l=g(e,["functionCall"]);l!=null&&y(t,["functionCall"],Dle(l));const u=g(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const f=g(e,["inlineData"]);f!=null&&y(t,["inlineData"],Ole(f));const d=g(e,["text"]);d!=null&&y(t,["text"],d);const h=g(e,["thought"]);h!=null&&y(t,["thought"],h);const m=g(e,["thoughtSignature"]);m!=null&&y(t,["thoughtSignature"],m);const v=g(e,["videoMetadata"]);return v!=null&&y(t,["videoMetadata"],v),t}function $le(e){const t={},n=g(e,["handle"]);if(n!=null&&y(t,["handle"],n),g(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Ble(e){const t={};if(g(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=g(e,["computerUse"]);n!=null&&y(t,["computerUse"],n);const r=g(e,["fileSearch"]);r!=null&&y(t,["fileSearch"],r);const i=g(e,["codeExecution"]);if(i!=null&&y(t,["codeExecution"],i),g(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=g(e,["functionDeclarations"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(m=>m)),y(t,["functionDeclarations"],h)}const l=g(e,["googleMaps"]);l!=null&&y(t,["googleMaps"],kle(l));const u=g(e,["googleSearch"]);u!=null&&y(t,["googleSearch"],jle(u));const f=g(e,["googleSearchRetrieval"]);f!=null&&y(t,["googleSearchRetrieval"],f);const d=g(e,["urlContext"]);return d!=null&&y(t,["urlContext"],d),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qle(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);t.push(...i)}else t.push(n)}return t.join(",")}function Fle(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(e.bidiGenerateContentSetup=a,n=a):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const a=qle(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)a?e.fieldMask=a:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(d=>l.includes(d)?`generationConfig.${d}`:d));const f=[];a&&f.push(a),u.length>0&&f.push(...u),f.length>0?e.fieldMask=f.join(","):delete e.fieldMask}else delete e.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class Gle extends Ji{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=Rle(this.apiClient,t);a=ye("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const f=Fle(u,t.config);return i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hle(e,t){const n={},r=g(e,["force"]);return t!==void 0&&r!=null&&y(t,["_query","force"],r),n}function Vle(e){const t={},n=g(e,["name"]);n!=null&&y(t,["_url","name"],n);const r=g(e,["config"]);return r!=null&&Hle(r,t),t}function Kle(e){const t={},n=g(e,["name"]);return n!=null&&y(t,["_url","name"],n),t}function Yle(e,t){const n={},r=g(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const i=g(e,["pageToken"]);return t!==void 0&&i!=null&&y(t,["_query","pageToken"],i),n}function Wle(e){const t={},n=g(e,["parent"]);n!=null&&y(t,["_url","parent"],n);const r=g(e,["config"]);return r!=null&&Yle(r,t),t}function Jle(e){const t={},n=g(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=g(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const i=g(e,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["documents"],a)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xle extends Ji{constructor(t){super(),this.apiClient=t,this.list=async n=>new Fo(Bi.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Kle(t);return a=ye("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(t){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Vle(t);i=ye("{name}",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Wle(t);return a=ye("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=Jle(f),h=new Are;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zle extends Ji{constructor(t,n=new Xle(t)){super(),this.apiClient=t,this.documents=n,this.list=async(r={})=>new Fo(Bi.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=qse(t);return a=ye("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async get(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Hse(t);return a=ye("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}async delete(t){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Gse(t);i=ye("{name}",l._url),a=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Xse(t);return a=ye("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=Zse(f),h=new Cre;return Object.assign(h,d),h})}}async uploadToFileSearchStoreInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Qse(t);return a=ye("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=ele(f),h=new Nre;return Object.assign(h,d),h})}}async importFile(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Yse(t);return a=ye("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>{const d=Kse(f),h=new Y_;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let RL=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return RL=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const Qle=()=>RL();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jb(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const Lb=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Er extends Error{}class Rn extends Er{constructor(t,n,r,i){super(`${Rn.makeMessage(t,n,r)}`),this.status=t,this.headers=i,this.error=n}static makeMessage(t,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&i?`${t} ${i}`:t?`${t} status code (no body)`:i||"(no status code or body)"}static generate(t,n,r,i){if(!t||!i)return new Xp({message:r,cause:Lb(n)});const a=n;return t===400?new DL(t,a,r,i):t===401?new kL(t,a,r,i):t===403?new jL(t,a,r,i):t===404?new LL(t,a,r,i):t===409?new UL(t,a,r,i):t===422?new zL(t,a,r,i):t===429?new $L(t,a,r,i):t>=500?new BL(t,a,r,i):new Rn(t,a,r,i)}}class Ub extends Rn{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Xp extends Rn{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class ML extends Xp{constructor({message:t}={}){super({message:t??"Request timed out."})}}class DL extends Rn{}class kL extends Rn{}class jL extends Rn{}class LL extends Rn{}class UL extends Rn{}class zL extends Rn{}class $L extends Rn{}class BL extends Rn{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eue=/^[a-z][a-z0-9+.-]*:/i,tue=e=>eue.test(e);let zb=e=>(zb=Array.isArray,zb(e));const nue=zb;let rue=nue;const vR=rue;function iue(e){if(!e)return!0;for(const t in e)return!1;return!0}function aue(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const oue=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Er(`${e} must be an integer`);if(t<0)throw new Er(`${e} must be a positive integer`);return t},sue=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lue=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ks="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uue(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const cue=()=>{var e,t,n,r,i;const a=uue();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ks,"X-Stainless-OS":bR(Deno.build.os),"X-Stainless-Arch":yR(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ks,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ks,"X-Stainless-OS":bR((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":yR((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const l=due();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ks,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ks,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function due(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,a=r[2]||0,l=r[3]||0;return{browser:t,version:`${i}.${a}.${l}`}}}return null}const yR=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",bR=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Nf;const fue=()=>Nf??(Nf=cue());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hue(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function qL(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function pue(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return qL({start(){},async pull(n){const{done:r,value:i}=await t.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function FL(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function mue(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const r=e.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gue=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GL=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function c0(e,t,n){return GL(),new File(e,t??"unknown_file",n)}function vue(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const yue=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HL=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",bue=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&HL(e),xue=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function _ue(e,t,n){if(GL(),e=await e,bue(e))return e instanceof File?e:c0([await e.arrayBuffer()],e.name);if(xue(e)){const i=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),c0(await $b(i),t,n)}const r=await $b(e);if(t||(t=vue(e)),!(n!=null&&n.type)){const i=r.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return c0(r,t,n)}async function $b(e){var t,n,r,i,a;let l=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)l.push(e);else if(HL(e))l.push(e instanceof Blob?e:await e.arrayBuffer());else if(yue(e))try{for(var u=!0,f=Ur(e),d;d=await f.next(),t=d.done,!t;u=!0){i=d.value,u=!1;const h=i;l.push(...await $b(h))}}catch(h){n={error:h}}finally{try{!u&&!t&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}else{const h=(a=e==null?void 0:e.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof e}${h?`; constructor: ${h}`:""}${wue(e)}`)}return l}function wue(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VL{constructor(t){this._client=t}}VL._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KL(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const xR=Object.freeze(Object.create(null)),Sue=(e=KL)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const a=[],l=n.reduce((h,m,v)=>{var _,S,E;/[?#]/.test(m)&&(i=!0);const T=r[v];let C=(i?encodeURIComponent:e)(""+T);return v!==r.length&&(T==null||typeof T=="object"&&T.toString===((E=Object.getPrototypeOf((S=Object.getPrototypeOf((_=T.hasOwnProperty)!==null&&_!==void 0?_:xR))!==null&&S!==void 0?S:xR))===null||E===void 0?void 0:E.toString))&&(C=T+"",a.push({start:h.length+m.length,length:C.length,error:`Value of type ${Object.prototype.toString.call(T).slice(8,-1)} is not a valid path parameter`})),h+m+(v===r.length?"":C)},""),u=l.split(/[?#]/,1)[0],f=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=f.exec(u))!==null;)a.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(a.sort((h,m)=>h.start-m.start),a.length>0){let h=0;const m=a.reduce((v,_)=>{const S=" ".repeat(_.start-h),E="^".repeat(_.length);return h=_.start+_.length,v+S+E},"");throw new Er(`Path parameters result in path with invalid segments:
${a.map(v=>v.error).join(`
`)}
${l}
${m}`)}return l}),Of=Sue(KL);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YL extends VL{create(t,n){var r;const{api_version:i=this._client.apiVersion}=t,a=Wh(t,["api_version"]);if("model"in a&&"agent_config"in a)throw new Er("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new Er("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Of`/${i}/interactions`,Object.assign(Object.assign({body:a},n),{stream:(r=t.stream)!==null&&r!==void 0?r:!1}))}delete(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(Of`/${i}/interactions/${t}`,r)}cancel(t,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(Of`/${i}/interactions/${t}/cancel`,r)}get(t,n={},r){var i;const a=n??{},{api_version:l=this._client.apiVersion}=a,u=Wh(a,["api_version"]);return this._client.get(Of`/${l}/interactions/${t}`,Object.assign(Object.assign({query:u},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}YL._key=Object.freeze(["interactions"]);class WL extends YL{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Eue(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}let If;function tw(e){let t;return(If??(t=new globalThis.TextEncoder,If=t.encode.bind(t)))(e)}let Pf;function _R(e){let t;return(Pf??(t=new globalThis.TextDecoder,Pf=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zp{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?tw(t):t;this.buffer=Eue([this.buffer,n]);const r=[];let i;for(;(i=Tue(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(_R(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,l=_R(this.buffer.subarray(0,a));r.push(l),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Zp.NEWLINE_CHARS=new Set([`
`,"\r"]);Zp.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function Tue(e,t){for(let i=t??0;i<e.length;i++){if(e[i]===10)return{preceding:i,index:i+1,carriage:!1};if(e[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function Aue(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jh={off:0,error:200,warn:300,info:400,debug:500},wR=(e,t,n)=>{if(e){if(aue(Jh,e))return e;Cn(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Jh))}`)}};function Fu(){}function Rf(e,t,n){return!t||Jh[e]>Jh[n]?Fu:t[e].bind(t)}const Cue={error:Fu,warn:Fu,info:Fu,debug:Fu};let SR=new WeakMap;function Cn(e){var t;const n=e.logger,r=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return Cue;const i=SR.get(n);if(i&&i[0]===r)return i[1];const a={error:Rf("error",n,r),warn:Rf("warn",n,r),info:Rf("info",n,r),debug:Rf("debug",n,r)};return SR.set(n,[r,a]),a}const vo=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qs{constructor(t,n,r){this.iterator=t,this.controller=n,this.client=r}static fromSSEResponse(t,n,r){let i=!1;const a=r?Cn(r):console;function l(){return Lr(this,arguments,function*(){var f,d,h,m;if(i)throw new Er("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let v=!1;try{try{for(var _=!0,S=Ur(Nue(t,n)),E;E=yield je(S.next()),f=E.done,!f;_=!0){m=E.value,_=!1;const T=m;if(!v)if(T.data.startsWith("[DONE]")){v=!0;continue}else try{yield yield je(JSON.parse(T.data))}catch(C){throw a.error("Could not parse message into JSON:",T.data),a.error("From chunk:",T.raw),C}}}catch(T){d={error:T}}finally{try{!_&&!f&&(h=S.return)&&(yield je(h.call(S)))}finally{if(d)throw d.error}}v=!0}catch(T){if(jb(T))return yield je(void 0);throw T}finally{v||n.abort()}})}return new Qs(l,n,r)}static fromReadableStream(t,n,r){let i=!1;function a(){return Lr(this,arguments,function*(){var f,d,h,m;const v=new Zp,_=FL(t);try{for(var S=!0,E=Ur(_),T;T=yield je(E.next()),f=T.done,!f;S=!0){m=T.value,S=!1;const C=m;for(const P of v.decode(C))yield yield je(P)}}catch(C){d={error:C}}finally{try{!S&&!f&&(h=E.return)&&(yield je(h.call(E)))}finally{if(d)throw d.error}}for(const C of v.flush())yield yield je(C)})}function l(){return Lr(this,arguments,function*(){var f,d,h,m;if(i)throw new Er("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let v=!1;try{try{for(var _=!0,S=Ur(a()),E;E=yield je(S.next()),f=E.done,!f;_=!0){m=E.value,_=!1;const T=m;v||T&&(yield yield je(JSON.parse(T)))}}catch(T){d={error:T}}finally{try{!_&&!f&&(h=S.return)&&(yield je(h.call(S)))}finally{if(d)throw d.error}}v=!0}catch(T){if(jb(T))return yield je(void 0);throw T}finally{v||n.abort()}})}return new Qs(l,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),i=a=>({next:()=>{if(a.length===0){const l=r.next();t.push(l),n.push(l)}return a.shift()}});return[new Qs(()=>i(t),this.controller,this.client),new Qs(()=>i(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return qL({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:a}=await n.next();if(a)return r.close();const l=tw(JSON.stringify(i)+`
`);r.enqueue(l)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function Nue(e,t){return Lr(this,arguments,function*(){var r,i,a,l;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Er("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Er("Attempted to iterate over a response with no body");const u=new Iue,f=new Zp,d=FL(e.body);try{for(var h=!0,m=Ur(Oue(d)),v;v=yield je(m.next()),r=v.done,!r;h=!0){l=v.value,h=!1;const _=l;for(const S of f.decode(_)){const E=u.decode(S);E&&(yield yield je(E))}}}catch(_){i={error:_}}finally{try{!h&&!r&&(a=m.return)&&(yield je(a.call(m)))}finally{if(i)throw i.error}}for(const _ of f.flush()){const S=u.decode(_);S&&(yield yield je(S))}})}function Oue(e){return Lr(this,arguments,function*(){var n,r,i,a;let l=new Uint8Array;try{for(var u=!0,f=Ur(e),d;d=yield je(f.next()),n=d.done,!n;u=!0){a=d.value,u=!1;const h=a;if(h==null)continue;const m=h instanceof ArrayBuffer?new Uint8Array(h):typeof h=="string"?tw(h):h;let v=new Uint8Array(l.length+m.length);v.set(l),v.set(m,l.length),l=v;let _;for(;(_=Aue(l))!==-1;)yield yield je(l.slice(0,_)),l=l.slice(_)}}catch(h){r={error:h}}finally{try{!u&&!n&&(i=f.return)&&(yield je(i.call(f)))}finally{if(r)throw r.error}}l.length>0&&(yield yield je(l))})}class Iue{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,i]=Pue(t,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function Pue(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Rue(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:a}=t,l=await(async()=>{var u;if(t.options.stream)return Cn(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):Qs.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const f=n.headers.get("content-type"),d=(u=f==null?void 0:f.split(";")[0])===null||u===void 0?void 0:u.trim();return(d==null?void 0:d.includes("application/json"))||(d==null?void 0:d.endsWith("+json"))?n.headers.get("content-length")==="0"?void 0:await n.json():await n.text()})();return Cn(e).debug(`[${r}] response parsed`,vo({retryOfRequestLogID:i,url:n.url,status:n.status,body:l,durationMs:Date.now()-a})),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nw extends Promise{constructor(t,n,r=Rue){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=t}_thenUnwrap(t){return new nw(this.client,this.responsePromise,async(n,r)=>t(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const JL=Symbol("brand.privateNullableHeaders");function*Mue(e){if(!e)return;if(JL in e){const{values:r,nulls:i}=e;yield*r.entries();for(const a of i)yield[a,null];return}let t=!1,n;e instanceof Headers?n=e.entries():vR(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const a=vR(r[1])?r[1]:[r[1]];let l=!1;for(const u of a)u!==void 0&&(t&&!l&&(l=!0,yield[i,null]),yield[i,u])}}const Uu=e=>{const t=new Headers,n=new Set;for(const r of e){const i=new Set;for(const[a,l]of Mue(r)){const u=a.toLowerCase();i.has(u)||(t.delete(a),i.add(u)),l===null?(t.delete(a),n.add(u)):(t.append(a,l),n.delete(u))}}return{[JL]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const d0=e=>{var t,n,r,i,a,l;if(typeof globalThis.process<"u")return(r=(n=(t=tre)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(l=(a=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||a===void 0?void 0:a.call(i,e))===null||l===void 0?void 0:l.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var XL;class Qp{constructor(t){var n,r,i,a,l,u,f,{baseURL:d=d0("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(n=d0("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:m="v1beta"}=t,v=Wh(t,["baseURL","apiKey","apiVersion"]);const _=Object.assign(Object.assign({apiKey:h,apiVersion:m},v),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=_.baseURL,this.timeout=(r=_.timeout)!==null&&r!==void 0?r:Qp.DEFAULT_TIMEOUT,this.logger=(i=_.logger)!==null&&i!==void 0?i:console;const S="warn";this.logLevel=S,this.logLevel=(l=(a=wR(_.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:wR(d0("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:S,this.fetchOptions=_.fetchOptions,this.maxRetries=(u=_.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(f=_.fetch)!==null&&f!==void 0?f:hue(),this.encoder=gue,this._options=_,this.apiKey=h,this.apiVersion=m,this.clientAdapter=_.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=Uu([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Uu([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Uu([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Er(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ks}`}defaultIdempotencyKey(){return`stainless-node-retry-${Qle()}`}makeStatusError(t,n,r,i){return Rn.generate(t,n,r,i)}buildURL(t,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,a=tue(t)?new URL(t):new URL(i+(i.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),l=this.defaultQuery();return iue(l)||(n=Object.assign(Object.assign({},l),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:r}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:t,path:n},i)))}request(t,n=null){return new nw(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,r){var i,a,l;const u=await t,f=(i=u.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=f),await this.prepareOptions(u);const{req:d,url:h,timeout:m}=await this.buildRequest(u,{retryCount:f-n});await this.prepareRequest(d,{url:h,options:u});const v="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),_=r===void 0?"":`, retryOf: ${r}`,S=Date.now();if(Cn(this).debug(`[${v}] sending request`,vo({retryOfRequestLogID:r,method:u.method,url:h,options:u,headers:d.headers})),!((a=u.signal)===null||a===void 0)&&a.aborted)throw new Ub;const E=new AbortController,T=await this.fetchWithTimeout(h,d,m,E).catch(Lb),C=Date.now();if(T instanceof globalThis.Error){const I=`retrying, ${n} attempts remaining`;if(!((l=u.signal)===null||l===void 0)&&l.aborted)throw new Ub;const O=jb(T)||/timed? ?out/i.test(String(T)+("cause"in T?String(T.cause):""));if(n)return Cn(this).info(`[${v}] connection ${O?"timed out":"failed"} - ${I}`),Cn(this).debug(`[${v}] connection ${O?"timed out":"failed"} (${I})`,vo({retryOfRequestLogID:r,url:h,durationMs:C-S,message:T.message})),this.retryRequest(u,n,r??v);throw Cn(this).info(`[${v}] connection ${O?"timed out":"failed"} - error; no more retries left`),Cn(this).debug(`[${v}] connection ${O?"timed out":"failed"} (error; no more retries left)`,vo({retryOfRequestLogID:r,url:h,durationMs:C-S,message:T.message})),O?new ML:new Xp({cause:T})}const P=`[${v}${_}] ${d.method} ${h} ${T.ok?"succeeded":"failed"} with status ${T.status} in ${C-S}ms`;if(!T.ok){const I=await this.shouldRetry(T);if(n&&I){const U=`retrying, ${n} attempts remaining`;return await mue(T.body),Cn(this).info(`${P} - ${U}`),Cn(this).debug(`[${v}] response error (${U})`,vo({retryOfRequestLogID:r,url:T.url,status:T.status,headers:T.headers,durationMs:C-S})),this.retryRequest(u,n,r??v,T.headers)}const O=I?"error; no more retries left":"error; not retryable";Cn(this).info(`${P} - ${O}`);const R=await T.text().catch(U=>Lb(U).message),D=sue(R),M=D?void 0:R;throw Cn(this).debug(`[${v}] response error (${O})`,vo({retryOfRequestLogID:r,url:T.url,status:T.status,headers:T.headers,message:M,durationMs:Date.now()-S})),this.makeStatusError(T.status,D,M,T.headers)}return Cn(this).info(P),Cn(this).debug(`[${v}] response start`,vo({retryOfRequestLogID:r,url:T.url,status:T.status,headers:T.headers,durationMs:C-S})),{response:T,options:u,controller:E,requestLogID:v,retryOfRequestLogID:r,startTime:S}}async fetchWithTimeout(t,n,r,i){const a=n||{},{signal:l,method:u}=a,f=Wh(a,["signal","method"]),d=i.abort.bind(i);l&&l.addEventListener("abort",d,{once:!0});const h=setTimeout(d,r),m=globalThis.ReadableStream&&f.body instanceof globalThis.ReadableStream||typeof f.body=="object"&&f.body!==null&&Symbol.asyncIterator in f.body,v=Object.assign(Object.assign(Object.assign({signal:i.signal},m?{duplex:"half"}:{}),{method:"GET"}),f);u&&(v.method=u.toUpperCase());try{return await this.fetch.call(void 0,t,v)}finally{clearTimeout(h)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r,i){var a;let l;const u=i==null?void 0:i.get("retry-after-ms");if(u){const d=parseFloat(u);Number.isNaN(d)||(l=d)}const f=i==null?void 0:i.get("retry-after");if(f&&!l){const d=parseFloat(f);Number.isNaN(d)?l=Date.parse(f)-Date.now():l=d*1e3}if(!(l&&0<=l&&l<60*1e3)){const d=(a=t.maxRetries)!==null&&a!==void 0?a:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(n,d)}return await lue(l),this.makeRequest(t,n-1,r)}calculateDefaultRetryTimeoutMillis(t,n){const a=n-t,l=Math.min(.5*Math.pow(2,a),8),u=1-Math.random()*.25;return l*u*1e3}async buildRequest(t,{retryCount:n=0}={}){var r,i,a;const l=Object.assign({},t),{method:u,path:f,query:d,defaultBaseURL:h}=l,m=this.buildURL(f,d,h);"timeout"in l&&oue("timeout",l.timeout),l.timeout=(r=l.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:v,body:_}=this.buildBody({options:l}),S=await this.buildHeaders({options:t,method:u,bodyHeaders:v,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:S},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&_ instanceof globalThis.ReadableStream&&{duplex:"half"}),_&&{body:_}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(a=l.fetchOptions)!==null&&a!==void 0?a:{}),url:m,timeout:l.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:r,retryCount:i}){let a={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=t.idempotencyKey);const l=await this.authHeaders(t);let u=Uu([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),fue()),this._options.defaultHeaders,r,t.headers,l]);return this.validateHeaders(u),u.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const r=Uu([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&r.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:pue(t)}:this.encoder({body:t,headers:r})}}Qp.DEFAULT_TIMEOUT=6e4;class un extends Qp{constructor(){super(...arguments),this.interactions=new WL(this)}}XL=un;un.GeminiNextGenAPIClient=XL;un.GeminiNextGenAPIClientError=Er;un.APIError=Rn;un.APIConnectionError=Xp;un.APIConnectionTimeoutError=ML;un.APIUserAbortError=Ub;un.NotFoundError=LL;un.ConflictError=UL;un.RateLimitError=$L;un.BadRequestError=DL;un.AuthenticationError=kL;un.InternalServerError=BL;un.PermissionDeniedError=jL;un.UnprocessableEntityError=zL;un.toFile=_ue;un.Interactions=WL;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Due(e,t){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function kue(e,t){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function jue(e,t){const n={},r=g(e,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function Lue(e,t){const n={},r=g(e,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function Uue(e,t,n){const r={};if(g(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=g(e,["tunedModelDisplayName"]);if(t!==void 0&&i!=null&&y(t,["displayName"],i),g(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=g(e,["epochCount"]);t!==void 0&&a!=null&&y(t,["tuningTask","hyperparameters","epochCount"],a);const l=g(e,["learningRateMultiplier"]);if(l!=null&&y(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),g(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(g(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(g(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(g(e,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(g(e,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const u=g(e,["batchSize"]);t!==void 0&&u!=null&&y(t,["tuningTask","hyperparameters","batchSize"],u);const f=g(e,["learningRate"]);if(t!==void 0&&f!=null&&y(t,["tuningTask","hyperparameters","learningRate"],f),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(g(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(g(e,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(g(e,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(g(e,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(g(e,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return r}function zue(e,t,n){const r={};let i=g(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const R=g(e,["validationDataset"]);t!==void 0&&R!=null&&y(t,["supervisedTuningSpec"],f0(R))}else if(i==="PREFERENCE_TUNING"){const R=g(e,["validationDataset"]);t!==void 0&&R!=null&&y(t,["preferenceOptimizationSpec"],f0(R))}else if(i==="DISTILLATION"){const R=g(e,["validationDataset"]);t!==void 0&&R!=null&&y(t,["distillationSpec"],f0(R))}const a=g(e,["tunedModelDisplayName"]);t!==void 0&&a!=null&&y(t,["tunedModelDisplayName"],a);const l=g(e,["description"]);t!==void 0&&l!=null&&y(t,["description"],l);let u=g(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const R=g(e,["epochCount"]);t!==void 0&&R!=null&&y(t,["supervisedTuningSpec","hyperParameters","epochCount"],R)}else if(u==="PREFERENCE_TUNING"){const R=g(e,["epochCount"]);t!==void 0&&R!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],R)}else if(u==="DISTILLATION"){const R=g(e,["epochCount"]);t!==void 0&&R!=null&&y(t,["distillationSpec","hyperParameters","epochCount"],R)}let f=g(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const R=g(e,["learningRateMultiplier"]);t!==void 0&&R!=null&&y(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],R)}else if(f==="PREFERENCE_TUNING"){const R=g(e,["learningRateMultiplier"]);t!==void 0&&R!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],R)}else if(f==="DISTILLATION"){const R=g(e,["learningRateMultiplier"]);t!==void 0&&R!=null&&y(t,["distillationSpec","hyperParameters","learningRateMultiplier"],R)}let d=g(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const R=g(e,["exportLastCheckpointOnly"]);t!==void 0&&R!=null&&y(t,["supervisedTuningSpec","exportLastCheckpointOnly"],R)}else if(d==="PREFERENCE_TUNING"){const R=g(e,["exportLastCheckpointOnly"]);t!==void 0&&R!=null&&y(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],R)}else if(d==="DISTILLATION"){const R=g(e,["exportLastCheckpointOnly"]);t!==void 0&&R!=null&&y(t,["distillationSpec","exportLastCheckpointOnly"],R)}let h=g(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const R=g(e,["adapterSize"]);t!==void 0&&R!=null&&y(t,["supervisedTuningSpec","hyperParameters","adapterSize"],R)}else if(h==="PREFERENCE_TUNING"){const R=g(e,["adapterSize"]);t!==void 0&&R!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],R)}else if(h==="DISTILLATION"){const R=g(e,["adapterSize"]);t!==void 0&&R!=null&&y(t,["distillationSpec","hyperParameters","adapterSize"],R)}let m=g(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const R=g(e,["tuningMode"]);t!==void 0&&R!=null&&y(t,["supervisedTuningSpec","tuningMode"],R)}const v=g(e,["customBaseModel"]);t!==void 0&&v!=null&&y(t,["customBaseModel"],v);let _=g(n,["config","method"]);if(_===void 0&&(_="SUPERVISED_FINE_TUNING"),_==="SUPERVISED_FINE_TUNING"){const R=g(e,["batchSize"]);t!==void 0&&R!=null&&y(t,["supervisedTuningSpec","hyperParameters","batchSize"],R)}let S=g(n,["config","method"]);if(S===void 0&&(S="SUPERVISED_FINE_TUNING"),S==="SUPERVISED_FINE_TUNING"){const R=g(e,["learningRate"]);t!==void 0&&R!=null&&y(t,["supervisedTuningSpec","hyperParameters","learningRate"],R)}const E=g(e,["labels"]);t!==void 0&&E!=null&&y(t,["labels"],E);const T=g(e,["beta"]);t!==void 0&&T!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","beta"],T);const C=g(e,["baseTeacherModel"]);t!==void 0&&C!=null&&y(t,["distillationSpec","baseTeacherModel"],C);const P=g(e,["tunedTeacherModelSource"]);t!==void 0&&P!=null&&y(t,["distillationSpec","tunedTeacherModelSource"],P);const I=g(e,["sftLossWeightMultiplier"]);t!==void 0&&I!=null&&y(t,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],I);const O=g(e,["outputUri"]);return t!==void 0&&O!=null&&y(t,["outputUri"],O),r}function $ue(e,t){const n={},r=g(e,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=g(e,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);const a=g(e,["trainingDataset"]);a!=null&&Xue(a);const l=g(e,["config"]);return l!=null&&Uue(l,n),n}function Bue(e,t){const n={},r=g(e,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=g(e,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);const a=g(e,["trainingDataset"]);a!=null&&Zue(a,n,t);const l=g(e,["config"]);return l!=null&&zue(l,n,t),n}function que(e,t){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function Fue(e,t){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function Gue(e,t,n){const r={},i=g(e,["pageSize"]);t!==void 0&&i!=null&&y(t,["_query","pageSize"],i);const a=g(e,["pageToken"]);t!==void 0&&a!=null&&y(t,["_query","pageToken"],a);const l=g(e,["filter"]);return t!==void 0&&l!=null&&y(t,["_query","filter"],l),r}function Hue(e,t,n){const r={},i=g(e,["pageSize"]);t!==void 0&&i!=null&&y(t,["_query","pageSize"],i);const a=g(e,["pageToken"]);t!==void 0&&a!=null&&y(t,["_query","pageToken"],a);const l=g(e,["filter"]);return t!==void 0&&l!=null&&y(t,["_query","filter"],l),r}function Vue(e,t){const n={},r=g(e,["config"]);return r!=null&&Gue(r,n),n}function Kue(e,t){const n={},r=g(e,["config"]);return r!=null&&Hue(r,n),n}function Yue(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const a=g(e,["tunedModels"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>ZL(u))),y(n,["tuningJobs"],l)}return n}function Wue(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const a=g(e,["tuningJobs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(u=>Bb(u))),y(n,["tuningJobs"],l)}return n}function Jue(e,t){const n={},r=g(e,["name"]);r!=null&&y(n,["model"],r);const i=g(e,["name"]);return i!=null&&y(n,["endpoint"],i),n}function Xue(e,t){const n={};if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=g(e,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),y(n,["examples","examples"],i)}return n}function Zue(e,t,n){const r={};let i=g(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=g(e,["gcsUri"]);t!==void 0&&l!=null&&y(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=g(e,["gcsUri"]);t!==void 0&&l!=null&&y(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}else if(i==="DISTILLATION"){const l=g(e,["gcsUri"]);t!==void 0&&l!=null&&y(t,["distillationSpec","promptDatasetUri"],l)}let a=g(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const l=g(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&y(t,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(a==="PREFERENCE_TUNING"){const l=g(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&y(t,["preferenceOptimizationSpec","trainingDatasetUri"],l)}else if(a==="DISTILLATION"){const l=g(e,["vertexDatasetResource"]);t!==void 0&&l!=null&&y(t,["distillationSpec","promptDatasetUri"],l)}if(g(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function ZL(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["name"]);i!=null&&y(n,["name"],i);const a=g(e,["state"]);a!=null&&y(n,["state"],pL(a));const l=g(e,["createTime"]);l!=null&&y(n,["createTime"],l);const u=g(e,["tuningTask","startTime"]);u!=null&&y(n,["startTime"],u);const f=g(e,["tuningTask","completeTime"]);f!=null&&y(n,["endTime"],f);const d=g(e,["updateTime"]);d!=null&&y(n,["updateTime"],d);const h=g(e,["description"]);h!=null&&y(n,["description"],h);const m=g(e,["baseModel"]);m!=null&&y(n,["baseModel"],m);const v=g(e,["_self"]);return v!=null&&y(n,["tunedModel"],Jue(v)),n}function Bb(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["name"]);i!=null&&y(n,["name"],i);const a=g(e,["state"]);a!=null&&y(n,["state"],pL(a));const l=g(e,["createTime"]);l!=null&&y(n,["createTime"],l);const u=g(e,["startTime"]);u!=null&&y(n,["startTime"],u);const f=g(e,["endTime"]);f!=null&&y(n,["endTime"],f);const d=g(e,["updateTime"]);d!=null&&y(n,["updateTime"],d);const h=g(e,["error"]);h!=null&&y(n,["error"],h);const m=g(e,["description"]);m!=null&&y(n,["description"],m);const v=g(e,["baseModel"]);v!=null&&y(n,["baseModel"],v);const _=g(e,["tunedModel"]);_!=null&&y(n,["tunedModel"],_);const S=g(e,["preTunedModel"]);S!=null&&y(n,["preTunedModel"],S);const E=g(e,["supervisedTuningSpec"]);E!=null&&y(n,["supervisedTuningSpec"],E);const T=g(e,["preferenceOptimizationSpec"]);T!=null&&y(n,["preferenceOptimizationSpec"],T);const C=g(e,["distillationSpec"]);C!=null&&y(n,["distillationSpec"],C);const P=g(e,["tuningDataStats"]);P!=null&&y(n,["tuningDataStats"],P);const I=g(e,["encryptionSpec"]);I!=null&&y(n,["encryptionSpec"],I);const O=g(e,["partnerModelTuningSpec"]);O!=null&&y(n,["partnerModelTuningSpec"],O);const R=g(e,["customBaseModel"]);R!=null&&y(n,["customBaseModel"],R);const D=g(e,["experiment"]);D!=null&&y(n,["experiment"],D);const M=g(e,["labels"]);M!=null&&y(n,["labels"],M);const z=g(e,["outputUri"]);z!=null&&y(n,["outputUri"],z);const U=g(e,["pipelineJob"]);U!=null&&y(n,["pipelineJob"],U);const K=g(e,["serviceAccount"]);K!=null&&y(n,["serviceAccount"],K);const L=g(e,["tunedModelDisplayName"]);L!=null&&y(n,["tunedModelDisplayName"],L);const q=g(e,["veoTuningSpec"]);return q!=null&&y(n,["veoTuningSpec"],q),n}function Que(e,t){const n={},r=g(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(e,["name"]);i!=null&&y(n,["name"],i);const a=g(e,["metadata"]);a!=null&&y(n,["metadata"],a);const l=g(e,["done"]);l!=null&&y(n,["done"],l);const u=g(e,["error"]);return u!=null&&y(n,["error"],u),n}function f0(e,t){const n={},r=g(e,["gcsUri"]);r!=null&&y(n,["validationDatasetUri"],r);const i=g(e,["vertexDatasetResource"]);return i!=null&&y(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ece extends Ji{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Fo(Bi.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let l="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?l=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(l=a.name.split("/operations/")[0]),{name:l,state:Nb.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=Fue(t);return u=ye("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>Bb(h))}else{const d=que(t);return u=ye("{name}",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>ZL(h))}}async listInternal(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=Kue(t);return u=ye("tuningJobs",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=Wue(h),v=new JP;return Object.assign(v,m),v})}else{const d=Vue(t);return u=ye("tunedModels",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=Yue(h),v=new JP;return Object.assign(v,m),v})}}async cancel(t){var n,r,i,a;let l,u="",f={};if(this.apiClient.isVertexAI()){const d=kue(t);return u=ye("{name}:cancel",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=Lue(h),v=new XP;return Object.assign(v,m),v})}else{const d=Due(t);return u=ye("{name}:cancel",d._url),f=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=t.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:h.headers},v})),l.then(h=>{const m=jue(h),v=new XP;return Object.assign(v,m),v})}}async tuneInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI()){const u=Bue(t,t);return a=ye("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>Bb(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let i,a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=$ue(t);return a=ye("tunedModels",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:f.headers},h})),i.then(f=>Que(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tce{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const nce=1024*1024*8,rce=3,ice=1e3,ace=2,Xh="x-goog-upload-status";async function oce(e,t,n){var r;const i=await QL(e,t,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Xh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function sce(e,t,n){var r;const i=await QL(e,t,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Xh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=lL(a),u=new W_;return Object.assign(u,l),u}async function QL(e,t,n){var r,i;let a=0,l=0,u=new Ib(new Response),f="upload";for(a=e.size;l<a;){const d=Math.min(nce,a-l),h=e.slice(l,l+d);l+d>=a&&(f+=", finalize");let m=0,v=ice;for(;m<rce&&(u=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(l),"Content-Length":String(d)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[Xh]));)m++,await uce(v),v=v*ace;if(l+=d,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[Xh])!=="active")break;if(a<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function lce(e){return{size:e.size,type:e.type}}function uce(e){return new Promise(t=>setTimeout(t,e))}class cce{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await oce(t,n,r)}async uploadToFileSearchStore(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await sce(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await lce(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dce{create(t,n,r){return new fce(t,n,r)}}class fce{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ER="x-goog-api-key";class hce{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(ER)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(ER,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pce="gl-node/";class mce{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new un({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=n.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=are(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const i=new hce(this.apiKey);this.apiClient=new lle({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:pce+"web",uploader:new cce,downloader:new tce}),this.models=new Cle(this.apiClient),this.live=new _le(this.apiClient,i,new dce),this.batches=new kie(this.apiClient),this.chats=new gae(this.models,this.apiClient),this.caches=new hae(this.apiClient),this.files=new Nae(this.apiClient),this.operations=new Nle(this.apiClient),this.authTokens=new Gle(this.apiClient),this.tunings=new ece(this.apiClient),this.fileSearchStores=new Zle(this.apiClient)}}const gce=async(e,t,n)=>{const r=new mce({apiKey:void 0}),i=e.filter(d=>d.type==="INCOME").reduce((d,h)=>d+h.amount,0),a=e.filter(d=>d.type==="EXPENSE").reduce((d,h)=>d+h.amount,0),l=n.filter(d=>d.status==="PENDING").length,u=t.reduce((d,h)=>d+h.currentValue,0),f=`
    Como um consultor financeiro snior para a empresa Even Digital, analise os seguintes dados financeiros e fornea insights rpidos (em portugus):
    - Receitas Totais: R$ ${i.toLocaleString("pt-BR")}
    - Despesas Totais: R$ ${a.toLocaleString("pt-BR")}
    - Saldo: R$ ${(i-a).toLocaleString("pt-BR")}
    - Investimentos: R$ ${u.toLocaleString("pt-BR")}
    - Contas Pendentes: ${l} lanamentos.

    Por favor, d 3 dicas prticas baseadas nesses nmeros para melhorar a sade financeira da empresa. Seja conciso e profissional.
  `;try{return(await r.models.generateContent({model:"gemini-3-flash-preview",contents:f})).text||"Anlise indisponvel no momento."}catch(d){throw console.error("AI Analysis Error:",d),d}},vce=()=>{const[e,t]=A.useState("DASHBOARD"),[n,r]=A.useState(!0),[i,a]=A.useState(!0),[l,u]=A.useState(!1),[f,d]=A.useState(!0),[h,m]=A.useState([]),[v,_]=A.useState([]),[S,E]=A.useState([]),[T,C]=A.useState([]),[P,I]=A.useState([]),[O,R]=A.useState([]),[D,M]=A.useState(null),[z,U]=A.useState(!1),[K,L]=A.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}});A.useEffect(()=>{(async()=>{a(!0);try{console.log(" Buscando dados do Supabase...");const[{data:j,error:G},{data:W,error:re},{data:he,error:$},{data:J,error:ue},{data:pe,error:Ce},{data:xe,error:_e}]=await Promise.all([Be.from("Fluxo de caixa").select("*"),Be.from("investimento").select("*"),Be.from("contas_pagar_receber").select("*"),Be.from("previsao_despesa").select("*"),Be.from("Categoria").select("*"),Be.from("Contratos").select("*")]);if(console.log(" Resultado Fluxo de caixa:",{count:(j==null?void 0:j.length)||0,error:G}),console.log(" Resultado Investimento:",{count:(W==null?void 0:W.length)||0,error:re}),console.log(" Resultado Contas Pagar/Receber:",{count:(he==null?void 0:he.length)||0,error:$}),console.log(" Resultado DRE (Entrada/Sada):",{count:(J==null?void 0:J.length)||0,error:ue}),console.log(" Resultado Categoria:",{count:(pe==null?void 0:pe.length)||0,error:Ce}),j&&j.length>0){console.log(" Mapeando",j.length,"transaes"),console.log(" Exemplo de registro:",j[0]);const te=j.map(B=>({id:B.id,date:B.data||B.Data,description:B.descricao||B.Descrio,amount:Math.abs(B.valor||B.Valor),balance:B.saldo||B.Saldo,type:B.tipo||(B.Valor>=0?"INCOME":"EXPENSE"),categoryId:B.categoria_id||"",subCategoryId:B.subcategoria_id||"",notas:B.notas||"",tags:Array.isArray(B.tags)?B.tags:B.Tags&&Array.isArray(B.Tags)?B.Tags:[]}));console.log(" Transaes mapeadas:",te.length),m(te)}else console.log(" Nenhuma transao encontrada"),m([]);if(W&&W.length>0){console.log(" Mapeando",W.length,"investimentos"),console.log(" Exemplo de investimento:",W[0]);const te=W.map(B=>({id:B.id,description:B.descrio,amount:B.entrada||B.sada||0,type:B.entrada?"INCOME":"EXPENSE",date_lancamento:B.data_lancamento}));console.log(" Investimentos mapeados:",te.length),_(te)}else console.log(" Nenhum investimento encontrado"),_([]);if(he&&he.length>0){const te=he.map(B=>({id:B.id,data:B.data,descricao:B.descricao,entrada:B.entrada||0,saida:B.sada||0}));E(te)}else E([]);if(J&&J.length>0){const te=J.map(B=>({id:B.id,description:B.descrio,amount:B.valor,type:B.entrada_saida==="INCOME"?"INCOME":"EXPENSE",recorrente:B["recorrente?"]==="sim",mes:B.mes,endMonth:B.fim_periodo,categoryId:B.categoria,subCategoryId:B.subcategoria}));C(te)}else C([]);if(pe){console.log(" Dados brutos do Supabase (Categoria):",pe);const{data:te,error:B}=await Be.from("Subcategoria").select("*");console.log(" Subcategorias do Supabase:",te);const ce=pe.map(me=>{let oe="INCOME";me.etiquetas==="entrada"?oe="INCOME":me.etiquetas==="sada"?oe="EXPENSE":me.tipo?oe=me.tipo:me.type&&(oe=me.type);const De=te?te.filter(ge=>String(ge.categoria_id)===String(me.id)).map(ge=>({id:ge.id,name:ge.nome||ge.name||"Sem nome"})):[];return{id:me.id,name:me.Categoria||me.nome||me.name||"Sem nome",type:oe,color:me.cor||(oe==="INCOME"?"#10b981":"#ef4444"),subCategories:De}});console.log(" Categorias formatadas para o app:",ce),console.log(`Total: ${ce.length} categorias`),I(ce)}if(xe&&xe.length>0){const te=xe.map(B=>({id:B.id,nome_cliente:B["Nome cliente"],servico:B.Servio,pago:B.Pago,receber:B.Receber,data_pagamento:B.data_pagamento,inicio_contrato:B.inicio_contrato,final_contrato:B.final_contrato,parcela:B.parcela||null}));R(te)}else R([])}catch(j){console.error("Erro ao buscar dados do Supabase:",j)}finally{a(!1)}})()},[]);const q=()=>{L({isOpen:!0,title:"Deseja realmente sair?",message:"Voc precisar entrar novamente para acessar seus dados financeiros.",type:"warning",onConfirm:()=>{localStorage.removeItem("isLoggedIn"),localStorage.removeItem("userEmail"),window.location.reload()}})},Z=async()=>{U(!0);try{const se=await gce(h,v,S);M(se)}catch(se){console.error(se),M("Erro ao gerar anlise. Tente novamente mais tarde.")}finally{U(!1)}},ae=()=>{if(i)return b.jsxs("div",{className:"flex flex-col items-center justify-center h-[60vh] text-slate-400",children:[b.jsx(Yu,{className:"animate-spin mb-4",size:48}),b.jsx("p",{className:"font-medium text-lg",children:"Sincronizando com Supabase Cloud..."})]});switch(e){case"DASHBOARD":return b.jsx(yI,{transactions:h,investments:v,bills:S,forecasts:T,categories:P});case"TRANSACTIONS":return b.jsx(Yne,{transactions:h,setTransactions:m,categories:P});case"INVESTMENTS":return b.jsx(Wne,{investments:v,setInvestments:_,onTransactionsChange:m});case"BILLS":return b.jsx(Jne,{bills:S,setBills:E});case"FORECAST":return b.jsx(Xne,{forecasts:T,setForecasts:C,transactions:h,categories:P});case"CONTRACTS":return b.jsx(Zne,{contracts:O,setContracts:R,setBills:E,setTransactions:m});case"CATEGORIES":return b.jsx(Qne,{categories:P,setCategories:I});case"IMPORT":return b.jsx(ere,{setTransactions:m,categories:P,onComplete:()=>t("TRANSACTIONS")});default:return b.jsx(yI,{transactions:h,investments:v,bills:S,forecasts:T,categories:P})}};return b.jsxs("div",{className:"flex h-screen bg-slate-50 overflow-hidden",children:[b.jsxs("aside",{className:`${n?"w-64":"w-20"} bg-white border-r border-gray-200 transition-all duration-300 flex flex-col shadow-lg`,children:[b.jsxs("div",{className:"p-6 flex items-center gap-3",children:[b.jsx("img",{src:"https://i.ibb.co/gZcFGqVt/Brand-03.png",alt:"Even Digital",className:"h-10 w-auto"}),n&&b.jsx("span",{className:"text-gray-900 font-bold text-lg",children:"Digital"})]}),b.jsxs("nav",{className:"flex-1 mt-6",children:[b.jsx(Ea,{icon:b.jsx(w$,{size:20}),label:"Dashboard",active:e==="DASHBOARD",onClick:()=>t("DASHBOARD"),collapsed:!n}),b.jsx(Ea,{icon:b.jsx(p0,{size:20}),label:"Fluxo de Caixa",active:e==="TRANSACTIONS",onClick:()=>t("TRANSACTIONS"),collapsed:!n}),b.jsx(Ea,{icon:b.jsx(Ci,{size:20}),label:"Investimentos",active:e==="INVESTMENTS",onClick:()=>t("INVESTMENTS"),collapsed:!n}),b.jsx(Ea,{icon:b.jsx(Vz,{size:20}),label:"Contas",active:e==="BILLS",onClick:()=>t("BILLS"),collapsed:!n}),b.jsx(Ea,{icon:b.jsx(DR,{size:20}),label:"Previso",active:e==="FORECAST",onClick:()=>t("FORECAST"),collapsed:!n}),b.jsx(Ea,{icon:b.jsx(Fb,{size:20}),label:"Contratos",active:e==="CONTRACTS",onClick:()=>t("CONTRACTS"),collapsed:!n}),b.jsx(Ea,{icon:b.jsx(m0,{size:20}),label:"Categorias",active:e==="CATEGORIES",onClick:()=>t("CATEGORIES"),collapsed:!n}),b.jsx(Ea,{icon:b.jsx(MR,{size:20}),label:"Importar CSV",active:e==="IMPORT",onClick:()=>t("IMPORT"),collapsed:!n})]}),b.jsxs("div",{className:"p-4",children:[b.jsxs("button",{onClick:Z,disabled:z,className:`w-full flex items-center justify-center gap-2 py-3 rounded-xl bg-blue-600 hover:bg-blue-700 text-white font-medium transition-all shadow-md hover:shadow-lg ${z?"opacity-50 cursor-not-allowed":""}`,children:[b.jsx(dA,{size:20}),n&&(z?"Analisando...":"IA Insights")]}),n&&b.jsxs("button",{onClick:q,className:"w-full mt-3 flex items-center justify-center gap-2 py-3 rounded-xl bg-red-50 hover:bg-red-100 text-red-600 hover:text-red-700 font-medium transition-all border border-red-200",children:[b.jsx(O$,{size:18}),"Sair"]})]}),b.jsx("button",{onClick:()=>r(!n),className:"p-4 text-gray-400 hover:text-gray-700 flex justify-center border-t border-gray-200",children:n?b.jsx(Wu,{size:20}):b.jsx(R$,{size:20})})]}),b.jsxs("main",{className:"flex-1 overflow-y-auto",children:[b.jsxs("header",{className:"bg-white h-16 border-b border-slate-200 flex items-center justify-between px-8 sticky top-0 z-10",children:[b.jsx("h1",{className:"text-xl font-semibold text-slate-800",children:e==="DASHBOARD"?"Viso Geral":e==="TRANSACTIONS"?"Fluxo de Caixa":e==="INVESTMENTS"?"Investimentos":e==="BILLS"?"Contas":e==="FORECAST"?"Previso":e==="CATEGORIES"?"Categorias":"Importao"}),b.jsx("div",{className:"flex items-center gap-4",children:b.jsxs("div",{className:"text-right",children:[b.jsx("p",{className:"text-xs text-slate-500",children:"Saldo Consolidado Cloud"}),b.jsxs("p",{className:"font-bold text-slate-900",children:["R$ ",h.reduce((se,j)=>j.type==="INCOME"?se+j.amount:se-j.amount,0).toLocaleString("pt-BR",{minimumFractionDigits:2})]})]})})]}),b.jsxs("div",{className:"p-8 max-w-7xl mx-auto",children:[D&&b.jsxs("div",{className:"mb-8 p-6 bg-indigo-50 border border-indigo-100 rounded-xl relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 right-0 p-2",children:b.jsx("button",{onClick:()=>M(null),className:"text-indigo-400 hover:text-indigo-600",children:b.jsx(Wu,{size:18})})}),b.jsxs("div",{className:"flex items-start gap-4",children:[b.jsx("div",{className:"p-3 bg-white rounded-full text-indigo-600 shadow-sm",children:b.jsx(dA,{size:24})}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-indigo-900 font-bold mb-1",children:"Anlise da Even AI"}),b.jsx("div",{className:"text-indigo-800 prose prose-indigo max-w-none whitespace-pre-line text-sm leading-relaxed",children:D})]})]})]}),ae()]})]}),b.jsx(qo,{isOpen:K.isOpen,title:K.title,message:K.message,type:K.type,onConfirm:K.onConfirm,onCancel:()=>L({...K,isOpen:!1})})]})},Ea=({icon:e,label:t,active:n,onClick:r,collapsed:i})=>b.jsxs("button",{onClick:r,className:`w-full flex items-center gap-3 px-6 py-4 transition-colors ${n?"bg-blue-50 text-blue-600 border-r-4 border-blue-600":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[b.jsx("div",{className:n?"text-blue-600":"text-gray-600",children:e}),!i&&b.jsx("span",{className:"font-medium text-sm",children:t})]}),yce=({onLoginSuccess:e})=>{const[t,n]=A.useState(""),[r,i]=A.useState(""),[a,l]=A.useState(!1),[u,f]=A.useState(!1),[d,h]=A.useState(""),m=async v=>{v.preventDefault(),f(!0),h("");try{const{data:_,error:S}=await Be.from("Logins").select("*").eq("email",t).eq("senha",r).single();if(S||!_)throw new Error("Email ou senha incorretos");localStorage.setItem("isLoggedIn","true"),localStorage.setItem("userEmail",t),e()}catch(_){h(_.message||"Erro ao fazer login")}finally{f(!1)}};return b.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-100 flex items-center justify-center p-4 relative overflow-hidden",style:{fontFamily:"'Poppins', 'Inter', sans-serif"},children:[b.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap",rel:"stylesheet"}),b.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(ellipse_at_top,_var(--tw-gradient-stops))] from-blue-200/30 via-transparent to-transparent"}),b.jsx("div",{className:"absolute top-20 left-10 w-20 h-20 bg-blue-200/30 rounded-full blur-2xl animate-pulse"}),b.jsx("div",{className:"absolute bottom-20 right-10 w-32 h-32 bg-blue-300/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),b.jsx("div",{className:"absolute top-1/2 right-1/4 w-16 h-16 bg-blue-100/40 rounded-full blur-xl animate-pulse",style:{animationDelay:"2s"}}),b.jsx("div",{className:"absolute inset-0 opacity-5",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%230ea5e9' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),b.jsxs("div",{className:"relative z-10 w-full max-w-md",children:[b.jsxs("div",{className:"bg-white/90 backdrop-blur-xl rounded-3xl shadow-2xl border border-blue-100/50 p-8 relative overflow-hidden",children:[b.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-blue-400 via-blue-500 to-blue-400"}),b.jsxs("div",{className:"text-center mb-8",children:[b.jsx("div",{className:"flex justify-center mb-4",children:b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-0 bg-blue-400/20 rounded-2xl blur-xl"}),b.jsx("img",{src:"https://i.ibb.co/gZcFGqVt/Brand-03.png",alt:"Even Digital",className:"h-16 w-auto relative z-10"})]})}),b.jsxs("h1",{className:"text-3xl font-bold mb-2",children:[b.jsx("span",{className:"text-gray-800",children:"EVEN"}),b.jsx("span",{className:"text-blue-500",children:"DIGITAL"})]}),b.jsx("p",{className:"text-gray-500 text-sm font-medium tracking-wide",children:"Financial Management Center"})]}),b.jsxs("div",{className:"flex justify-center gap-2 mb-6",children:[b.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-blue-50 rounded-full border border-blue-100",children:[b.jsx(L$,{size:14,className:"text-blue-500"}),b.jsx("span",{className:"text-xs font-medium text-blue-600",children:"Seguro"})]}),b.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-blue-50 rounded-full border border-blue-100",children:[b.jsx(V$,{size:14,className:"text-blue-500"}),b.jsx("span",{className:"text-xs font-medium text-blue-600",children:"Rpido"})]}),b.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 bg-blue-50 rounded-full border border-blue-100",children:[b.jsx(Ci,{size:14,className:"text-blue-500"}),b.jsx("span",{className:"text-xs font-medium text-blue-600",children:"Inteligente"})]})]}),d&&b.jsx("div",{className:"mb-6 p-3 bg-red-50 border border-red-200 rounded-xl",children:b.jsx("p",{className:"text-red-600 text-sm text-center font-medium",children:d})}),b.jsxs("form",{onSubmit:m,className:"space-y-5",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-gray-700 text-sm font-semibold mb-2",children:"Usurio"}),b.jsx("input",{type:"email",required:!0,value:t,onChange:v=>n(v.target.value),className:"w-full px-4 py-3.5 bg-blue-50/50 border-2 border-blue-100 rounded-xl text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all font-medium",placeholder:"Digite seu usurio"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-gray-700 text-sm font-semibold mb-2",children:"Senha"}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:a?"text":"password",required:!0,value:r,onChange:v=>i(v.target.value),className:"w-full px-4 py-3.5 bg-blue-50/50 border-2 border-blue-100 rounded-xl text-gray-800 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all pr-12 font-medium",placeholder:""}),b.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:a?b.jsx(h$,{size:20}):b.jsx(RR,{size:20})})]})]}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[b.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-blue-300 text-blue-500 focus:ring-blue-400"}),b.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"Lembrar-me"})]}),b.jsx("a",{href:"#",className:"text-sm text-blue-500 hover:text-blue-600 font-medium transition-colors",children:"Esqueceu a senha?"})]}),b.jsx("button",{type:"submit",disabled:u,className:"w-full py-4 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl font-semibold transition-all shadow-lg shadow-blue-500/30 hover:shadow-blue-500/50 hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center justify-center gap-2 mt-6",children:u?b.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):b.jsxs(b.Fragment,{children:["Acessar Dashboard",b.jsx(C$,{size:20})]})})]}),b.jsxs("div",{className:"flex items-center gap-3 my-6",children:[b.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-blue-200 to-transparent"}),b.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400"}),b.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-blue-200 to-transparent"})]}),b.jsx("div",{className:"text-center",children:b.jsx("p",{className:"text-gray-400 text-xs font-medium",children:" 2026 Even Digital. Todos os direitos reservados."})})]}),b.jsx("div",{className:"mt-8 text-center",children:b.jsxs("div",{className:"flex justify-center gap-2",children:[b.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500 shadow-lg shadow-blue-500/50"}),b.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-300"}),b.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-200"})]})})]})]})},bce=()=>{const[e,t]=A.useState(!1),[n,r]=A.useState(!0);return A.useEffect(()=>{const i=localStorage.getItem("isLoggedIn")==="true";t(i),r(!1)},[]),n?b.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-br from-blue-600 via-blue-700 to-indigo-800",children:b.jsxs("div",{className:"flex flex-col items-center gap-4",children:[b.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-white border-t-transparent"}),b.jsx("p",{className:"text-white text-lg font-medium",children:"Carregando..."})]})}):e?b.jsx(vce,{}):b.jsx(yce,{onLoginSuccess:()=>t(!0)})},eU=document.getElementById("root");if(!eU)throw new Error("Could not find root element to mount to");const xce=Dz.createRoot(eU);xce.render(b.jsx(TR.StrictMode,{children:b.jsx(bce,{})}));
